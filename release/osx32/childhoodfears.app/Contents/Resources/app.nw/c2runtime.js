// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var s,ca,fa,ga,ha,ia,ja,ka,la,ma,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,Ba,Ca,Da,Ea,Fa,Ga,v,Ha,Ia,Ja,Ka,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec,fc={},gc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,b,c,d){this.set(a,b,c,d)}function c(){this.Kd=this.Jd=this.Md=this.Ld=this.Wd=this.Vd=this.tc=this.sc=0}function b(a,b,c,d){a<b?c<d?(t=a<c?a:c,u=b>d?b:d):(t=a<d?a:d,u=b>c?b:c):c<d?(t=b<c?b:c,u=a>d?a:d):(t=b<d?b:d,u=a>c?a:c)}function d(){this.items=this.Ag=null;this.Ml=0;x&&(this.Ag=new Set);this.Am=[];this.$i=!0}function e(a){B[F++]=a}function f(){this.Wa=this.gs=this.y=this.D=0}function h(a){this.Gc=[];this.yp=this.Ap=this.Bp=this.zp=0;this.Pp=null;this.Jo(a)}function g(a,
b){this.qt=a;this.pt=b;this.cells={}}function n(a,b){this.qt=a;this.pt=b;this.cells={}}function m(a,b,c){var d;return E.length?(d=E.pop(),d.gu=a,d.x=b,d.y=c,d):new fa(a,b,c)}function l(a,b,c){this.gu=a;this.x=b;this.y=c;this.vd=new ga}function k(a,b,c){var d;return D.length?(d=D.pop(),d.gu=a,d.x=b,d.y=c,d):new ha(a,b,c)}function p(a,b,c){this.gu=a;this.x=b;this.y=c;this.vd=[];this.Ll=!0;this.ph=new ga;this.bn=!1}function r(a,b){return a.Gg-b.Gg}ia=function(a){window.console&&window.console.log&&window.console.log(a)};
ja=function(a){window.console&&window.console.error&&window.console.error(a)};ca=function(a){return a};ka=function(a){return"undefined"===typeof a};la=function(a){return"number"===typeof a};ma=function(a){return"string"===typeof a};pa=function(a){return 0<a&&0===(a-1&a)};qa=function(a){--a;for(var b=1;32>b;b<<=1)a|=a>>b;return a+1};ra=function(a){return 0>a?-a:a};sa=function(a,b){return a<b?a:b};ta=Math.PI;ua=function(a){return 0<=a?a|0:(a|0)-1};va=function(a){var b=a|0;return b===a?b:b+1};wa=function(a,
b,c,d,f,k,l,e){var h,x,g,p;a<c?(x=a,h=c):(x=c,h=a);f<l?(p=f,g=l):(p=l,g=f);if(h<p||x>g)return!1;b<d?(x=b,h=d):(x=d,h=b);k<e?(p=k,g=e):(p=e,g=k);if(h<p||x>g)return!1;h=f-a+l-c;x=k-b+e-d;a=c-a;b=d-b;f=l-f;k=e-k;e=ra(b*f-k*a);return ra(f*x-k*h)>e?!1:ra(a*x-b*h)<=e};a.prototype.set=function(a,b,c,d){this.left=a;this.top=b;this.right=c;this.bottom=d};a.prototype.ln=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=function(){return this.right-this.left};
a.prototype.height=function(){return this.bottom-this.top};a.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.LF=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.MF=function(a,b,c){return!(a.right+b<
this.left||a.bottom+c<this.top||a.left+b>this.right||a.top+c>this.bottom)};a.prototype.de=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};a.prototype.dq=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};xa=a;c.prototype.Io=function(a){this.sc=a.left;this.tc=a.top;this.Vd=a.right;this.Wd=a.top;this.Ld=a.right;this.Md=a.bottom;this.Jd=a.left;this.Kd=a.bottom};c.prototype.tA=function(a,b){if(0===b)this.Io(a);else{var c=
Math.sin(b),d=Math.cos(b),f=a.left*c,k=a.top*c,l=a.right*c,c=a.bottom*c,e=a.left*d,h=a.top*d,x=a.right*d,d=a.bottom*d;this.sc=e-k;this.tc=h+f;this.Vd=x-k;this.Wd=h+l;this.Ld=x-c;this.Md=d+l;this.Jd=e-c;this.Kd=d+f}};c.prototype.offset=function(a,b){this.sc+=a;this.tc+=b;this.Vd+=a;this.Wd+=b;this.Ld+=a;this.Md+=b;this.Jd+=a;this.Kd+=b;return this};var t=0,u=0;c.prototype.Ox=function(a){b(this.sc,this.Vd,this.Ld,this.Jd);a.left=t;a.right=u;b(this.tc,this.Wd,this.Md,this.Kd);a.top=t;a.bottom=u};c.prototype.de=
function(a,b){var c=this.Vd-this.sc,d=this.Wd-this.tc,f=this.Ld-this.sc,k=this.Md-this.tc,l=a-this.sc,e=b-this.tc,h=c*c+d*d,x=c*f+d*k,d=c*l+d*e,g=f*f+k*k,p=f*l+k*e,m=1/(h*g-x*x),c=(g*d-x*p)*m,h=(h*p-x*d)*m;if(0<=c&&0<h&&1>c+h)return!0;c=this.Jd-this.sc;d=this.Kd-this.tc;h=c*c+d*d;x=c*f+d*k;d=c*l+d*e;m=1/(h*g-x*x);c=(g*d-x*p)*m;h=(h*p-x*d)*m;return 0<=c&&0<h&&1>c+h};c.prototype.Xi=function(a,b){if(b)switch(a){case 0:return this.sc;case 1:return this.Vd;case 2:return this.Ld;case 3:return this.Jd;case 4:return this.sc;
default:return this.sc}else switch(a){case 0:return this.tc;case 1:return this.Wd;case 2:return this.Md;case 3:return this.Kd;case 4:return this.tc;default:return this.tc}};c.prototype.vj=function(){return(this.sc+this.Vd+this.Ld+this.Jd)/4};c.prototype.wj=function(){return(this.tc+this.Wd+this.Md+this.Kd)/4};c.prototype.Ly=function(a){var b=a.vj(),c=a.wj();if(this.de(b,c))return!0;b=this.vj();c=this.wj();if(a.de(b,c))return!0;var d,f,k,l,e,h,x,g;for(x=0;4>x;x++)for(g=0;4>g;g++)if(b=this.Xi(x,!0),
c=this.Xi(x,!1),d=this.Xi(x+1,!0),f=this.Xi(x+1,!1),k=a.Xi(g,!0),l=a.Xi(g,!1),e=a.Xi(g+1,!0),h=a.Xi(g+1,!1),wa(b,c,d,f,k,l,e,h))return!0;return!1};ya=c;Ba=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};Ca=function(a,b){var c,d;b=ua(b);if(!(0>b||b>=a.length)){c=b;for(d=a.length-1;c<d;c++)a[c]=a[c+1];a.length=d}};Da=function(a,b){a.length=b.length;var c,d;c=0;for(d=b.length;c<d;c++)a[c]=b[c]};Ea=function(a,b){a.push.apply(a,b)};Fa=function(a,b){var c,d;c=0;for(d=a.length;c<
d;++c)if(a[c]===b)return c;return-1};Ga=function(a,b){var c=Fa(a,b);-1!==c&&Ca(a,c)};v=function(a){return a/(180/ta)};Ha=function(a){return 180/ta*a};Ia=function(a){a%=360;0>a&&(a+=360);return a};Ja=function(a){a%=2*ta;0>a&&(a+=2*ta);return a};Ka=function(a){return Ia(Ha(a))};Oa=function(a){return Ja(v(a))};Pa=function(a,b,c,d){return Math.atan2(d-b,c-a)};Qa=function(a,b){if(a===b)return 0;var c=Math.sin(a),d=Math.cos(a),f=Math.sin(b),k=Math.cos(b),c=c*f+d*k;return 1<=c?0:-1>=c?ta:Math.acos(c)};Ra=
function(a,b,c){var d=Math.sin(a),f=Math.cos(a),k=Math.sin(b),l=Math.cos(b);return Math.acos(d*k+f*l)>c?0<f*k-d*l?Ja(a+c):Ja(a-c):Ja(b)};Sa=function(a,b){var c=Math.sin(a),d=Math.cos(a),f=Math.sin(b),k=Math.cos(b);return 0>=d*f-c*k};Ta=function(a,b,c,d,f,k){if(0===c)return k?a:b;var l=Math.sin(c);c=Math.cos(c);a-=d;b-=f;var e=a*l;a=a*c-b*l;b=b*c+e;return k?a+d:b+f};Ua=function(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b)};Va=function(a,b){return!a!==!b};Wa=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;
return!1};Xa=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var q=+new Date;Ya=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-q};var z=!1,A=z=!1,G=!1;"undefined"!==typeof window&&(z=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),
z=!z&&/safari/i.test(navigator.userAgent),A=/(iphone|ipod|ipad)/i.test(navigator.userAgent),G=window.c2ejecta);var x=!z&&!G&&!A&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.ci()?!1:x?this.Ag.has(a):this.items&&this.items.hasOwnProperty(a)};d.prototype.add=function(a){if(x)this.Ag.has(a)||(this.Ag.add(a),this.$i=!1);else{var b=a.toString(),c=this.items;c?c.hasOwnProperty(b)||(c[b]=a,this.Ml++,this.$i=!1):(this.items={},this.items[b]=
a,this.Ml=1,this.$i=!1)}};d.prototype.remove=function(a){if(!this.ci())if(x)this.Ag.has(a)&&(this.Ag["delete"](a),this.$i=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.Ml--,this.$i=!1)}};d.prototype.clear=function(){this.ci()||(x?this.Ag.clear():(this.items=null,this.Ml=0),this.Am.length=0,this.$i=!0)};d.prototype.ci=function(){return 0===this.count()};d.prototype.count=function(){return x?this.Ag.size:this.Ml};var B=null,F=0;d.prototype.FH=function(){if(!this.$i){if(x)this.Am.length=
this.Ag.size,B=this.Am,F=0,this.Ag.forEach(e),B=null,F=0;else{var a=this.Am;a.length=this.Ml;var b,c=0,d=this.items;if(d)for(b in d)d.hasOwnProperty(b)&&(a[c++]=d[b])}this.$i=!0}};d.prototype.Fg=function(){this.FH();return this.Am};ga=d;new ga;Za=function(a,b){x?$a(a,b.Ag):ab(a,b.Fg())};$a=function(a,b){var c,d,f,k;d=c=0;for(f=a.length;c<f;++c)k=a[c],b.has(k)||(a[d++]=k);a.length=d};ab=function(a,b){var c,d,f,k;d=c=0;for(f=a.length;c<f;++c)k=a[c],-1===Fa(b,k)&&(a[d++]=k);a.length=d};f.prototype.add=
function(a){this.y=a-this.D;this.gs=this.Wa+this.y;this.D=this.gs-this.Wa-this.y;this.Wa=this.gs};f.prototype.reset=function(){this.Wa=this.gs=this.y=this.D=0};bb=f;cb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};h.prototype.Jo=function(a){this.hA=a;this.tf=a.length/2;this.Gc.length=a.length;this.Hp=this.Ip=-1;this.Rx=0};h.prototype.vk=function(){return!this.hA.length};h.prototype.bb=function(){for(var a=this.Gc,b=a[0],c=b,d=a[1],f=d,k,l,e=1,h=this.tf;e<h;++e)l=2*e,k=a[l],l=a[l+
1],k<b&&(b=k),k>c&&(c=k),l<d&&(d=l),l>f&&(f=l);this.zp=b;this.Ap=c;this.Bp=d;this.yp=f};h.prototype.Io=function(a,b,c){this.Gc.length=8;this.tf=4;var d=this.Gc;d[0]=a.left-b;d[1]=a.top-c;d[2]=a.right-b;d[3]=a.top-c;d[4]=a.right-b;d[5]=a.bottom-c;d[6]=a.left-b;d[7]=a.bottom-c;this.Ip=a.right-a.left;this.Hp=a.bottom-a.top;this.bb()};h.prototype.um=function(a,b,c,d,f){this.Gc.length=8;this.tf=4;var k=this.Gc;k[0]=a.sc-b;k[1]=a.tc-c;k[2]=a.Vd-b;k[3]=a.Wd-c;k[4]=a.Ld-b;k[5]=a.Md-c;k[6]=a.Jd-b;k[7]=a.Kd-
c;this.Ip=d;this.Hp=f;this.bb()};h.prototype.sA=function(a){this.tf=a.tf;Da(this.Gc,a.Gc);this.zp=a.zp;this.Bp-a.Bp;this.Ap=a.Ap;this.yp=a.yp};h.prototype.ak=function(a,b,c){if(this.Ip!==a||this.Hp!==b||this.Rx!==c){this.Ip=a;this.Hp=b;this.Rx=c;var d,f,k,l,e,h=0,x=1,g=this.hA,p=this.Gc;0!==c&&(h=Math.sin(c),x=Math.cos(c));c=0;for(k=this.tf;c<k;c++)d=2*c,f=d+1,l=g[d]*a,e=g[f]*b,p[d]=l*x-e*h,p[f]=e*x+l*h;this.bb()}};h.prototype.de=function(a,b){var c=this.Gc;if(a===c[0]&&b===c[1])return!0;var d,f,
k,l=this.tf,e=this.zp-110,h=this.Bp-101,x=this.Ap+131,g=this.yp+120,p,m,n=0,r=0;for(d=0;d<l;d++)f=2*d,k=(d+1)%l*2,p=c[f],f=c[f+1],m=c[k],k=c[k+1],wa(e,h,a,b,p,f,m,k)&&n++,wa(x,g,a,b,p,f,m,k)&&r++;return 1===n%2||1===r%2};h.prototype.In=function(a,b,c){var d=a.Gc,f=this.Gc;if(this.de(d[0]+b,d[1]+c)||a.de(f[0]-b,f[1]-c))return!0;var k,l,e,h,x,g,p,m,n,r,B,q;k=0;for(h=this.tf;k<h;k++)for(l=2*k,e=(k+1)%h*2,m=f[l],l=f[l+1],n=f[e],r=f[e+1],e=0,p=a.tf;e<p;e++)if(x=2*e,g=(e+1)%p*2,B=d[x]+b,x=d[x+1]+c,q=d[g]+
b,g=d[g+1]+c,wa(m,l,n,r,B,x,q,g))return!0;return!1};eb=h;g.prototype.fj=function(a,b,c){var d;d=this.cells[a];return d?(d=d[b])?d:c?(d=m(this,a,b),this.cells[a][b]=d):null:c?(d=m(this,a,b),this.cells[a]={},this.cells[a][b]=d):null};g.prototype.cf=function(a){return ua(a/this.qt)};g.prototype.df=function(a){return ua(a/this.pt)};g.prototype.update=function(a,b,c){var d,f,k,l,e;if(b)for(d=b.left,f=b.right;d<=f;++d)for(k=b.top,l=b.bottom;k<=l;++k)if(!c||!c.de(d,k))if(e=this.fj(d,k,!1))e.remove(a),e.ci()&&
(e.vd.clear(),1E3>E.length&&E.push(e),this.cells[d][k]=null);if(c)for(d=c.left,f=c.right;d<=f;++d)for(k=c.top,l=c.bottom;k<=l;++k)b&&b.de(d,k)||this.fj(d,k,!0).pu(a)};g.prototype.Lr=function(a,b){var c,d,f,k,l,e;c=this.cf(a.left);f=this.df(a.top);d=this.cf(a.right);for(l=this.df(a.bottom);c<=d;++c)for(k=f;k<=l;++k)(e=this.fj(c,k,!1))&&e.dump(b)};fb=g;n.prototype.fj=function(a,b,c){var d;d=this.cells[a];return d?(d=d[b])?d:c?(d=k(this,a,b),this.cells[a][b]=d):null:c?(d=k(this,a,b),this.cells[a]={},
this.cells[a][b]=d):null};n.prototype.cf=function(a){return ua(a/this.qt)};n.prototype.df=function(a){return ua(a/this.pt)};n.prototype.update=function(a,b,c){var d,f,k,l,e;if(b)for(d=b.left,f=b.right;d<=f;++d)for(k=b.top,l=b.bottom;k<=l;++k)if(!c||!c.de(d,k))if(e=this.fj(d,k,!1))e.remove(a),e.ci()&&(e.reset(),1E3>D.length&&D.push(e),this.cells[d][k]=null);if(c)for(d=c.left,f=c.right;d<=f;++d)for(k=c.top,l=c.bottom;k<=l;++k)b&&b.de(d,k)||this.fj(d,k,!0).pu(a)};n.prototype.Lr=function(a,b,c,d,f){var k,
l;a=this.cf(a);b=this.df(b);c=this.cf(c);for(k=this.df(d);a<=c;++a)for(d=b;d<=k;++d)(l=this.fj(a,d,!1))&&l.dump(f)};n.prototype.xG=function(a){var b,c,d,f,k;b=a.left;d=a.top;c=a.right;for(f=a.bottom;b<=c;++b)for(a=d;a<=f;++a)if(k=this.fj(b,a,!1))k.Ll=!1};gb=n;var E=[];l.prototype.ci=function(){return this.vd.ci()};l.prototype.pu=function(a){this.vd.add(a)};l.prototype.remove=function(a){this.vd.remove(a)};l.prototype.dump=function(a){Ea(a,this.vd.Fg())};fa=l;var D=[];p.prototype.ci=function(){if(!this.vd.length)return!0;
if(this.vd.length>this.ph.count())return!1;this.Rt();return!0};p.prototype.pu=function(a){this.ph.contains(a)?(this.ph.remove(a),this.ph.ci()&&(this.bn=!1)):this.vd.length?(this.vd[this.vd.length-1].Zg()>a.Zg()&&(this.Ll=!1),this.vd.push(a)):(this.vd.push(a),this.Ll=!0)};p.prototype.remove=function(a){this.ph.add(a);this.bn=!0;30<=this.ph.count()&&this.Rt()};p.prototype.Rt=function(){this.bn&&(this.ph.count()===this.vd.length?this.reset():(Za(this.vd,this.ph),this.ph.clear(),this.bn=!1))};p.prototype.yE=
function(){this.Ll||(this.vd.sort(r),this.Ll=!0)};p.prototype.reset=function(){this.vd.length=0;this.Ll=!0;this.ph.clear();this.bn=!1};p.prototype.dump=function(a){this.Rt();this.yE();this.vd.length&&a.push(this.vd)};ha=p;var y="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");hb=function(a){return 0>=a||11<=a?"source-over":y[a-1]};ib=function(a,b,c){if(c)switch(a.Td=c.ONE,a.Nd=c.ONE_MINUS_SRC_ALPHA,b){case 1:a.Td=c.ONE;
a.Nd=c.ONE;break;case 3:a.Td=c.ONE;a.Nd=c.ZERO;break;case 4:a.Td=c.ONE_MINUS_DST_ALPHA;a.Nd=c.ONE;break;case 5:a.Td=c.DST_ALPHA;a.Nd=c.ZERO;break;case 6:a.Td=c.ZERO;a.Nd=c.SRC_ALPHA;break;case 7:a.Td=c.ONE_MINUS_DST_ALPHA;a.Nd=c.ZERO;break;case 8:a.Td=c.ZERO;a.Nd=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.Td=c.DST_ALPHA;a.Nd=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.Td=c.ONE_MINUS_DST_ALPHA,a.Nd=c.SRC_ALPHA}};jb=function(a){return Math.round(1E6*a)/1E6};kb=function(a,b){return"string"!==typeof a||"string"!==
typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};lb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||kb(a.tagName,"canvas")?!0:!1}})();var hc="undefined"!==typeof Float32Array?Float32Array:Array;function ic(a){var c=new hc(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}
function jc(a){var c=new hc(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}function kc(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}
function lc(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function mc(a,c,b,d){d||(d=jc());var e,f,h,g,n,m,l,k,p=a[0],r=a[1];a=a[2];f=b[0];h=b[1];e=b[2];b=c[1];m=c[2];p===c[0]&&r===b&&a===m?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=p-c[0],m=r-c[1],l=a-c[2],k=1/Math.sqrt(b*b+m*m+l*l),b*=k,m*=k,l*=k,c=h*l-e*m,e=e*b-f*l,f=f*m-h*b,(k=Math.sqrt(c*c+e*e+f*f))?(k=1/k,c*=k,e*=k,f*=k):f=e=c=0,h=m*f-l*e,g=l*c-b*f,n=b*e-m*c,(k=Math.sqrt(h*h+g*g+n*n))?(k=1/k,h*=k,g*=k,n*=k):n=g=h=0,
d[0]=c,d[1]=h,d[2]=b,d[3]=0,d[4]=e,d[5]=g,d[6]=m,d[7]=0,d[8]=f,d[9]=n,d[10]=l,d[11]=0,d[12]=-(c*p+e*r+f*a),d[13]=-(h*p+g*r+n*a),d[14]=-(b*p+m*r+l*a),d[15]=1)}
(function(){function a(a){this.jj=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Sx=ic([0,0,100]);this.fz=ic([0,0,0]);this.QA=ic([0,1,0]);this.Aw=ic([1,1,1]);this.fy=!0;this.ov=jc();this.Rf=jc();this.Yy=jc();this.Et=jc();this.ca=a;this.Hy()}function c(a,b,c){this.ca=a;this.Ko=b;this.name=c;this.Nf=a.getAttribLocation(b,"aPos");this.pj=a.getAttribLocation(b,"aTex");this.dz=a.getUniformLocation(b,"matP");this.Zq=a.getUniformLocation(b,"matMV");
this.Ul=a.getUniformLocation(b,"opacity");this.ez=a.getUniformLocation(b,"samplerFront");this.ao=a.getUniformLocation(b,"samplerBack");this.Ek=a.getUniformLocation(b,"destStart");this.Dk=a.getUniformLocation(b,"destEnd");this.Qu=a.getUniformLocation(b,"seconds");this.Pu=a.getUniformLocation(b,"pixelWidth");this.Ou=a.getUniformLocation(b,"pixelHeight");this.$n=a.getUniformLocation(b,"layerScale");this.Zn=a.getUniformLocation(b,"layerAngle");this.co=a.getUniformLocation(b,"viewOrigin");this.bo=a.getUniformLocation(b,
"scrollPos");this.GF=!!(this.Pu||this.Ou||this.Qu||this.ao||this.Ek||this.Dk||this.$n||this.Zn||this.co||this.bo);this.nz=this.oz=-999;this.cr=1;this.jz=this.iz=0;this.lz=this.hz=this.gz=1;this.qz=this.pz=this.sz=this.rz=this.kz=0;this.Bu=[];this.mz=jc();this.Ul&&a.uniform1f(this.Ul,1);this.ez&&a.uniform1i(this.ez,0);this.ao&&a.uniform1i(this.ao,1);this.Ek&&a.uniform2f(this.Ek,0,0);this.Dk&&a.uniform2f(this.Dk,1,1);this.$n&&a.uniform1f(this.$n,1);this.Zn&&a.uniform1f(this.Zn,0);this.co&&a.uniform2f(this.co,
0,0);this.bo&&a.uniform2f(this.bo,0,0);this.nk=!1}function b(a,b){this.type=a;this.fa=b;this.ca=b.ca;this.$g=this.Zf=this.Rz=0;this.Db=this.Cg=null;this.uA=[]}a.prototype.Hy=function(){var a=this.ca,b;this.Zy=1;this.zk=this.nj=null;this.Wp=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.$y=a.ONE;this.Xy=a.ONE_MINUS_SRC_ALPHA;this.Bv=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Bv);
this.Wo=Array(4);this.Po=Array(4);for(b=0;4>b;b++)this.Wo[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Wo[b]),this.Po[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Po[b]);this.Sh=0;this.JF=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.JF);this.ww=new Float32Array(16E3);this.dw=new Float32Array(16E3);this.SG=new Float32Array(32E3);for(var c=new Uint16Array(12E3),d=b=0;12E3>b;)c[b++]=d,c[b++]=d+1,c[b++]=d+2,c[b++]=d,c[b++]=d+2,c[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,
c,a.STATIC_DRAW);this.Cv=this.Dh=0;this.fd=[];b=this.Dt({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.fd.push(b);b=this.Dt({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.fd.push(b);for(var e in nc)nc.hasOwnProperty(e)&&this.fd.push(this.Dt(nc[e],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Zi=[];this.Nh=0;this.Me=!1;this.$x=this.Tn=-1;this.nn=null;this.XE=a.createFramebuffer();this.lA=null;this.Jj=ic([0,0,0]);this.Dz=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Dz&&
(this.Dz=2048);this.zh(0)};c.prototype.ow=function(a){var b=this.mz;if(b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]||b[3]!==a[3]||b[4]!==a[4]||b[5]!==a[5]||b[6]!==a[6]||b[7]!==a[7]||b[8]!==a[8]||b[9]!==a[9]||b[10]!==a[10]||b[11]!==a[11]||b[12]!==a[12]||b[13]!==a[13]||b[14]!==a[14]||b[15]!==a[15])kc(a,this.mz),this.ca.uniformMatrix4fv(this.Zq,!1,a)};a.prototype.Dt=function(a,b,d){var e=this.ca,m=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(m,a.src);e.compileShader(m);if(!e.getShaderParameter(m,e.COMPILE_STATUS))return e.deleteShader(m),
null;var l=e.createShader(e.VERTEX_SHADER);e.shaderSource(l,b);e.compileShader(l);if(!e.getShaderParameter(l,e.COMPILE_STATUS))return e.deleteShader(m),e.deleteShader(l),null;b=e.createProgram();e.attachShader(b,m);e.attachShader(b,l);e.linkProgram(b);if(!e.getProgramParameter(b,e.LINK_STATUS))return e.deleteShader(m),e.deleteShader(l),e.deleteProgram(b),null;e.useProgram(b);e.deleteShader(m);e.deleteShader(l);d=new c(e,b,d);d.rn=a.rn||0;d.sn=a.sn||0;d.Sp=!!a.Sp;d.vp=!!a.vp;d.Aa=a.Aa||[];a=0;for(m=
d.Aa.length;a<m;a++)d.Aa[a][1]=e.getUniformLocation(b,d.Aa[a][0]),d.Bu.push(0),e.uniform1f(d.Aa[a][1],0);return d};a.prototype.du=function(a){var b,c;b=0;for(c=this.fd.length;b<c;b++)if(this.fd[b].name===a)return b;return-1};a.prototype.gA=function(a,b,c){var d=this.Rf,e=this.ov,l=[0,0,0,0,0,0,0,0];l[0]=d[0]*a+d[4]*b+d[12];l[1]=d[1]*a+d[5]*b+d[13];l[2]=d[2]*a+d[6]*b+d[14];l[3]=d[3]*a+d[7]*b+d[15];l[4]=e[0]*l[0]+e[4]*l[1]+e[8]*l[2]+e[12]*l[3];l[5]=e[1]*l[0]+e[5]*l[1]+e[9]*l[2]+e[13]*l[3];l[6]=e[2]*
l[0]+e[6]*l[1]+e[10]*l[2]+e[14]*l[3];l[7]=-l[2];0!==l[7]&&(l[7]=1/l[7],l[4]*=l[7],l[5]*=l[7],l[6]*=l[7],c[0]=(.5*l[4]+.5)*this.width,c[1]=(.5*l[5]+.5)*this.height)};a.prototype.tm=function(a,b,c){if(this.width!==a||this.height!==b||c){this.cj();this.width=a;this.height=b;this.ca.viewport(0,0,a,b);b=a/b;var d=this.ov,e;e=1*Math.tan(45*Math.PI/360);b*=e;a=-b;c=-e;d||(d=jc());var l=b-a,k=e-c;d[0]=2/l;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/k;d[6]=0;d[7]=0;d[8]=(b+a)/l;d[9]=(e+c)/k;d[10]=-1001/999;d[11]=-1;
d[12]=0;d[13]=0;d[14]=-2E3/999;d[15]=0;mc(this.Sx,this.fz,this.QA,this.Rf);a=[0,0];b=[0,0];this.gA(0,0,a);this.gA(1,1,b);this.Aw[0]=1/(b[0]-a[0]);this.Aw[1]=-1/(b[1]-a[1]);a=0;for(b=this.fd.length;a<b;a++)c=this.fd[a],c.nk=!1,c.dz&&(this.ca.useProgram(c.Ko),this.ca.uniformMatrix4fv(c.dz,!1,this.ov));this.ca.useProgram(this.fd[this.Tn].Ko);this.ca.bindTexture(this.ca.TEXTURE_2D,null);this.ca.activeTexture(this.ca.TEXTURE1);this.ca.bindTexture(this.ca.TEXTURE_2D,null);this.ca.activeTexture(this.ca.TEXTURE0);
this.zk=this.nj=null}};a.prototype.wh=function(){mc(this.Sx,this.fz,this.QA,this.Rf);lc(this.Rf,this.Aw)};a.prototype.translate=function(a,b){if(0!==a||0!==b){this.Jj[0]=a;this.Jj[1]=b;this.Jj[2]=0;var c=this.Rf,d=this.Jj,e=d[0],l=d[1],d=d[2];c[12]=c[0]*e+c[4]*l+c[8]*d+c[12];c[13]=c[1]*e+c[5]*l+c[9]*d+c[13];c[14]=c[2]*e+c[6]*l+c[10]*d+c[14];c[15]=c[3]*e+c[7]*l+c[11]*d+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.Jj[0]=a,this.Jj[1]=b,this.Jj[2]=1,lc(this.Rf,this.Jj)};a.prototype.Qv=
function(a){if(0!==a){var b=this.Rf,c,d=Math.sin(a);a=Math.cos(a);var e=b[0],l=b[1],k=b[2],p=b[3],r=b[4],t=b[5],u=b[6],q=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=e*a+r*d;c[1]=l*a+t*d;c[2]=k*a+u*d;c[3]=p*a+q*d;c[4]=e*-d+r*a;c[5]=l*-d+t*a;c[6]=k*-d+u*a;c[7]=p*-d+q*a}};a.prototype.Ch=function(){for(var a=!1,b=0;16>b;b++)if(this.Yy[b]!==this.Rf[b]){a=!0;break}a&&(a=this.yg(),a.type=5,a.Db?kc(this.Rf,a.Db):a.Db=jc(this.Rf),kc(this.Rf,
this.Yy),this.Me=!1)};b.prototype.hE=function(){this.ca.bindTexture(this.ca.TEXTURE_2D,this.Cg)};b.prototype.iE=function(){var a=this.ca;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Cg);a.activeTexture(a.TEXTURE0)};b.prototype.eE=function(){var a=this.Rz,b=this.fa;b.Wp=a;b=b.nn;b.Ul&&b.cr!==a&&(b.cr=a,this.ca.uniform1f(b.Ul,a))};b.prototype.bE=function(){this.ca.drawElements(this.ca.TRIANGLES,this.$g,this.ca.UNSIGNED_SHORT,2*this.Zf)};b.prototype.dE=function(){this.ca.blendFunc(this.Zf,
this.$g)};b.prototype.jE=function(){var a,b,c,d=this.fa.fd,e=this.fa.$x;a=0;for(b=d.length;a<b;a++)c=d[a],a===e&&c.Zq?(c.ow(this.Db),c.nk=!0):c.nk=!1;kc(this.Db,this.fa.Et)};b.prototype.cE=function(){var a=this.ca,b=this.fa;this.Cg?(b.zk===this.Cg&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.zk=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.XE),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Cg,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,
a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};b.prototype.XD=function(){var a=this.ca;0===this.Zf?(a.clearColor(this.Db[0],this.Db[1],this.Db[2],this.Db[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.Db[0],this.Db[1],this.Db[2],this.Db[3]),a.clearColor(0,0,0,0),a.clear(this.ca.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};b.prototype.aE=function(){var a=this.ca,b=this.fa,c=b.fd[1];a.useProgram(c.Ko);!c.nk&&c.Zq&&(c.ow(b.Et),c.nk=!0);a.enableVertexAttribArray(c.Nf);
a.bindBuffer(a.ARRAY_BUFFER,b.Bv);a.vertexAttribPointer(c.Nf,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Zf/4,this.$g);c=b.nn;a.useProgram(c.Ko);0<=c.Nf&&(a.enableVertexAttribArray(c.Nf),a.bindBuffer(a.ARRAY_BUFFER,b.Wo[b.Sh]),a.vertexAttribPointer(c.Nf,2,a.FLOAT,!1,0,0));0<=c.pj&&(a.enableVertexAttribArray(c.pj),a.bindBuffer(a.ARRAY_BUFFER,b.Po[b.Sh]),a.vertexAttribPointer(c.pj,2,a.FLOAT,!1,0,0))};b.prototype.fE=function(){var a=this.ca,b=this.fa,c=b.fd[this.Zf];b.$x=this.Zf;b.nn=c;a.useProgram(c.Ko);
!c.nk&&c.Zq&&(c.ow(b.Et),c.nk=!0);c.Ul&&c.cr!==b.Wp&&(c.cr=b.Wp,a.uniform1f(c.Ul,b.Wp));0<=c.Nf&&(a.enableVertexAttribArray(c.Nf),a.bindBuffer(a.ARRAY_BUFFER,b.Wo[b.Sh]),a.vertexAttribPointer(c.Nf,2,a.FLOAT,!1,0,0));0<=c.pj&&(a.enableVertexAttribArray(c.pj),a.bindBuffer(a.ARRAY_BUFFER,b.Po[b.Sh]),a.vertexAttribPointer(c.pj,2,a.FLOAT,!1,0,0))};b.prototype.gE=function(){var a,b,c=this.fa.nn,d=this.ca;a=this.Db;c.ao&&this.fa.zk!==this.Cg&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.Cg),
this.fa.zk=this.Cg,d.activeTexture(d.TEXTURE0));var e=a[0];c.Pu&&e!==c.oz&&(c.oz=e,d.uniform1f(c.Pu,e));e=a[1];c.Ou&&e!==c.nz&&(c.nz=e,d.uniform1f(c.Ou,e));e=a[2];b=a[3];!c.Ek||e===c.iz&&b===c.jz||(c.iz=e,c.jz=b,d.uniform2f(c.Ek,e,b));e=a[4];b=a[5];!c.Dk||e===c.gz&&b===c.hz||(c.gz=e,c.hz=e,d.uniform2f(c.Dk,e,b));e=a[6];c.$n&&e!==c.lz&&(c.lz=e,d.uniform1f(c.$n,e));e=a[7];c.Zn&&e!==c.kz&&(c.kz=e,d.uniform1f(c.Zn,e));e=a[8];b=a[9];!c.co||e===c.rz&&b===c.sz||(c.rz=e,c.sz=b,d.uniform2f(c.co,e,b));e=a[10];
b=a[11];!c.bo||e===c.pz&&b===c.qz||(c.pz=e,c.qz=b,d.uniform2f(c.bo,e,b));c.Qu&&d.uniform1f(c.Qu,Ya()/1E3);if(c.Aa.length)for(a=0,b=c.Aa.length;a<b;a++)e=this.uA[a],e!==c.Bu[a]&&(c.Bu[a]=e,d.uniform1f(c.Aa[a][1],e))};a.prototype.yg=function(){this.Nh===this.Zi.length&&this.Zi.push(new b(0,this));return this.Zi[this.Nh++]};a.prototype.cj=function(){if(0!==this.Nh&&!this.ca.isContextLost()){var a=this.ca;0<this.Cv&&(a.bindBuffer(a.ARRAY_BUFFER,this.Bv),a.bufferData(a.ARRAY_BUFFER,this.SG.subarray(0,
this.Cv),a.STREAM_DRAW),b&&0<=b.Nf&&"<point>"===b.name&&a.vertexAttribPointer(b.Nf,4,a.FLOAT,!1,0,0));if(0<this.Dh){var b=this.nn;a.bindBuffer(a.ARRAY_BUFFER,this.Wo[this.Sh]);a.bufferData(a.ARRAY_BUFFER,this.ww.subarray(0,this.Dh),a.STREAM_DRAW);b&&0<=b.Nf&&"<point>"!==b.name&&a.vertexAttribPointer(b.Nf,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Po[this.Sh]);a.bufferData(a.ARRAY_BUFFER,this.dw.subarray(0,this.Dh),a.STREAM_DRAW);b&&0<=b.pj&&"<point>"!==b.name&&a.vertexAttribPointer(b.pj,2,
a.FLOAT,!1,0,0)}for(var c,a=0,b=this.Nh;a<b;a++)switch(c=this.Zi[a],c.type){case 1:c.bE();break;case 2:c.hE();break;case 3:c.eE();break;case 4:c.dE();break;case 5:c.jE();break;case 6:c.cE();break;case 7:c.XD();break;case 8:c.aE();break;case 9:c.fE();break;case 10:c.gE();break;case 11:c.iE()}this.Cv=this.Dh=this.Nh=0;this.Me=!1;this.Sh++;4<=this.Sh&&(this.Sh=0)}};a.prototype.Yk=function(a){if(a!==this.Zy){var b=this.yg();b.type=3;this.Zy=b.Rz=a;this.Me=!1}};a.prototype.Xe=function(a){if(a!==this.nj){var b=
this.yg();b.type=2;this.nj=b.Cg=a;this.Me=!1}};a.prototype.Dj=function(a,b){if(a!==this.$y||b!==this.Xy){var c=this.yg();c.type=4;c.Zf=a;c.$g=b;this.$y=a;this.Xy=b;this.Me=!1}};a.prototype.pA=function(){this.Dj(this.ca.ONE,this.ca.ONE_MINUS_SRC_ALPHA)};a.prototype.Kr=function(a,b,c,d,e,l,k,p){15992<=this.Dh&&this.cj();var r=this.Dh,t=this.ww,u=this.dw;if(this.Me)this.Zi[this.Nh-1].$g+=6;else{var q=this.yg();q.type=1;q.Zf=r/4*3;q.$g=6;this.Me=!0}t[r]=a;u[r++]=0;t[r]=b;u[r++]=0;t[r]=c;u[r++]=1;t[r]=
d;u[r++]=0;t[r]=e;u[r++]=1;t[r]=l;u[r++]=1;t[r]=k;u[r++]=0;t[r]=p;u[r++]=1;this.Dh=r};a.prototype.sh=function(a,b,c,d,e,l,k,p,r){15992<=this.Dh&&this.cj();var t=this.Dh,u=this.ww,q=this.dw;if(this.Me)this.Zi[this.Nh-1].$g+=6;else{var z=this.yg();z.type=1;z.Zf=t/4*3;z.$g=6;this.Me=!0}var z=r.left,A=r.top,G=r.right;r=r.bottom;u[t]=a;q[t++]=z;u[t]=b;q[t++]=A;u[t]=c;q[t++]=G;u[t]=d;q[t++]=A;u[t]=e;q[t++]=G;u[t]=l;q[t++]=r;u[t]=k;q[t++]=z;u[t]=p;q[t++]=r;this.Dh=t};a.prototype.zh=function(a){if(this.Tn!==
a){if(!this.fd[a]){if(0===this.Tn)return;a=0}var b=this.yg();b.type=9;this.Tn=b.Zf=a;this.Me=!1}};a.prototype.Ao=function(a){a=this.fd[a];return!(!a.Ek&&!a.Dk)};a.prototype.Fv=function(a){a=this.fd[a];return!!(a.Ek||a.Dk||a.Sp)};a.prototype.YG=function(a){a=this.fd[a];return 0!==a.rn||0!==a.sn};a.prototype.mF=function(a){return this.fd[a].rn};a.prototype.nF=function(a){return this.fd[a].sn};a.prototype.oF=function(a,b){return this.fd[a].Aa[b][2]};a.prototype.Ir=function(a){return this.fd[a].vp};a.prototype.rm=
function(a,b,c,d,e,l,k,p,r,t,u,q,z,A){var G=this.fd[this.Tn],x,B;if(G.GF||A.length){x=this.yg();x.type=10;x.Db?kc(this.Rf,x.Db):x.Db=jc();B=x.Db;B[0]=b;B[1]=c;B[2]=d;B[3]=e;B[4]=l;B[5]=k;B[6]=p;B[7]=r;B[8]=t;B[9]=u;B[10]=q;B[11]=z;x.Cg=G.ao?a:null;if(A.length)for(c=x.uA,c.length=A.length,a=0,b=A.length;a<b;a++)c[a]=A[a];this.Me=!1}};a.prototype.clear=function(a,b,c,d){var e=this.yg();e.type=7;e.Zf=0;e.Db||(e.Db=jc());e.Db[0]=a;e.Db[1]=b;e.Db[2]=c;e.Db[3]=d;this.Me=!1};a.prototype.clearRect=function(a,
b,c,d){if(!(0>c||0>d)){var e=this.yg();e.type=7;e.Zf=1;e.Db||(e.Db=jc());e.Db[0]=a;e.Db[1]=b;e.Db[2]=c;e.Db[3]=d;this.Me=!1}};a.prototype.XG=function(){this.cj();this.ca.flush()};var d=[],e={};a.prototype.OD=function(){d.length=0;e={}};a.prototype.Xq=function(a,b,c,n){b=!!b;c=!!c;var m=a.src+","+b+","+c+(b?",undefined":""),l=null;if("undefined"!==typeof a.src&&e.hasOwnProperty(m))return l=e[m],l.Gp++,l;this.cj();var k=this.ca,p=pa(a.width)&&pa(a.height),l=k.createTexture();k.bindTexture(k.TEXTURE_2D,
l);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var r=k.RGBA,t=k.RGBA,u=k.UNSIGNED_BYTE;if(n&&!this.jj)switch(n){case 1:t=r=k.RGB;break;case 2:u=k.UNSIGNED_SHORT_4_4_4_4;break;case 3:u=k.UNSIGNED_SHORT_5_5_5_1;break;case 4:t=r=k.RGB,u=k.UNSIGNED_SHORT_5_6_5}if(!p&&b){n=document.createElement("canvas");n.width=qa(a.width);n.height=qa(a.height);var q=n.getContext("2d");q.webkitImageSmoothingEnabled=c;q.mozImageSmoothingEnabled=c;q.msImageSmoothingEnabled=c;q.imageSmoothingEnabled=c;q.drawImage(a,
0,0,a.width,a.height,0,0,n.width,n.height);k.texImage2D(k.TEXTURE_2D,0,r,t,u,n)}else k.texImage2D(k.TEXTURE_2D,0,r,t,u,a);b?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));c?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR),p&&this.fy?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR_MIPMAP_LINEAR),
k.generateMipmap(k.TEXTURE_2D)):k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST));k.bindTexture(k.TEXTURE_2D,null);this.nj=null;l.hn=a.width;l.gn=a.height;l.Gp=1;l.Qx=m;d.push(l);return e[m]=l};a.prototype.Rh=function(a,b,c,e){this.cj();var m=this.ca;this.jj&&(e=!1);var l=m.createTexture();m.bindTexture(m.TEXTURE_2D,l);m.texImage2D(m.TEXTURE_2D,0,m.RGBA,a,b,0,m.RGBA,
e?m.UNSIGNED_SHORT_4_4_4_4:m.UNSIGNED_BYTE,null);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,c?m.LINEAR:m.NEAREST);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,c?m.LINEAR:m.NEAREST);m.bindTexture(m.TEXTURE_2D,null);this.nj=null;l.hn=a;l.gn=b;d.push(l);return l};a.prototype.KH=function(a,b,c){this.cj();var d=this.ca;this.jj&&(c=!1);d.bindTexture(d.TEXTURE_2D,b);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}d.bindTexture(d.TEXTURE_2D,null);this.nj=null};a.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Gp&&1<a.Gp?a.Gp--:(this.cj(),a===this.nj&&(this.ca.bindTexture(this.ca.TEXTURE_2D,null),this.nj=null),a===this.zk&&(this.ca.activeTexture(this.ca.TEXTURE1),this.ca.bindTexture(this.ca.TEXTURE_2D,null),this.ca.activeTexture(this.ca.TEXTURE0),
this.zk=null),Ga(d,a),"undefined"!==typeof a.Qx&&delete e[a.Qx],this.ca.deleteTexture(a)))};a.prototype.yh=function(a){if(a!==this.lA){var b=this.yg();b.type=6;this.lA=b.Cg=a;this.Me=!1}};mb=a})();
(function(){function a(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function c(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function b(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.ij=(this.Kn=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.fe=!!a.dc;this.Ny="undefined"!==typeof window.AppMobi||this.fe;this.Kf=!!window.c2cocoonjs;this.ng=!!window.c2ejecta;this.Kf&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.ng&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",
function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.lc=this.fe||this.Kf||this.ng;this.jj=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.Ry=/tizen/i.test(navigator.userAgent);this.Cq=/android/i.test(navigator.userAgent)&&!this.Ry&&!this.jj;this.xu=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.jj;this.Vy=/ipad/i.test(navigator.userAgent);this.Iq=this.xu||this.Vy||this.ng;this.XF=this.xu&&/os\s6/i.test(navigator.userAgent);this.Jn=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.jj;this.My=/amazonwebappplatform/i.test(navigator.userAgent);this.QF=/firefox/i.test(navigator.userAgent);this.Qy=/safari/i.test(navigator.userAgent)&&!this.Jn&&!this.jj;this.UF=/windows/i.test(navigator.userAgent);this.kj="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);
this.Ty=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.VF=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Il=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Eq=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Sy=this.Ty||this.VF||this.Eq;this.OF=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Dq=this.Cq&&!this.Jn&&!this.Kn&&!this.QF&&!this.My&&
!this.lc;this.devicePixelRatio=1;this.ah=this.ij||this.Kn||this.Ny||this.Kf||this.Cq||this.Iq||this.Il||this.Eq||this.OF||this.Ry||this.ng;this.ah||(this.ah=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.kj||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.kj=!0);this.PF="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=
a;this.Tx=document.getElementById("c2canvasdiv");this.Fb=this.fa=this.ca=null;this.Ut="";this.lq=!1;this.Oz=this.Pz=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.fe&&(window.c2runtime=this);this.kj&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},require("nw.gui").App.clearCache());this.Dq&&"undefined"!==
typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.Ta=this.width;this.Sa=this.height;this.Up=this.width;this.Tp=this.height;this.Vn=window.innerWidth;this.Un=window.innerHeight;this.ZE=!1;this.wb=!0;this.Mn=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.da=[];this.Jc=[];this.Rl={};this.qg=[];this.Mt={};this.Wh=[];this.Cm=[];this.vs=[];this.ht=[];this.BD=[];this.Wy=this.zA=null;this.fk={};this.ru=
this.hj=!1;this.di=0;this.tu=!1;this.kg=[];this.gi=this.he=this.Uq=this.Uv="";this.No=this.xA=!1;this.Ct=this.eo=this.Vh=this.Ia=0;this.Gi=1;this.ve=new bb;this.Eh=new bb;this.Oq=0;this.Ez=!0;this.xr=this.qq=this.qn=this.vf=this.Bk=this.Tt=0;this.Ph=null;this.bq=[];this.Lt=[];this.fq=-1;this.Ru=[[]];this.kw=this.$q=0;this.Jr(null);this.Tu=[];this.br=-1;this.un=this.Iz=this.vo=0;this.Oo=[];this.os=this.Nr=-1;this.wk=!0;this.Tl=0;this.Ln=!1;this.uH=0;this.pl=null;this.EF=!1;this.Du=0;this.Ne=this.hu=
this.Iv=!1;this.Mz=new ga;this.tv=new ga;this.Nz=new ga;this.Or=[];this.Bg=new eb([]);this.cw=new eb([]);this.Vi=[];this.En={};this.sl={};this.ol={};this.Bm={};this.Nx={};this.cz=this.Sq=this.Qe=this.kf=this.bz=this.Rq=this.Gb=null;this.zm=this.wu=!1;this.Vt=[null,null];this.kk=0;this.jq="";this.yj={};this.ds=this.Sl=null;this.ur=[];this.dH()}}function d(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function e(a,b,c,k){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=d;e.onerror=
k;e.onsuccess=function(d){d=d.target.result;d.onerror=k;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=c}}function f(a,b,c){var k=indexedDB.open("_C2SaveStates");k.onupgradeneeded=d;k.onerror=c;k.onsuccess=function(d){d=d.target.result;d.onerror=c;var k=d.transaction(["saves"]).objectStore("saves").get(a);k.onsuccess=function(){k.result?b(k.result.data):b(null)}}}function h(){ia("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<
window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function g(a){var b,c={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ga||a[b]&&"undefined"!==typeof a[b].Pg||(c[b]=a[b]);return c}b.prototype.dH=function(){var a=this,b;b=this.Il?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var c="data.js";if(this.Ty||this.Il||this.Eq)c="data.json";b.open("GET",c,!0);var d=!1;if(!this.lc&&"response"in b&&"responseType"in b)try{b.responseType="json",
d="json"===b.responseType}catch(k){d=!1}if(!d&&"responseType"in b)try{b.responseType="text"}catch(e){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(l){}this.Il?b.onreadystatechange=function(){4===b.readyState&&a.Wq(JSON.parse(b.responseText))}:(b.onload=function(){if(d)a.Wq(b.response);else if(a.ng){var c=b.responseText,c=c.substr(c.indexOf("{"));a.Wq(JSON.parse(c))}else a.Wq(JSON.parse(b.responseText))},b.onerror=function(a){ja("Error requesting "+c+":");
ja(a)});b.send()};b.prototype.KF=function(){var b=this,d,k,e,l,f,p,h,g,r;this.devicePixelRatio=(this.tk=(!this.lc||this.ng)&&this.HH&&!this.Dq)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Gd();k=!(!this.ZE&&(!this.it||this.kj||this.Sy||this.Il||this.Kn||this.ij||this.My));0<this.Le&&this.setSize(a(),c(),!0);try{this.wE&&(this.Kf||this.ng||!this.lc)&&(d={alpha:k,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.ca=
this.canvas.getContext("webgl",d)||this.canvas.getContext("experimental-webgl",d))}catch(m){}if(this.ca){this.lc||(this.Cd=document.createElement("canvas"),jQuery(this.Cd).appendTo(this.canvas.parentNode),this.Cd.oncontextmenu=function(){return!1},this.Cd.onselectstart=function(){return!1},this.Cd.width=this.Up,this.Cd.height=this.Tp,jQuery(this.Cd).css({width:this.Up+"px",height:this.Tp+"px"}),this.cA(),this.Av=this.Cd.getContext("2d"));this.fa=new mb(this.ca,this.ah);this.fa.tm(this.canvas.width,
this.canvas.height);this.fa.fy=0!==this.kE;this.Fb=null;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();b.HG();ia("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){b.fa.Hy();b.fa.tm(b.fa.width,b.fa.height,!0);b.kf=null;b.Qe=null;b.Vt[0]=null;b.Vt[1]=null;b.IG();b.wb=!0;ia("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);d=0;for(k=this.da.length;d<k;d++)for(f=this.da[d],
e=0,l=f.Ja.length;e<l;e++)h=f.Ja[e],h.Dd=this.fa.du(h.id),this.zm=this.zm||this.fa.Ao(h.Dd);d=0;for(k=this.qg.length;d<k;d++){g=this.qg[d];e=0;for(l=g.Ja.length;e<l;e++)h=g.Ja[e],h.Dd=this.fa.du(h.id);e=0;for(l=g.Ua.length;e<l;e++)for(r=g.Ua[e],f=0,p=r.Ja.length;f<p;f++)h=r.Ja[f],h.Dd=this.fa.du(h.id),this.zm=this.zm||this.fa.Ao(h.Dd)}}else{if(0<this.Le&&this.fe){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Fb=AppMobi.canvas.getContext("2d");
try{this.Fb.samplingMode=this.sb?"smooth":"sharp",this.Fb.globalScale=1,this.Fb.HTML5CompatibilityMode=!0,this.Fb.imageSmoothingEnabled=this.sb}catch(q){}0!==this.width&&0!==this.height&&(this.Fb.width=this.width,this.Fb.height=this.height)}this.Fb||(d=this.Kf?{antialias:!!this.sb,alpha:k}:{alpha:k},this.Fb=this.canvas.getContext("2d",d),this.Fb.webkitImageSmoothingEnabled=this.sb,this.Fb.mozImageSmoothingEnabled=this.sb,this.Fb.msImageSmoothingEnabled=this.sb,this.Fb.imageSmoothingEnabled=this.sb);
this.Av=this.Cd=null}this.ls=function(){b.Ub(!1)};window==window.top||this.lc||this.Sy||this.Il||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Kf&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(ia("Reloading for continuous preview"),this.Uq="__c2_continuouspreview",this.No=!0),this.QG&&!this.ah&&
(jQuery(window).focus(function(){b.setSuspended(!1)}),jQuery(window).blur(function(){b.setSuspended(!0)})));this.lc||(d=function(a){if(lb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",d):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",d):document.addEventListener("touchstart",d),
document.addEventListener("mousedown",d));0===this.Le&&this.tk&&1<this.devicePixelRatio&&this.setSize(this.dd,this.cd,!0);this.MA();this.CF();this.go();this.ba={}};b.prototype.setSize=function(a,b,c){var d=0,k=0,e=0,l=0,l=0,f=this.XF&&this.Qy&&!navigator.standalone&&!this.lc&&!this.ij;f&&(b+=60);if(this.Vn!==a||this.Un!==b||c){this.Vn=a;this.Un=b;var p=this.Le,h=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Ln)&&!this.ij;if(h||0!==
this.Le||c)h&&0<this.kk&&(p=this.kk),c=this.devicePixelRatio,4<=p?(e=this.dd/this.cd,a/b>e?(e*=b,5===p?(l=e*c/this.dd,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),e=this.dd*l/c,l=this.cd*l/c,d=(a-e)/2,k=(b-l)/2,a=e,b=l):(d=(a-e)/2,a=e)):(l=a/e,5===p?(l=l*c/this.cd,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),e=this.dd*l/c,l=this.cd*l/c,d=(a-e)/2,k=(b-l)/2,a=e):k=(b-l)/2,b=l),h&&!this.kj&&(k=d=0)):this.kj&&this.Ln&&0===this.my&&(d=Math.floor((a-this.dd)/2),k=Math.floor((b-this.cd)/2),a=this.dd,b=
this.cd),2>p&&(this.dn=c),this.tk&&this.Vy&&1<c&&(1024<=a&&(a=1023),1024<=b&&(b=1023)),this.Up=Math.round(a),this.Tp=Math.round(b),this.width=Math.round(a*c),this.height=Math.round(b*c),this.wb=!0,this.cB?(this.Ta=this.width,this.Sa=this.height,this.Jf=!0):this.width<this.dd&&this.height<this.cd||1===p?(this.Ta=this.width,this.Sa=this.height,this.Jf=!0):(this.Ta=this.dd,this.Sa=this.cd,this.Jf=!1,2===p?(e=this.dd/this.cd,p=this.Vn/this.Un,p<e?this.Ta=this.Sa*p:p>e&&(this.Sa=this.Ta/p)):3===p&&(e=
this.dd/this.cd,p=this.Vn/this.Un,p>e?this.Ta=this.Sa*p:p<e&&(this.Sa=this.Ta/p))),this.Tx&&!this.lc&&(jQuery(this.Tx).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(k)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*c),this.canvas.height=Math.round(b*c),this.ng?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=
Math.floor(k)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.tk&&!this.lc&&jQuery(this.canvas).css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.Cd&&(this.Cd.width=Math.round(a),this.Cd.height=Math.round(b),jQuery(this.Cd).css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.fa&&this.fa.tm(Math.round(a*c),Math.round(b*c)),this.fe&&this.Fb&&(this.Fb.width=Math.round(a),this.Fb.height=Math.round(b)),this.Fb&&(this.Fb.webkitImageSmoothingEnabled=
this.sb,this.Fb.mozImageSmoothingEnabled=this.sb,this.Fb.msImageSmoothingEnabled=this.sb,this.Fb.imageSmoothingEnabled=this.sb),this.MA(),this.lc||!f&&!this.xu||window.setTimeout(function(){window.scrollTo(0,1)},100)}};b.prototype.MA=function(){if(this.ED&&0!==this.yv){var a="portrait";2===this.yv&&(a="landscape");screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?
screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}};b.prototype.HG=function(){this.fa.OD();this.wu=!0;var a,b,c;a=0;for(b=this.da.length;a<b;a++)c=this.da[a],c.Ar&&c.Ar()};b.prototype.IG=function(){this.wu=!1;var a,b,c;a=0;for(b=this.da.length;a<b;a++)c=this.da[a],c.xv&&c.xv()};b.prototype.cA=function(){if(!this.lc){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Ln)&&!this.ij?jQuery(this.canvas).offset():
jQuery(this.canvas).position();a.position="absolute";jQuery(this.Cd).css(a)}};var n=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;b.prototype.setSuspended=function(a){var b;if(a&&!this.Mn)for(ia("[Construct 2] Suspending"),this.Mn=!0,-1!==this.Nr&&n&&n(this.Nr),-1!==this.os&&clearTimeout(this.os),a=0,b=this.Oo.length;a<b;a++)this.Oo[a](!0);else if(!a&&this.Mn){ia("[Construct 2] Resuming");
this.Mn=!1;this.Oq=Ya();this.Bk=Ya();a=this.eo=this.qq=0;for(b=this.Oo.length;a<b;a++)this.Oo[a](!1);this.Ub(!1)}};b.prototype.Dx=function(a){this.Oo.push(a)};b.prototype.Qi=function(a){return this.ur[a]};b.prototype.Wq=function(a){a&&a.project||ja("Project model unavailable");a=a.project;this.name=a[0];this.ly=a[1];this.Le=a[12];this.my=a[12];this.dd=a[10];this.cd=a[11];this.Yz=this.dd/2;this.Zz=this.cd/2;this.lc&&!this.ng&&(4<=a[12]||0===a[12])&&(ia("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.my=this.Le=3);this.uw=a[18];this.Yn=a[19];0===this.Yn&&(this.Sl=new Image,this.Sl.src="loading-logo.png");this.vo=a[21];this.ur=oc();this.Ah=new w(this);var b,c,d,e,k,l,f,p,h;b=0;for(c=a[2].length;b<c;b++)f=a[2][b],d=this.Qi(f[0]),nb(f,d.prototype),h=new d(this),h.cs=f[1],h.lj=f[2],h.Gz=f[9],h.wa&&h.wa(),this.plugins.push(h);this.ur=oc();b=0;for(c=a[3].length;b<c;b++){f=a[3][b];k=this.Qi(f[1]);h=null;d=0;for(e=this.plugins.length;d<e;d++)if(this.plugins[d]instanceof k){h=this.plugins[d];break}var g=
new h.cb(h);g.name=f[0];g.Ka=f[2];g.qu=f[3].slice(0);g.JH=f[3].length;g.ID=f[4];g.aF=f[5];g.gb=f[11];g.Ka?(g.qr=[],g.Xh=this.un++,g.fc=null):(g.qr=null,g.Xh=-1,g.fc=[]);g.hq=null;g.Al=null;g.hy=null;g.Lf=!1;g.Ke=null;f[6]?(g.ew=f[6][0],g.fw=f[6][1],g.gw=f[6][2]):(g.ew=null,g.fw=0,g.gw=0);g.He=f[7]?f[7]:null;g.index=b;g.F=[];g.Zp=[];g.Gj=[new ob(g)];g.Th=0;g.Rg=null;g.UD=0;g.wm=!0;g.ws=pb;g.ry=qb;g.kF=rb;g.eb=sb;g.Co=tb;g.Do=ub;g.Aj=vb;g.sq=wb;g.Yt=xb;g.au=yb;g.jg=zb;g.ty=Ab;g.Kp=new fb(this.dd,this.cd);
g.wp=!0;g.xp=!1;g.ba={};g.toString=Bb;g.Jc=[];d=0;for(e=f[8].length;d<e;d++){p=f[8][d];var r=this.Qi(p[1]),m=null;k=0;for(l=this.Jc.length;k<l;k++)if(this.Jc[k]instanceof r){m=this.Jc[k];break}m||(m=new r(this),m.sr=[],m.rr=new ga,m.wa&&m.wa(),this.Jc.push(m),pc&&m instanceof pc&&(this.zA=m),gc.ZF&&m instanceof gc.ZF&&(this.Wy=m));-1===m.sr.indexOf(g)&&m.sr.push(g);k=new m.cb(m,g);k.name=p[0];k.gb=p[2];k.wa();g.Jc.push(k)}g.global=f[9];g.su=f[10];g.Ja=[];d=0;for(e=f[12].length;d<e;d++)g.Ja.push({id:f[12][d][0],
name:f[12][d][1],Dd:-1,yc:!0,index:d});g.cJ=f[13];this.uw&&!g.Ka&&!g.su&&h.lj||g.wa();g.name&&(this.types[g.name]=g);this.da.push(g);h.cs&&(d=new h.Qa(g),d.uid=this.vo++,d.iA=this.Iz++,d.pk=0,d.Cn=Cb,d.toString=Db,d.aa=f[14],d.wa(),g.F.push(d),this.yj[d.uid.toString()]=d)}b=0;for(c=a[4].length;b<c;b++)for(k=a[4][b],l=this.da[k[0]],d=1,e=k.length;d<e;d++)f=this.da[k[d]],f.fc.push(l),l.qr.push(f);b=0;for(c=a[27].length;b<c;b++){k=a[27][b];l=[];d=0;for(e=k.length;d<e;d++)l.push(this.da[k[d]]);d=0;for(e=
l.length;d<e;d++)l[d].Lf=!0,l[d].Ke=l}if(0<this.un)for(b=0,c=this.da.length;b<c;b++)if(f=this.da[b],!f.Ka&&f.fc.length){f.hq=Array(this.un);f.Al=Array(this.un);f.hy=Array(this.un);g=[];d=m=r=p=0;for(e=f.fc.length;d<e;d++)for(h=f.fc[d],f.hq[h.Xh]=p,p+=h.JH,f.Al[h.Xh]=r,r+=h.ID,f.hy[h.Xh]=m,m+=h.aF,k=0,l=h.Ja.length;k<l;k++)g.push(Ba({},h.Ja[k]));f.Ja=g.concat(f.Ja);d=0;for(e=f.Ja.length;d<e;d++)f.Ja[d].index=d}b=0;for(c=a[5].length;b<c;b++)f=a[5][b],d=new Eb(this,f),this.Rl[d.name]=d,this.qg.push(d);
b=0;for(c=a[6].length;b<c;b++)f=a[6][b],d=new Fb(this,f),this.Mt[d.name]=d,this.Wh.push(d);b=0;for(c=this.Wh.length;b<c;b++)this.Wh[b].Fc();b=0;for(c=this.Wh.length;b<c;b++)this.Wh[b].nw();b=0;for(c=this.vs.length;b<c;b++)this.vs[b].Fc();this.vs.length=0;this.DD=a[7];this.jq=a[8];this.qh=a[9];this.dn=1;this.wE=a[13];this.sb=a[14];this.it=a[15];this.HH=a[17];this.yv=a[20];this.ED=0<this.yv;this.QG=a[22];this.Jf=this.cB=a[23];this.kE=a[24];this.VG=a[25];this.es=Date.now();this.ur.length=0;this.KF()};
var m=!1;b.prototype.bB=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){m=a.Px=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",b)};this.ng?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){m=a.Px=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",c)}):a.src=b);this.Cm.push(a)};b.prototype.YE=function(a){var b,c;b=0;for(c=this.Cm.length;b<c;b++)if(this.Cm[b].PD===a)return this.Cm[b];
return null};var l=0,k=!1;b.prototype.CF=function(){this.pl&&(l=this.pl.rH(this.DD))};b.prototype.Ix=function(){var a=l,b=0,c=0,d=!0,e,f,c=0;for(e=this.Cm.length;c<e;c++){f=this.Cm[c];var p=f.Yx;if(!p||0>=p)p=5E4;a+=p;f.src&&(f.complete||f.loaded)&&!f.Px?b+=p:d=!1}d&&this.VG&&this.pl&&(k||(this.pl.vH(),k=!0),c=this.pl.lF(),b+=c,c<l&&(d=!1));this.Vk=0==a?0:b/a;return d};b.prototype.go=function(){if(this.Fb||this.fa){var a=this.Fb||this.Av;this.Cd&&this.cA();this.Vk=0;this.az=-1;if(this.Ix())this.DF();
else{var b=Date.now()-this.es;if(a){var c=this.width,d=this.height,k=this.devicePixelRatio;this.Cd&&(c=this.Up,d=this.Tp,k=1);if(3!==this.Yn&&(this.Kf||500<=b&&this.az!=this.Vk)){a.clearRect(0,0,c,d);var b=c/2,d=d/2,c=0===this.Yn&&this.Sl.complete,e=40*k,l=0,f=80*k,p;c&&(f=this.Sl.width*k,p=this.Sl.height*k,e=f/2,l=p/2,a.drawImage(this.Sl,ua(b-e),ua(d-l),f,p));1>=this.Yn?(b=ua(b-e)+.5,d=ua(d+(l+(c?12*k:0)))+.5,a.fillStyle=m?"red":"DodgerBlue",a.fillRect(b,d,Math.floor(f*this.Vk),6*k),a.strokeStyle=
"black",a.strokeRect(b,d,f,6*k),a.strokeStyle="white",a.strokeRect(b-1*k,d-1*k,f+2*k,8*k)):2===this.Yn&&(a.font=this.ng?"12pt ArialMT":"12pt Arial",a.fillStyle=m?"#f00":"#999",a.bJ="middle",k=Math.round(100*this.Vk)+"%",c=a.measureText?a.measureText(k):null,a.fillText(k,b-(c?c.width:0)/2,d))}this.az=this.Vk}setTimeout(function(a){return function(){a.go()}}(this),this.Kf?10:100)}}};b.prototype.DF=function(){this.Cd&&(this.canvas.parentNode.removeChild(this.Cd),this.Cd=this.Av=null);this.es=Date.now();
this.Bk=Ya();var a,b,c;if(this.uw)for(a=0,b=this.da.length;a<b;a++)c=this.da[a],c.Ka||c.su||!c.qc.lj||c.wa();else this.wk=!1;a=0;for(b=this.qg.length;a<b;a++)this.qg[a].QD();2<=this.Le&&(a=this.dd/this.cd,b=this.width/this.height,this.dn=2!==this.Le&&b>a||2===this.Le&&b<a?this.height/this.cd:this.width/this.dd);this.ly?this.Rl[this.ly].bw():this.qg[0].bw();this.uw||(this.Tl=1,this.trigger(w.prototype.M.ax,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=
0;for(b=this.da.length;a<b;a++)c=this.da[a],c.GG&&c.GG();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Ub(!1);this.fe&&AppMobi.webview.execute("onGameReady();")};var p=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;b.prototype.Ub=function(b){if(this.Gb){var d=Ya();if(this.EF&&this.Iv&&29>d-this.Du)this.Iv=!1,this.Du=d,p?this.Nr=
p(this.ls,this.canvas):this.os=setTimeout(this.ls,this.ah?1:16);else{this.Iv=!0;this.Du=d;var k=this.Le,e=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.ij;(e||this.Ln)&&0<this.kk&&(k=this.kk);0<k&&(!this.Iq||window.self!==window.top)&&(k=window.innerHeight,this.Vn===window.innerWidth&&this.Un===k||this.setSize(a(),c()));this.lc||(e?(this.lq||(this.Ut=jQuery(this.canvas).css("margin")||"0",this.lq=!0),this.Jn||this.kj||jQuery(this.canvas).css({"margin-left":""+
Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.lq?(this.Jn||this.kj||jQuery(this.canvas).css("margin",this.Ut),this.Ut="",this.lq=!1,0===this.Le&&this.setSize(Math.round(this.Pz/this.devicePixelRatio),Math.round(this.Oz/this.devicePixelRatio),!0)):(this.Pz=this.width,this.Oz=this.height));this.wk&&(e=this.Ix(),this.Tl=this.Vk,e&&(this.wk=!1,this.Vk=1,this.trigger(w.prototype.M.ax,null)));
this.bG();!this.wb&&!this.Kf||this.wu||this.No||b||(this.wb=!1,this.fa?this.Hf():this.Sg(),this.ds&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.ds[0],this.ds[1]),this.trigger(w.prototype.M.gC,null)),this.ds=null));this.VI||(this.vf++,this.qn++,this.qq++);this.eo+=Ya()-d;this.Mn||b||(p?this.Nr=p(this.ls,this.canvas):this.os=setTimeout(this.ls,this.ah?1:16))}}};b.prototype.bG=function(){var a,b,c,d,k,e,l,f,p;a=Ya();1E3<=a-this.Bk&&(this.Bk+=1E3,1E3<=a-this.Bk&&(this.Bk=a),this.Tt=
this.qq,this.qq=0,this.Ct=this.eo,this.eo=0);this.Ez&&(0!==this.Oq&&(b=a-this.Oq,0!==b||this.PF?(this.Vh=b/1E3,.5<this.Vh?this.Vh=0:.1<this.Vh&&(this.Vh=.1)):(10<=this.eJ&&(this.Ez=!1),this.Vh=1/60)),this.Oq=a);this.Ia=this.Vh*this.Gi;this.ve.add(this.Ia);this.Eh.add(this.Vh);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Ln)&&!this.ij;2<=this.Le||a&&0<this.kk?(b=this.dd/this.cd,c=this.width/this.height,d=this.Le,a&&0<this.kk&&(d=
this.kk),this.dn=2!==d&&c>b||2===d&&c<b?this.height/this.cd:this.width/this.dd,this.Gb&&(this.Gb.Vv(this.Gb.scrollX),this.Gb.Wv(this.Gb.scrollY))):this.dn=this.tk?this.devicePixelRatio:1;this.Gd();this.di++;this.Ah.gH();this.di--;this.Gd();this.di++;c=this.Mz.Fg();a=0;for(b=c.length;a<b;a++)c[a].XI();a=0;for(b=this.da.length;a<b;a++)if(l=this.da[a],!l.Ka&&(l.Jc.length||l.fc.length))for(c=0,d=l.F.length;c<d;c++)for(f=l.F[c],k=0,e=f.Ma.length;k<e;k++)f.Ma[k].Ub();a=0;for(b=this.da.length;a<b;a++)if(l=
this.da[a],!l.Ka&&(l.Jc.length||l.fc.length))for(c=0,d=l.F.length;c<d;c++)for(f=l.F[c],k=0,e=f.Ma.length;k<e;k++)p=f.Ma[k],p.eA&&p.eA();c=this.tv.Fg();a=0;for(b=c.length;a<b;a++)c[a].Ub();this.di--;this.FF();for(a=0;this.Ph&&10>a++;)this.cy(this.Ph);a=0;for(b=this.Wh.length;a<b;a++)this.Wh[a].ku=!1;this.Gb.ik&&this.Gb.ik.Sc();this.Or.length=0;this.di++;a=0;for(b=this.da.length;a<b;a++)if(l=this.da[a],!l.Ka&&(l.Jc.length||l.fc.length))for(c=0,d=l.F.length;c<d;c++)for(f=l.F[c],k=0,e=f.Ma.length;k<e;k++)p=
f.Ma[k],p.Qo&&p.Qo();c=this.Nz.Fg();a=0;for(b=c.length;a<b;a++)c[a].Qo();this.di--};b.prototype.cy=function(a){var b=this.Gb;this.Gb.xH();var c,d,k,e,l,f,p;if(this.fa)for(c=0,d=this.da.length;c<d;c++)l=this.da[c],l.Ka||!l.mw||l.global&&0!==l.F.length||-1!==a.Hn.indexOf(l)||l.mw();b==a&&(this.Ah.Ce.length=0);a.bw();c=0;for(d=this.da.length;c<d;c++)if(l=this.da[c],l.global||l.qc.cs)for(a=0,b=l.F.length;a<b;a++)if(f=l.F[a],f.wv&&f.wv(),f.Ma)for(k=0,e=f.Ma.length;k<e;k++)p=f.Ma[k],p.wv&&p.wv();this.wb=
!0;this.Gd()};b.prototype.ns=function(a){this.tv.add(a)};b.prototype.Fl=function(a){return a&&-1!==a.uo?this.Vh*a.uo:this.Ia};b.prototype.Sg=function(){this.Gb.Sg(this.Fb);this.fe&&this.Fb.present()};b.prototype.Hf=function(){this.Gb.Hf(this.fa);this.fa.XG()};b.prototype.$m=function(a){a&&this.bq.push(a)};b.prototype.Lv=function(a){Ga(this.bq,a)};b.prototype.Yg=function(a){a=a.toString();return this.yj.hasOwnProperty(a)?this.yj[a]:null};var r=[];b.prototype.Ih=function(a){var b,c;b=a.type.name;var d=
null;if(this.fk.hasOwnProperty(b)){if(d=this.fk[b],d.contains(a))return}else d=r.length?r.pop():new ga,this.fk[b]=d;d.add(a);this.hj=!0;if(a.Lf)for(b=0,c=a.siblings.length;b<c;b++)this.Ih(a.siblings[b]);this.ru&&d.Am.push(a);this.di++;this.trigger(Object.getPrototypeOf(a.type.qc).M.Ww,a);this.di--};b.prototype.Gd=function(){if(this.hj){var a,b,c,d,k,e;this.ru=!0;c=0;for(k=this.kg.length;c<k;++c)for(a=this.kg[c],b=a.type,b.F.push(a),d=0,e=b.fc.length;d<e;++d)b.fc[d].F.push(a),b.fc[d].wm=!0;this.kg.length=
0;this.WB();Xa(this.fk);this.hj=this.ru=!1}};b.prototype.WB=function(){for(var a in this.fk)this.fk.hasOwnProperty(a)&&this.lB(this.fk[a])};b.prototype.lB=function(a){var b=a.Fg(),c=b[0].type,d,k,e,l,f,p;Za(c.F,a);c.wm=!0;0===c.F.length&&(c.xp=!1);d=0;for(k=c.fc.length;d<k;++d)p=c.fc[d],Za(p.F,a),p.wm=!0;d=0;for(k=this.Ah.Ce.length;d<k;++d)if(f=this.Ah.Ce[d],f.oe.hasOwnProperty(c.index)&&Za(f.oe[c.index].ai,a),!c.Ka)for(e=0,l=c.fc.length;e<l;++e)p=c.fc[e],f.oe.hasOwnProperty(p.index)&&Za(f.oe[p.index].ai,
a);if(f=b[0].S){if(f.Dg)for(e=f.F,d=0,k=e.length;d<k;++d)l=e[d],a.contains(l)&&(l.bb(),f.We.update(l,l.ze,null),l.ze.set(0,0,-1,-1));Za(f.F,a);f.Ho(0)}for(d=0;d<b.length;++d)this.kB(b[d],c);a.clear();r.push(a);this.wb=!0};b.prototype.kB=function(a,b){var c,d,k;c=0;for(d=this.bq.length;c<d;++c)this.bq[c](a);a.aj&&b.Kp.update(a,a.aj,null);(c=a.S)&&c.qm(a,!0);if(a.Ma)for(c=0,d=a.Ma.length;c<d;++c)k=a.Ma[c],k.wi&&k.wi(),k.behavior.rr.remove(a);this.Mz.remove(a);this.tv.remove(a);this.Nz.remove(a);a.wi&&
a.wi();this.yj.hasOwnProperty(a.uid.toString())&&delete this.yj[a.uid.toString()];this.xr--;100>b.Zp.length&&b.Zp.push(a)};var t=[];b.prototype.ek=function(a,b,c,d,k,e){var l,f,p,g;if(!a)return null;var h=this.da[a[1]],r=h.qc.lj;if(this.wk&&r&&!h.su||r&&!this.fa&&11===a[0][11])return null;var m=b;r||(b=null);var q;h.Zp.length?(q=h.Zp.pop(),q.ne=!0,h.qc.Qa.call(q,h)):(q=new h.qc.Qa(h),q.ne=!1);q.uid=c&&!e?a[2]:this.vo++;this.yj[q.uid.toString()]=q;q.iA=this.Iz++;q.pk=h.F.length;l=0;for(f=this.kg.length;l<
f;++l)this.kg[l].type===h&&q.pk++;q.Cn=Cb;q.toString=Db;p=a[3];if(q.ne)Xa(q.ba);else{q.ba={};if("undefined"!==typeof cr_is_preview)for(q.Ky=[],q.Ky.length=p.length,l=0,f=p.length;l<f;l++)q.Ky[l]=p[l][1];q.bd=[];q.bd.length=p.length}l=0;for(f=p.length;l<f;l++)q.bd[l]=p[l][0];if(r){var n=a[0];q.x=ka(d)?n[0]:d;q.y=ka(k)?n[1]:k;q.z=n[2];q.width=n[3];q.height=n[4];q.depth=n[5];q.L=n[6];q.opacity=n[7];q.te=n[8];q.ue=n[9];q.pe=n[10];l=n[11];!this.fa&&h.Ja.length&&(q.pe=l);q.kn=hb(q.pe);this.ca&&ib(q,q.pe,
this.ca);if(q.ne){l=0;for(f=n[12].length;l<f;l++)for(p=0,g=n[12][l].length;p<g;p++)q.jc[l][p]=n[12][l][p];q.Pb.set(0,0,0,0);q.aj.set(0,0,-1,-1);q.ze.set(0,0,-1,-1);q.Hb.Io(q.Pb);q.mt.length=0}else{q.jc=n[12].slice(0);l=0;for(f=q.jc.length;l<f;l++)q.jc[l]=n[12][l].slice(0);q.qb=[];q.Ui=[];q.Ui.length=h.Ja.length;q.Pb=new xa(0,0,0,0);q.aj=new xa(0,0,-1,-1);q.ze=new xa(0,0,-1,-1);q.Hb=new ya;q.mt=[];q.ea=Kb;q.MI=Lb;q.de=Mb;q.bb=Nb;q.GH=Ob;q.WA=Pb;q.Zg=Qb}q.Fi=!1;q.CH=0;q.BH=0;q.AH=null;14===n.length&&
(q.Fi=!0,q.CH=n[13][0],q.BH=n[13][1],q.AH=n[13][2]);l=0;for(f=h.Ja.length;l<f;l++)q.Ui[l]=!0;q.Ji=Rb;q.Ji();q.YA=!!q.qb.length;q.lt=!0;q.ot=!0;h.wp=!0;q.visible=!0;q.uo=-1;q.S=b;q.Gg=b.F.length;"undefined"===typeof q.Ya&&(q.Ya=null);this.wb=q.Qh=!0}var z;l=t.length=0;for(f=h.fc.length;l<f;l++)t.push.apply(t,h.fc[l].Jc);t.push.apply(t,h.Jc);if(q.ne)for(l=0,f=t.length;l<f;l++){var u=t[l];z=q.Ma[l];z.ne=!0;u.behavior.Qa.call(z,u,q);n=a[4][l];p=0;for(g=n.length;p<g;p++)z.aa[p]=n[p];z.wa();u.behavior.rr.add(q)}else for(q.Ma=
[],l=0,f=t.length;l<f;l++)u=t[l],z=new u.behavior.Qa(u,q),z.ne=!1,z.aa=a[4][l].slice(0),z.wa(),q.Ma.push(z),u.behavior.rr.add(q);n=a[5];if(q.ne)for(l=0,f=n.length;l<f;l++)q.aa[l]=n[l];else q.aa=n.slice(0);this.kg.push(q);this.hj=!0;b&&(b.cn(q,!0),1!==b.Uf||1!==b.Vf)&&(h.xp=!0);this.xr++;if(h.Lf){if(q.Lf=!0,q.ne?q.siblings.length=0:q.siblings=[],!c&&!e){l=0;for(f=h.Ke.length;l<f;l++)if(h.Ke[l]!==h){if(!h.Ke[l].Rg)return null;q.siblings.push(this.ek(h.Ke[l].Rg,m,!1,r?q.x:d,r?q.y:k,!0))}l=0;for(f=q.siblings.length;l<
f;l++)for(q.siblings[l].siblings.push(q),p=0;p<f;p++)l!==p&&q.siblings[l].siblings.push(q.siblings[p])}}else q.Lf=!1,q.siblings=null;q.wa();l=0;for(f=q.Ma.length;l<f;l++)q.Ma[l].dA&&q.Ma[l].dA();return q};b.prototype.bu=function(a){var b,c;b=0;for(c=this.Gb.Ua.length;b<c;b++){var d=this.Gb.Ua[b];if(kb(d.name,a))return d}return null};b.prototype.An=function(a){a=ua(a);0>a&&(a=0);a>=this.Gb.Ua.length&&(a=this.Gb.Ua.length-1);return this.Gb.Ua[a]};b.prototype.ut=function(a){var b,c;b=0;for(c=a.length;b<
c;b++)a[b].eb().pb=!0};b.prototype.Co=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Co()};b.prototype.Do=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Do()};b.prototype.Aj=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Aj()};b.prototype.SA=function(a){if(a.wp){var b,c,d=a.F;b=0;for(c=d.length;b<c;++b)d[b].WA();d=this.kg;b=0;for(c=d.length;b<c;++b)d[b].type===a&&d[b].WA();a.wp=!1}};b.prototype.Zt=function(a,b,c,d){var k,e,l=a?1!==a.Uf||1!==a.Vf:!1;if(b.Ka)for(a=0,k=b.qr.length;a<k;++a)e=
b.qr[a],l||e.xp?Ea(d,e.F):(this.SA(e),e.Kp.Lr(c,d));else l||b.xp?Ea(d,b.F):(this.SA(b),b.Kp.Lr(c,d))};b.prototype.zy=function(a,b,c,d){var k,e;k=0;for(e=b.length;k<e;++k)this.Zt(a,b[k],c,d)};b.prototype.pF=function(a,b,c){var d=this.zA;d&&this.zy(a,d.sr,b,c)};b.prototype.iF=function(a,b,c){var d=this.Wy;d&&this.zy(a,d.sr,b,c)};b.prototype.EA=function(a,b,c,d){var k=a.eb(),e,l,f,p,h,g;if(k.pb)for(d||(k.pb=!1,k.F.length=0),e=0,p=a.F.length;e<p;e++){if(f=a.F[e],f.bb(),h=f.S.Ie(b,c,!0),g=f.S.Ie(b,c,!1),
f.de(h,g)){if(d)return!1;k.F.push(f)}}else{e=l=0;for(p=k.F.length;e<p;e++)if(f=k.F[e],f.bb(),h=f.S.Ie(b,c,!0),g=f.S.Ie(b,c,!1),f.de(h,g)){if(d)return!1;k.F[l]=k.F[e];l++}d||(k.F.length=l)}a.jg();return d?!0:k.ju()};b.prototype.uf=function(a,b){if(!(a&&b&&a!==b&&a.Qh&&b.Qh))return!1;a.bb();b.bb();var c=a.S,d=b.S,k,e,l,f,p,h,g,r;if(c===d||c.Uf===d.Uf&&d.Vf===d.Vf&&c.scale===d.scale&&c.L===d.L&&c.Hg===d.Hg){if(!a.Pb.LF(b.Pb)||!a.Hb.Ly(b.Hb)||a.Fi&&b.Fi)return!1;if(a.Fi)return this.FA(a,b);if(b.Fi)return this.FA(b,
a);g=a.Ya&&!a.Ya.vk();k=b.Ya&&!b.Ya.vk();if(!g&&!k)return!0;g?(a.Ya.ak(a.width,a.height,a.L),g=a.Ya):(this.Bg.um(a.Hb,a.x,a.y,a.width,a.height),g=this.Bg);k?(b.Ya.ak(b.width,b.height,b.L),r=b.Ya):(this.Bg.um(b.Hb,b.x,b.y,b.width,b.height),r=this.Bg);return g.In(r,b.x-a.x,b.y-a.y)}g=a.Ya&&!a.Ya.vk();k=b.Ya&&!b.Ya.vk();g?(a.Ya.ak(a.width,a.height,a.L),this.Bg.sA(a.Ya)):this.Bg.um(a.Hb,a.x,a.y,a.width,a.height);g=this.Bg;k?(b.Ya.ak(b.width,b.height,b.L),this.cw.sA(b.Ya)):this.cw.um(b.Hb,b.x,b.y,b.width,
b.height);r=this.cw;k=0;for(e=g.tf;k<e;k++)l=2*k,f=l+1,p=g.Gc[l],h=g.Gc[f],g.Gc[l]=c.gc(p+a.x,h+a.y,!0),g.Gc[f]=c.gc(p+a.x,h+a.y,!1);g.bb();k=0;for(e=r.tf;k<e;k++)l=2*k,f=l+1,p=r.Gc[l],h=r.Gc[f],r.Gc[l]=d.gc(p+b.x,h+b.y,!0),r.Gc[f]=d.gc(p+b.x,h+b.y,!1);r.bb();return g.In(r,0,0)};var u=new ya;new xa(0,0,0,0);var q=[];b.prototype.FA=function(a,b){var c,d,k,e,l=b.Pb,f=a.x,p=a.y;a.RI(l,q);var g=b.Ya&&!b.Ya.vk();c=0;for(d=q.length;c<d;++c)if(k=q[c],e=k.bH,l.MF(e,f,p)&&(u.Io(e),u.offset(f,p),u.Ly(b.Hb)))if(g)if(b.Ya.ak(b.width,
b.height,b.L),k.rh){if(k.rh.In(b.Ya,b.x-(f+e.left),b.y-(p+e.top)))return q.length=0,!0}else{if(this.Bg.um(u,0,0,e.right-e.left,e.bottom-e.top),this.Bg.In(b.Ya,b.x,b.y))return q.length=0,!0}else if(k.rh){if(this.Bg.um(b.Hb,0,0,b.width,b.height),k.rh.In(this.Bg,-(f+e.left),-(p+e.top)))return q.length=0,!0}else return q.length=0,!0;q.length=0;return!1};b.prototype.NA=function(a,b){if(!b)return!1;var c,d,k,e,l;c=0;for(d=a.Jc.length;c<d;c++)if(a.Jc[c].behavior instanceof b)return!0;if(!a.Ka)for(c=0,d=
a.fc.length;c<d;c++)for(l=a.fc[c],k=0,e=l.Jc.length;k<e;k++)if(l.Jc[k].behavior instanceof b)return!0;return!1};b.prototype.OA=function(a){return this.NA(a,gc.nI)};b.prototype.lw=function(a){return this.NA(a,qc)};var z=[];b.prototype.Ze=function(a){var b,c,d;a.bb();this.pF(a.S,a.Pb,z);b=0;for(c=z.length;b<c;++b)if(d=z[b],d.ba.solidEnabled&&this.uf(a,d))return z.length=0,d;z.length=0;return null};var A=[];b.prototype.Ij=function(a,b){var c=null;b&&(c=A,c.length=0);a.bb();this.iF(a.S,a.Pb,z);var d,
k,e;d=0;for(k=z.length;d<k;++d)if(e=z[d],e.ba.jumpthruEnabled&&this.uf(a,e))if(b)c.push(e);else return z.length=0,e;z.length=0;return c};b.prototype.zg=function(a,b,c,d,k,e){d=d||50;var l=a.x,f=a.y,p,g=null,h=null;for(p=0;p<d;p++)if(a.x=l+b*p,a.y=f+c*p,a.ea(),!this.uf(a,g)&&((g=this.Ze(a))&&(h=g),!g&&(k&&(g=e?this.uf(a,e)?e:null:this.Ij(a))&&(h=g),!g)))return h&&this.Gv(a,b,c,h),!0;a.x=l;a.y=f;a.ea();return!1};b.prototype.Gv=function(a,b,c,d){var k=2,e,l=!1;e=!1;for(var f=a.x,p=a.y;16>=k;)e=1/k,k*=
2,a.x+=b*e*(l?1:-1),a.y+=c*e*(l?1:-1),a.ea(),this.uf(a,d)?e=l=!0:(e=l=!1,f=a.x,p=a.y);e&&(a.x=f,a.y=p,a.ea())};b.prototype.aH=function(a,b){var c=ka(b)?100:b,d=0,k=a.x,e=a.y,l=0,f=0,p=0,g=this.Ze(a);if(!g)return!0;for(;d<=c;){switch(l){case 0:f=0;p=-1;d++;break;case 1:f=1;p=-1;break;case 2:f=1;p=0;break;case 3:p=f=1;break;case 4:f=0;p=1;break;case 5:f=-1;p=1;break;case 6:f=-1;p=0;break;case 7:p=f=-1}l=(l+1)%8;a.x=ua(k+f*d);a.y=ua(e+p*d);a.ea();if(!this.uf(a,g)&&(g=this.Ze(a),!g))return!0}a.x=k;a.y=
e;a.ea();return!1};b.prototype.pm=function(a,b){a.Qh&&b.Qh&&this.Or.push([a,b])};b.prototype.MD=function(a,b){var c,d,k;c=0;for(d=this.Or.length;c<d;c++)if(k=this.Or[c],k[0]==a&&k[1]==b||k[0]==b&&k[1]==a)return!0;return!1};var G=-1;b.prototype.trigger=function(a,b,c){if(!this.Gb)return!1;var d=this.Gb.ik;if(!d)return!1;var k=!1,e,l,f;G++;var p=d.Gt;l=0;for(f=p.length;l<f;++l)e=this.KA(a,b,p[l],c),k=k||e;e=this.KA(a,b,d,c);G--;return k||e};b.prototype.KA=function(a,b,c,d){var k=!1,e,l,f,p;if(b)for(f=
this.jw(a,b,b.type.name,c,d),k=k||f,p=b.type.fc,e=0,l=p.length;e<l;++e)f=this.jw(a,b,p[e].name,c,d),k=k||f;else f=this.jw(a,b,"system",c,d),k=k||f;return k};b.prototype.jw=function(a,b,c,d,k){var e,l=!1,f=!1,f="undefined"!==typeof k,p=(f?d.jy:d.LA)[c];if(!p)return l;var g=null;d=0;for(e=p.length;d<e;++d)if(p[d].method==a){g=p[d].pn;break}if(!g)return l;a=f?g[k]:g;if(!a)return null;d=0;for(e=a.length;d<e;d++)k=a[d][0],f=a[d][1],f=this.WE(b,c,k,f),l=l||f;return l};b.prototype.WE=function(a,b,c,d){var k,
e,l=!1;this.kw++;var f=this.sd().nd;f&&this.Co(f.Ej);var p=1<this.kw;this.Co(c.Ej);p&&this.ZG();var g=this.Jr(c);g.nd=c;a&&(k=this.types[b].eb(),k.pb=!1,k.F.length=1,k.F[0]=a,this.types[b].jg());a=!0;if(c.parent){b=g.DA;for(k=c.parent;k;)b.push(k),k=k.parent;b.reverse();k=0;for(e=b.length;k<e;k++)if(!b[k].iH()){a=!1;break}}a&&(this.qn++,c.Tf?c.hH(d):c.Sc(),l=l||g.Ak);this.Fr();p&&this.TG();this.Aj(c.Ej);f&&this.Aj(f.Ej);this.hj&&0===this.di&&0===G&&!this.tu&&this.Gd();this.kw--;return l};b.prototype.El=
function(){var a=this.sd();return a.nd.Xc[a.Kc]};b.prototype.ZG=function(){this.$q++;this.$q>=this.Ru.length&&this.Ru.push([])};b.prototype.TG=function(){this.$q--};b.prototype.oy=function(){return this.Ru[this.$q]};b.prototype.Jr=function(a){this.fq++;this.fq>=this.Lt.length&&this.Lt.push(new Sb);var b=this.sd();b.reset(a);return b};b.prototype.Fr=function(){this.fq--};b.prototype.sd=function(){return this.Lt[this.fq]};b.prototype.$G=function(){this.br++;this.br>=this.Tu.length&&this.Tu.push(ca({name:void 0,
index:0,Ed:!1}));var a=this.eF();a.name=void 0;a.index=0;a.Ed=!1;return a};b.prototype.UG=function(){this.br--};b.prototype.eF=function(){return this.Tu[this.br]};b.prototype.qy=function(a,b){for(var c,d,k,e,l,f;b;){c=0;for(d=b.$f.length;c<d;c++)if(f=b.$f[c],f instanceof Tb&&kb(a,f.name))return f;b=b.parent}c=0;for(d=this.Wh.length;c<d;c++)for(l=this.Wh[c],k=0,e=l.ej.length;k<e;k++)if(f=l.ej[k],f instanceof Tb&&kb(a,f.name))return f;return null};b.prototype.uy=function(a){var b,c;b=0;for(c=this.qg.length;b<
c;b++)if(this.qg[b].gb===a)return this.qg[b];return null};b.prototype.uq=function(a){var b,c;b=0;for(c=this.da.length;b<c;b++)if(this.da[b].gb===a)return this.da[b];return null};b.prototype.fF=function(a){var b,c;b=0;for(c=this.Vi.length;b<c;b++)if(this.Vi[b].gb===a)return this.Vi[b];return null};b.prototype.FF=function(){var a=this,b=this.Uv,c=this.gi,d=this.Uq,k=!1;this.xA&&(k=!0,b="__c2_continuouspreview",this.xA=!1);if(b.length){this.Gd();c=this.nH();if(window.indexedDB&&!this.Kf)e(b,c,function(){ia("Saved state to IndexedDB storage ("+
c.length+" bytes)");a.gi=c;a.trigger(w.prototype.M.Ts,null);a.gi="";k&&h()},function(d){try{localStorage.setItem("__c2save_"+b,c),ia("Saved state to WebStorage ("+c.length+" bytes)"),a.gi=c,a.trigger(w.prototype.M.Ts,null),a.gi="",k&&h()}catch(e){ia("Failed to save game state: "+d+"; "+e)}});else try{localStorage.setItem("__c2save_"+b,c),ia("Saved state to WebStorage ("+c.length+" bytes)"),a.gi=c,this.trigger(w.prototype.M.Ts,null),a.gi="",k&&h()}catch(l){ia("Error saving to WebStorage: "+l)}this.he=
this.Uq=this.Uv=""}d.length&&(window.indexedDB&&!this.Kf?f(d,function(b){b?(a.he=b,ia("Loaded state from IndexedDB storage ("+a.he.length+" bytes)")):(a.he=localStorage.getItem("__c2save_"+d)||"",ia("Loaded state from WebStorage ("+a.he.length+" bytes)"));a.No=!1;a.he.length||a.trigger(w.prototype.M.Rs,null)},function(){a.he=localStorage.getItem("__c2save_"+d)||"";ia("Loaded state from WebStorage ("+a.he.length+" bytes)");a.No=!1;a.he.length||a.trigger(w.prototype.M.Rs,null)}):(this.he=localStorage.getItem("__c2save_"+
d)||"",ia("Loaded state from WebStorage ("+this.he.length+" bytes)"),this.No=!1,a.he.length||a.trigger(w.prototype.M.Rs,null)),this.Uv=this.Uq="");this.he.length&&(this.Gd(),this.aG(this.he),this.gi=this.he,this.trigger(w.prototype.M.qC,null),this.he=this.gi="")};b.prototype.nH=function(){var a,b,c,d,k,e,l,f={c2save:!0,version:1,rt:{time:this.ve.Wa,walltime:this.Eh.Wa,timescale:this.Gi,tickcount:this.vf,execcount:this.qn,next_uid:this.vo,running_layout:this.Gb.gb,start_time_offset:Date.now()-this.es},
types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.da.length;a<b;a++)if(k=this.da[a],!k.Ka&&!this.OA(k)){e={instances:[]};Wa(k.ba)&&(e.ex=g(k.ba));c=0;for(d=k.F.length;c<d;c++)e.instances.push(this.Tv(k.F[c]));f.types[k.gb.toString()]=e}a=0;for(b=this.qg.length;a<b;a++)c=this.qg[a],f.layouts[c.gb.toString()]=c.xd();d=f.events.groups;a=0;for(b=this.Vi.length;a<b;a++)c=this.Vi[a],d[c.gb.toString()]=this.En[c.Dn].mk;b=f.events.cnds;for(l in this.sl)this.sl.hasOwnProperty(l)&&
(a=this.sl[l],Wa(a.ba)&&(b[l]={ex:g(a.ba)}));b=f.events.acts;for(l in this.ol)this.ol.hasOwnProperty(l)&&(a=this.ol[l],Wa(a.ba)&&(b[l]={ex:a.ba}));b=f.events.vars;for(l in this.Bm)this.Bm.hasOwnProperty(l)&&(a=this.Bm[l],a.Fq||a.parent&&!a.On||(b[l]=a.data));f.system=this.Ah.xd();return JSON.stringify(f)};b.prototype.kA=function(){var a,b,c,d,k,e;this.yj={};a=0;for(b=this.da.length;a<b;a++)if(c=this.da[a],!c.Ka)for(d=0,k=c.F.length;d<k;d++)e=c.F[d],this.yj[e.uid.toString()]=e};b.prototype.aG=function(a){a=
JSON.parse(a);if(a.c2save&&!(1<a.version)){var b=a.rt;this.ve.reset();this.ve.Wa=b.time;this.Eh.reset();this.Eh.Wa=b.walltime||0;this.Gi=b.timescale;this.vf=b.tickcount;this.qn=b.execcount;this.es=Date.now()-b.start_time_offset;var c=b.running_layout;if(c!==this.Gb.gb)if(c=this.uy(c))this.cy(c);else return;var d,k,e,l,f,p,g;p=a.types;for(k in p)if(p.hasOwnProperty(k)&&(l=this.uq(parseInt(k,10)))&&!l.Ka&&!this.OA(l)){p[k].ex?l.ba=p[k].ex:Xa(l.ba);f=l.F;e=p[k].instances;c=0;for(d=sa(f.length,e.length);c<
d;c++)this.Vq(f[c],e[c]);c=e.length;for(d=f.length;c<d;c++)this.Ih(f[c]);c=f.length;for(d=e.length;c<d;c++){f=null;if(l.qc.lj&&(f=this.Gb.tq(e[c].w.l),!f))continue;f=this.ek(l.Rg,f,!1,0,0,!0);this.Vq(f,e[c])}l.wm=!0}this.Gd();this.kA();d=a.layouts;for(k in d)d.hasOwnProperty(k)&&(c=this.uy(parseInt(k,10)))&&c.Od(d[k]);d=a.events.groups;for(k in d)d.hasOwnProperty(k)&&(c=this.fF(parseInt(k,10)))&&this.En[c.Dn]&&(this.En[c.Dn].mk=d[k]);c=a.events.cnds;for(k in c)c.hasOwnProperty(k)&&this.sl.hasOwnProperty(k)&&
(this.sl[k].ba=c[k].ex);c=a.events.acts;for(k in c)c.hasOwnProperty(k)&&this.ol.hasOwnProperty(k)&&(this.ol[k].ba=c[k].ex);c=a.events.vars;for(k in c)c.hasOwnProperty(k)&&this.Bm.hasOwnProperty(k)&&(this.Bm[k].data=c[k]);this.vo=b.next_uid;this.Ah.Od(a.system);c=0;for(d=this.da.length;c<d;c++)if(l=this.da[c],!l.Ka)for(k=0,a=l.F.length;k<a;k++){f=l.F[k];if(l.Lf)for(p=f.Cn(),b=f.siblings.length=0,e=l.Ke.length;b<e;b++)g=l.Ke[b],l!==g&&f.siblings.push(g.F[p]);f.Af&&f.Af();if(f.Ma)for(b=0,e=f.Ma.length;b<
e;b++)p=f.Ma[b],p.Af&&p.Af()}this.wb=!0}};b.prototype.Tv=function(a,b){var c,d,k,e,l;e=a.type;k=e.qc;var f={};b?f.c2=!0:f.uid=a.uid;Wa(a.ba)&&(f.ex=g(a.ba));if(a.bd&&a.bd.length)for(f.ivs={},c=0,d=a.bd.length;c<d;c++)f.ivs[a.type.qu[c].toString()]=a.bd[c];if(k.lj){k={x:a.x,y:a.y,w:a.width,h:a.height,l:a.S.gb,zi:a.Zg()};0!==a.L&&(k.a=a.L);1!==a.opacity&&(k.o=a.opacity);.5!==a.te&&(k.hX=a.te);.5!==a.ue&&(k.hY=a.ue);0!==a.pe&&(k.bm=a.pe);a.visible||(k.v=a.visible);a.Qh||(k.ce=a.Qh);-1!==a.uo&&(k.mts=
a.uo);if(e.Ja.length)for(k.fx=[],c=0,d=e.Ja.length;c<d;c++)l=e.Ja[c],k.fx.push({name:l.name,active:a.Ui[l.index],params:a.jc[l.index]});f.w=k}if(a.Ma&&a.Ma.length)for(f.behs={},c=0,d=a.Ma.length;c<d;c++)e=a.Ma[c],e.xd&&(f.behs[e.type.gb.toString()]=e.xd());a.xd&&(f.data=a.xd());return f};b.prototype.hF=function(a,b){var c,d;c=0;for(d=a.qu.length;c<d;c++)if(a.qu[c]===b)return c;return-1};b.prototype.dF=function(a,b){var c,d;c=0;for(d=a.Ma.length;c<d;c++)if(a.Ma[c].type.gb===b)return c;return-1};b.prototype.Vq=
function(a,b,c){var d,k,e,l,f;f=a.type;e=f.qc;if(c){if(!b.c2)return}else a.uid=b.uid;b.ex?a.ba=b.ex:Xa(a.ba);if(k=b.ivs)for(d in k)k.hasOwnProperty(d)&&(c=this.hF(f,parseInt(d,10)),0>c||c>=a.bd.length||(a.bd[c]=k[d]));if(e.lj){e=b.w;a.S.gb!==e.l&&(c=a.S,a.S=this.Gb.tq(e.l),a.S?(c.qm(a,!0),a.S.cn(a,!0),a.ea(),a.S.Ho(0)):(a.S=c,this.Ih(a)));a.x=e.x;a.y=e.y;a.width=e.w;a.height=e.h;a.Gg=e.zi;a.L=e.hasOwnProperty("a")?e.a:0;a.opacity=e.hasOwnProperty("o")?e.o:1;a.te=e.hasOwnProperty("hX")?e.hX:.5;a.ue=
e.hasOwnProperty("hY")?e.hY:.5;a.visible=e.hasOwnProperty("v")?e.v:!0;a.Qh=e.hasOwnProperty("ce")?e.ce:!0;a.uo=e.hasOwnProperty("mts")?e.mts:-1;a.pe=e.hasOwnProperty("bm")?e.bm:0;a.kn=hb(a.pe);this.ca&&ib(a,a.pe,this.ca);a.ea();if(e.hasOwnProperty("fx"))for(c=0,k=e.fx.length;c<k;c++)l=f.au(e.fx[c].name),0>l||(a.Ui[l]=e.fx[c].active,a.jc[l]=e.fx[c].params);a.Ji()}if(f=b.behs)for(d in f)f.hasOwnProperty(d)&&(e=this.dF(a,parseInt(d,10)),0>e||a.Ma[e].Od(f[d]));b.data&&a.Od(b.data)};Ub=function(a){return new b(document.getElementById(a))};
Vb=function(a,c){return new b({dc:!0,width:a,height:c})};window.cr_createRuntime=Ub;window.cr_createDCRuntime=Vb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.aJ=!0;document.body.appendChild(a);a=new b(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);
return a};window.createEjectaRuntime=function(){var a=new b(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.j=a;this.ik=null;this.scrollX=this.j.dd/2;this.scrollY=this.j.cd/2;this.scale=1;this.L=0;this.Bl=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.PA=b[3];this.vA=b[4];this.gb=b[5];var c=b[6],d,e;this.Ua=[];this.Hn=[];d=0;for(e=c.length;d<e;d++){var f=new Wb(this,c[d]);f.Kz=d;this.Ua.push(f)}c=b[7];this.rk=[];d=0;for(e=c.length;d<e;d++){var f=c[d],g=this.j.da[f[1]];g.Rg||(g.Rg=f);this.rk.push(f);-1===this.Hn.indexOf(g)&&this.Hn.push(g)}this.Ja=[];this.qb=[];
this.jc=[];d=0;for(e=b[8].length;d<e;d++)this.Ja.push({id:b[8][d][0],name:b[8][d][1],Dd:-1,yc:!0,index:d}),this.jc.push(b[8][d][2].slice(0));this.Ji();this.Bj=new xa(0,0,1,1);this.Jv=new xa(0,0,1,1);this.zj={}}function c(a,b){return a.Gg-b.Gg}function b(a,b){this.Bc=a;this.j=a.j;this.F=[];this.scale=1;this.L=0;this.gk=!1;this.Hi=new xa(0,0,0,0);this.IA=new ya;this.Tc=this.vc=this.Uc=this.uc=0;this.al=!1;this.Mi=-1;this.name=b[0];this.index=b[1];this.gb=b[2];this.visible=b[3];this.Yi=b[4];this.Ii=
b[5];this.Uf=b[6];this.Vf=b[7];this.opacity=b[8];this.St=b[9];this.Dg=b[10];this.Hg=b[11];this.pe=b[12];this.vE=b[13];this.kn="source-over";this.Nd=this.Td=0;this.We=null;this.Ql=d();this.Ci=!0;this.Nq=new xa(0,0,-1,-1);this.Ff=new xa(0,0,-1,-1);this.Dg&&(this.We=new gb(this.j.dd,this.j.cd));this.Cj=!1;var c=b[14],e,f;this.Gl=[];e=0;for(f=c.length;e<f;e++){var g=c[e],h=this.j.da[g[1]];h.Rg||(h.Rg=g,h.UD=this.index);this.Gl.push(g);-1===this.Bc.Hn.indexOf(h)&&this.Bc.Hn.push(h)}this.Ja=[];this.qb=
[];this.jc=[];e=0;for(f=b[15].length;e<f;e++)this.Ja.push({id:b[15][e][0],name:b[15][e][1],Dd:-1,yc:!0,index:e}),this.jc.push(b[15][e][2].slice(0));this.Ji();this.Bj=new xa(0,0,1,1);this.Jv=new xa(0,0,1,1)}function d(){return g.length?g.pop():[]}function e(a){a.length=0;g.push(a)}a.prototype.mH=function(a){var b=a.type.gb.toString();this.zj.hasOwnProperty(b)||(this.zj[b]=[]);this.zj[b].push(this.j.Tv(a))};a.prototype.Cy=function(){var a=this.Ua[0];return!a.Ii&&1===a.opacity&&!a.St&&a.visible};a.prototype.Ji=
function(){this.qb.length=0;var a,b,c;a=0;for(b=this.Ja.length;a<b;a++)c=this.Ja[a],c.yc&&this.qb.push(c)};a.prototype.$t=function(a){var b,c,d;b=0;for(c=this.Ja.length;b<c;b++)if(d=this.Ja[b],d.name===a)return d;return null};var f=[],h=!0;a.prototype.bw=function(){this.vA&&(this.ik=this.j.Mt[this.vA],this.ik.nw());this.j.Gb=this;this.scrollX=this.j.dd/2;this.scrollY=this.j.cd/2;var a,b,d,e,g,m,q;a=0;for(d=this.j.da.length;a<d;a++)if(b=this.j.da[a],!b.Ka)for(g=b.F,b=0,e=g.length;b<e;b++)if(m=g[b],
m.S){var n=m.S.Kz;n>=this.Ua.length&&(n=this.Ua.length-1);m.S=this.Ua[n];-1===m.S.F.indexOf(m)&&m.S.F.push(m);m.S.al=!0}if(!h)for(a=0,d=this.Ua.length;a<d;++a)this.Ua[a].F.sort(c);f.length=0;this.JD();a=0;for(d=this.Ua.length;a<d;a++)m=this.Ua[a],m.RD(),m.pw();g=!1;if(!this.Bl){for(q in this.zj)if(this.zj.hasOwnProperty(q)&&(b=this.j.uq(parseInt(q,10)))&&!b.Ka&&this.j.lw(b)){e=this.zj[q];a=0;for(d=e.length;a<d;a++){m=null;if(b.qc.lj&&(m=this.tq(e[a].w.l),!m))continue;m=this.j.ek(b.Rg,m,!1,0,0,!0);
this.j.Vq(m,e[a]);g=!0;f.push(m)}e.length=0}a=0;for(d=this.Ua.length;a<d;a++)this.Ua[a].F.sort(c),this.Ua[a].al=!0}g&&(this.j.Gd(),this.j.kA());for(a=0;a<f.length;a++)if(m=f[a],m.type.Lf)for(d=m.Cn(),b=0,e=m.type.Ke.length;b<e;b++)q=m.type.Ke[b],m.type!==q&&(q.F.length>d?m.siblings.push(q.F[d]):q.Rg&&(g=this.j.ek(q.Rg,m.S,!0,m.x,m.y,!0),this.j.Gd(),q.ws(),m.siblings.push(g),f.push(g)));a=0;for(d=this.rk.length;a<d;a++)this.j.ek(this.rk[a],null,!0);this.j.Ph=null;this.j.Gd();if(this.j.Fb&&!this.j.lc)for(a=
0,d=this.j.da.length;a<d;a++)q=this.j.da[a],!q.Ka&&q.F.length&&q.Dv&&q.Dv(this.j.Fb);a=0;for(d=f.length;a<d;a++)m=f[a],this.j.trigger(Object.getPrototypeOf(m.type.qc).M.iC,m);f.length=0;this.j.trigger(w.prototype.M.$w,null);this.Bl=!1};a.prototype.QD=function(){var a,b,c,d,e;b=a=0;for(c=this.rk.length;a<c;a++)d=this.rk[a],e=this.j.da[d[1]],e.global?this.j.ek(d,null,!0):(this.rk[b]=d,b++);this.rk.length=b};a.prototype.xH=function(){this.j.trigger(w.prototype.M.Zw,null);this.j.Ah.Ce.length=0;var a,
b,c,d,e,f;if(!this.Bl)for(a=0,b=this.Ua.length;a<b;a++)for(this.Ua[a].qw(),e=this.Ua[a].F,c=0,d=e.length;c<d;c++)f=e[c],f.type.global||this.j.lw(f.type)&&this.mH(f);a=0;for(b=this.Ua.length;a<b;a++){e=this.Ua[a].F;c=0;for(d=e.length;c<d;c++)f=e[c],f.type.global||this.j.Ih(f);this.j.Gd();e.length=0;this.Ua[a].al=!0}a=0;for(b=this.j.da.length;a<b;a++)if(e=this.j.da[a],!(e.global||e.qc.lj||e.qc.cs||e.Ka)){c=0;for(d=e.F.length;c<d;c++)this.j.Ih(e.F[c]);this.j.Gd()}h=!1};new xa(0,0,0,0);a.prototype.Sg=
function(a){var b,c=a,d=!1,e=!this.j.Jf;e&&(this.j.Sq||(this.j.Sq=document.createElement("canvas"),b=this.j.Sq,b.width=this.j.Ta,b.height=this.j.Sa,this.j.cz=b.getContext("2d"),d=!0),b=this.j.Sq,c=this.j.cz,b.width!==this.j.Ta&&(b.width=this.j.Ta,d=!0),b.height!==this.j.Sa&&(b.height=this.j.Sa,d=!0),d&&(c.webkitImageSmoothingEnabled=this.j.sb,c.mozImageSmoothingEnabled=this.j.sb,c.msImageSmoothingEnabled=this.j.sb,c.imageSmoothingEnabled=this.j.sb));c.globalAlpha=1;c.globalCompositeOperation="source-over";
this.j.it&&!this.Cy()&&c.clearRect(0,0,this.j.Ta,this.j.Sa);var f,g,d=0;for(f=this.Ua.length;d<f;d++)g=this.Ua[d],g.visible&&0<g.opacity&&11!==g.pe&&(g.F.length||!g.Ii)?g.Sg(c):g.pw();e&&a.drawImage(b,0,0,this.j.width,this.j.height)};a.prototype.Hf=function(a){var b=0<this.qb.length||this.j.zm||!this.j.Jf;if(b){this.j.Qe||(this.j.Qe=a.Rh(this.j.Ta,this.j.Sa,this.j.sb));if(this.j.Qe.hn!==this.j.Ta||this.j.Qe.gn!==this.j.Sa)a.deleteTexture(this.j.Qe),this.j.Qe=a.Rh(this.j.Ta,this.j.Sa,this.j.sb);a.yh(this.j.Qe);
this.j.Jf||a.tm(this.j.Ta,this.j.Sa)}else this.j.Qe&&(a.yh(null),a.deleteTexture(this.j.Qe),this.j.Qe=null);this.j.it&&!this.Cy()&&a.clear(0,0,0,0);var c,d,e;c=0;for(d=this.Ua.length;c<d;c++)e=this.Ua[c],e.visible&&0<e.opacity&&(e.F.length||!e.Ii)?e.Hf(a):e.pw();b&&(0===this.qb.length||1===this.qb.length&&this.j.Jf?(1===this.qb.length?(b=this.qb[0].index,a.zh(this.qb[0].Dd),a.rm(null,1/this.j.Ta,1/this.j.Sa,0,0,1,1,this.scale,this.L,0,0,this.j.Ta/2,this.j.Sa/2,this.jc[b]),a.Ir(this.qb[0].Dd)&&(this.j.wb=
!0)):a.zh(0),this.j.Jf||a.tm(this.j.width,this.j.height),a.yh(null),a.Yk(1),a.Xe(this.j.Qe),a.pA(),a.wh(),a.Ch(),b=this.j.width/2,c=this.j.height/2,a.Kr(-b,c,b,c,b,-c,-b,-c),a.Xe(null)):this.Mv(a,null,null,null))};a.prototype.Bn=function(){return 0<this.qb.length||this.j.zm||!this.j.Jf?this.j.Qe:null};a.prototype.wy=function(){var a=this.Ua[0].jf(),b,c,d;b=1;for(c=this.Ua.length;b<c;b++)d=this.Ua[b],(0!==d.Uf||0!==d.Vf)&&d.jf()<a&&(a=d.jf());return a};a.prototype.Vv=function(a){if(!this.PA){var b=
1/this.wy()*this.j.Ta/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.j.wb=!0)};a.prototype.Wv=function(a){if(!this.PA){var b=1/this.wy()*this.j.Sa/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.j.wb=!0)};a.prototype.JD=function(){this.Vv(this.scrollX);this.Wv(this.scrollY)};a.prototype.Mv=function(a,b,c,d){var e=c?c.qb:b?b.qb:this.qb,f=1,g=0,h=0,m=0,n=this.j.Ta,x=this.j.Sa;c?(f=c.S.jf(),g=c.S.Oc(),h=c.S.uc,m=c.S.vc,n=c.S.Uc,
x=c.S.Tc):b&&(f=b.jf(),g=b.Oc(),h=b.uc,m=b.vc,n=b.Uc,x=b.Tc);var B=this.j.Vt,F,E,D,y,J=0,K=1,ea,aa=this.j.Ta,U=this.j.Sa,ba=aa/2,I=U/2,R=b?b.Bj:this.Bj,H=b?b.Jv:this.Jv,L=0,X=0,M=0,T=0,Q=aa,na=aa,S=U,za=U,oa=D=0,La=c?c.S.Oc():0;if(c){F=0;for(E=e.length;F<E;F++)D+=a.mF(e[F].Dd),oa+=a.nF(e[F].Dd);y=c.Pb;L=b.gc(y.left,y.top,!0,!0);M=b.gc(y.left,y.top,!1,!0);Q=b.gc(y.right,y.bottom,!0,!0);S=b.gc(y.right,y.bottom,!1,!0);0!==La&&(F=b.gc(y.right,y.top,!0,!0),E=b.gc(y.right,y.top,!1,!0),X=b.gc(y.left,y.bottom,
!0,!0),T=b.gc(y.left,y.bottom,!1,!0),y=Math.min(L,Q,F,X),Q=Math.max(L,Q,F,X),L=y,y=Math.min(M,S,E,T),S=Math.max(M,S,E,T),M=y);L-=D;M-=oa;Q+=D;S+=oa;H.left=L/aa;H.top=1-M/U;H.right=Q/aa;H.bottom=1-S/U;X=L=ua(L);T=M=ua(M);na=Q=va(Q);za=S=va(S);X-=D;T-=oa;na+=D;za+=oa;0>L&&(L=0);0>M&&(M=0);Q>aa&&(Q=aa);S>U&&(S=U);0>X&&(X=0);0>T&&(T=0);na>aa&&(na=aa);za>U&&(za=U);R.left=L/aa;R.top=1-M/U;R.right=Q/aa;R.bottom=1-S/U}else R.left=H.left=0,R.top=H.top=0,R.right=H.right=1,R.bottom=H.bottom=1;oa=c&&((c.L||La)&&
a.Ao(e[0].Dd)||0!==D||0!==oa||1!==c.opacity||c.type.qc.Gz)||b&&!c&&1!==b.opacity;a.pA();if(oa){B[J]||(B[J]=a.Rh(aa,U,this.j.sb));if(B[J].hn!==aa||B[J].gn!==U)a.deleteTexture(B[J]),B[J]=a.Rh(aa,U,this.j.sb);a.zh(0);a.yh(B[J]);ea=za-T;a.clearRect(X,U-T-ea,na-X,ea);c?c.Hf(a):(a.Xe(this.j.kf),a.Yk(b.opacity),a.wh(),a.translate(-ba,-I),a.Ch(),a.sh(L,S,Q,S,Q,M,L,M,R));H.left=H.top=0;H.right=H.bottom=1;c&&(y=R.top,R.top=R.bottom,R.bottom=y);J=1;K=0}a.Yk(1);D=e.length-1;var La=a.Fv(e[D].Dd)||!b&&!c&&!this.j.Jf,
Ma=0;F=0;for(E=e.length;F<E;F++){B[J]||(B[J]=a.Rh(aa,U,this.j.sb));if(B[J].hn!==aa||B[J].gn!==U)a.deleteTexture(B[J]),B[J]=a.Rh(aa,U,this.j.sb);a.zh(e[F].Dd);Ma=e[F].index;a.Ir(e[F].Dd)&&(this.j.wb=!0);0!=F||oa?(a.rm(d,1/aa,1/U,H.left,H.top,H.right,H.bottom,f,g,h,m,(h+n)/2,(m+x)/2,c?c.jc[Ma]:b?b.jc[Ma]:this.jc[Ma]),a.Xe(null),F!==D||La?(a.yh(B[J]),ea=za-T,y=U-T-ea,a.clearRect(X,y,na-X,ea)):(c?a.Dj(c.Td,c.Nd):b&&a.Dj(b.Td,b.Nd),a.yh(d)),a.Xe(B[K]),a.wh(),a.translate(-ba,-I),a.Ch(),a.sh(L,S,Q,S,Q,M,
L,M,R),F!==D||La||a.Xe(null)):(a.yh(B[J]),ea=za-T,y=U-T-ea,a.clearRect(X,y,na-X,ea),c?(a.rm(d,1/c.width,1/c.height,H.left,H.top,H.right,H.bottom,f,g,h,m,(h+n)/2,(m+x)/2,c.jc[Ma]),c.Hf(a)):(a.rm(d,1/aa,1/U,0,0,1,1,f,g,h,m,(h+n)/2,(m+x)/2,b?b.jc[Ma]:this.jc[Ma]),a.Xe(b?this.j.kf:this.j.Qe),a.wh(),a.translate(-ba,-I),a.Ch(),a.sh(L,S,Q,S,Q,M,L,M,R)),H.left=H.top=0,H.right=H.bottom=1,c&&!La&&(y=S,S=M,M=y));J=0===J?1:0;K=0===J?1:0}La&&(a.zh(0),c?a.Dj(c.Td,c.Nd):b?a.Dj(b.Td,b.Nd):this.j.Jf||(a.tm(this.j.width,
this.j.height),ba=this.j.width/2,I=this.j.height/2,M=L=0,Q=this.j.width,S=this.j.height),a.yh(d),a.Xe(B[K]),a.wh(),a.translate(-ba,-I),a.Ch(),c&&1===e.length&&!oa?a.sh(L,M,Q,M,Q,S,L,S,R):a.sh(L,S,Q,S,Q,M,L,M,R),a.Xe(null))};a.prototype.tq=function(a){var b,c;b=0;for(c=this.Ua.length;b<c;b++)if(this.Ua[b].gb===a)return this.Ua[b];return null};a.prototype.xd=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.L,w:this.width,h:this.height,fv:this.Bl,persist:this.zj,fx:[],layers:{}};
a=0;for(b=this.Ja.length;a<b;a++)c=this.Ja[a],d.fx.push({name:c.name,active:c.yc,params:this.jc[c.index]});a=0;for(b=this.Ua.length;a<b;a++)c=this.Ua[a],d.layers[c.gb.toString()]=c.xd();return d};a.prototype.Od=function(a){var b,c,d,e;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.L=a.a;this.width=a.w;this.height=a.h;this.zj=a.persist;"undefined"!==typeof a.fv&&(this.Bl=a.fv);var f=a.fx;b=0;for(c=f.length;b<c;b++)if(d=this.$t(f[b].name))d.yc=f[b].active,this.jc[d.index]=f[b].params;this.Ji();
b=a.layers;for(e in b)b.hasOwnProperty(e)&&(a=this.tq(parseInt(e,10)))&&a.Od(b[e])};Eb=a;b.prototype.Ji=function(){this.qb.length=0;var a,b,c;a=0;for(b=this.Ja.length;a<b;a++)c=this.Ja[a],c.yc&&this.qb.push(c)};b.prototype.$t=function(a){var b,c,d;b=0;for(c=this.Ja.length;b<c;b++)if(d=this.Ja[b],d.name===a)return d;return null};b.prototype.RD=function(){var a,b,c,d,e,g;b=a=0;for(c=this.Gl.length;a<c;a++){d=this.Gl[a];e=this.j.da[d[1]];g=this.j.lw(e);e=!0;if(!g||this.Bc.Bl)d=this.j.ek(d,this,!0),f.push(d),
d.type.global&&(e=!1);e&&(this.Gl[b]=this.Gl[a],b++)}this.Gl.length=b;this.j.Gd();!this.j.fa&&this.Ja.length&&(this.pe=this.vE);this.kn=hb(this.pe);this.j.ca&&ib(this,this.pe,this.j.ca);this.Ci=!0};b.prototype.qm=function(a,b){var c=Fa(this.F,a);0>c||(b&&this.Dg&&a.ze&&a.ze.right>=a.ze.left&&(a.bb(),this.We.update(a,a.ze,null),a.ze.set(0,0,-1,-1)),c===this.F.length-1?this.F.pop():(Ca(this.F,c),this.Ho(c)),this.Ci=!0)};b.prototype.cn=function(a,b){a.Gg=this.F.length;this.F.push(a);b&&this.Dg&&a.ze&&
a.ea();this.Ci=!0};b.prototype.WG=function(a){this.F.unshift(a);this.Ho(0)};b.prototype.EG=function(a,b,c){var d=a.Zg();b=b.Zg();Ca(this.F,d);d<b&&b--;c&&b++;b===this.F.length?this.F.push(a):this.F.splice(b,0,a);this.Ho(d<b?d:b)};b.prototype.Ho=function(a){-1===this.Mi?this.Mi=a:a<this.Mi&&(this.Mi=a);this.Ci=this.al=!0};b.prototype.qw=function(){if(this.al){-1===this.Mi&&(this.Mi=0);var a,b,c;if(this.Dg)for(a=this.Mi,b=this.F.length;a<b;++a)c=this.F[a],c.Gg=a,this.We.xG(c.ze);else for(a=this.Mi,
b=this.F.length;a<b;++a)this.F[a].Gg=a;this.al=!1;this.Mi=-1}};b.prototype.jf=function(a){return this.jF()*(this.j.Jf||a?this.j.dn:1)};b.prototype.jF=function(){return(this.scale*this.Bc.scale-1)*this.Hg+1};b.prototype.Oc=function(){return this.gk?0:Ja(this.Bc.L+this.L)};var g=[],n=[],m=[];b.prototype.xy=function(){this.qw();this.We.Lr(this.uc,this.vc,this.Uc,this.Tc,m);if(!m.length)return d();if(1===m.length){var a=d();Da(a,m[0]);m.length=0;return a}for(var b=!0;1<m.length;){for(var a=m,c=void 0,
f=void 0,g=void 0,h=void 0,q=void 0,c=0,f=a.length;c<f-1;c+=2){var g=a[c],h=a[c+1],q=d(),z=g,A=h,G=q,x=0,B=0,F=0,E=z.length,D=A.length,y=void 0,J=void 0;for(G.length=E+D;x<E&&B<D;++F)y=z[x],J=A[B],y.Gg<J.Gg?(G[F]=y,++x):(G[F]=J,++B);for(;x<E;++x,++F)G[F]=z[x];for(;B<D;++B,++F)G[F]=A[B];b||(e(g),e(h));n.push(q)}1===f%2&&(b?(g=d(),Da(g,a[f-1]),n.push(g)):n.push(a[f-1]));Da(a,n);n.length=0;b=!1}a=m[0];m.length=0;return a};b.prototype.Sg=function(a){this.Cj=this.St||1!==this.opacity||0!==this.pe;var b=
this.j.canvas,c=a,d=!1;this.Cj&&(this.j.Rq||(this.j.Rq=document.createElement("canvas"),b=this.j.Rq,b.width=this.j.Ta,b.height=this.j.Sa,this.j.bz=b.getContext("2d"),d=!0),b=this.j.Rq,c=this.j.bz,b.width!==this.j.Ta&&(b.width=this.j.Ta,d=!0),b.height!==this.j.Sa&&(b.height=this.j.Sa,d=!0),d&&(c.webkitImageSmoothingEnabled=this.j.sb,c.mozImageSmoothingEnabled=this.j.sb,c.msImageSmoothingEnabled=this.j.sb,c.imageSmoothingEnabled=this.j.sb),this.Ii&&c.clearRect(0,0,this.j.Ta,this.j.Sa));c.globalAlpha=
1;c.globalCompositeOperation="source-over";this.Ii||(c.fillStyle="rgb("+this.Yi[0]+","+this.Yi[1]+","+this.Yi[2]+")",c.fillRect(0,0,this.j.Ta,this.j.Sa));c.save();this.gk=!0;var d=this.Ie(0,0,!0,!0),f=this.Ie(0,0,!1,!0);this.gk=!1;this.j.qh&&(d=Math.round(d),f=Math.round(f));this.Pv(d,f,c);var g=this.jf();c.scale(g,g);c.translate(-d,-f);this.Dg?(this.Ff.left=this.We.cf(this.uc),this.Ff.top=this.We.df(this.vc),this.Ff.right=this.We.cf(this.Uc),this.Ff.bottom=this.We.df(this.Tc),this.Ci||!this.Ff.dq(this.Nq)?
(e(this.Ql),d=this.xy(),this.Ci=!1,this.Nq.ln(this.Ff)):d=this.Ql):d=this.F;for(var h,m=null,f=0,g=d.length;f<g;++f)h=d[f],h!==m&&(this.lE(h,c),m=h);this.Dg&&(this.Ql=d);c.restore();this.Cj&&(a.globalCompositeOperation=this.kn,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.lE=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.bb();var c=a.Pb;c.right<this.uc||c.bottom<this.vc||c.left>this.Uc||c.top>this.Tc||(b.globalCompositeOperation=a.kn,a.Sg(b))}};b.prototype.pw=function(){this.gk=
!0;var a=this.Ie(0,0,!0,!0),b=this.Ie(0,0,!1,!0);this.gk=!1;this.j.qh&&(a=Math.round(a),b=Math.round(b));this.Pv(a,b,null)};b.prototype.Pv=function(a,b,c){var d=this.jf();this.uc=a;this.vc=b;this.Uc=a+1/d*this.j.Ta;this.Tc=b+1/d*this.j.Sa;a=this.Oc();0!==a&&(c&&(c.translate(this.j.Ta/2,this.j.Sa/2),c.rotate(-a),c.translate(this.j.Ta/-2,this.j.Sa/-2)),this.Hi.set(this.uc,this.vc,this.Uc,this.Tc),this.Hi.offset((this.uc+this.Uc)/-2,(this.vc+this.Tc)/-2),this.IA.tA(this.Hi,a),this.IA.Ox(this.Hi),this.Hi.offset((this.uc+
this.Uc)/2,(this.vc+this.Tc)/2),this.uc=this.Hi.left,this.vc=this.Hi.top,this.Uc=this.Hi.right,this.Tc=this.Hi.bottom)};b.prototype.Hf=function(a){var b=0,c=0;if(this.Cj=this.St||1!==this.opacity||0<this.qb.length||0!==this.pe){this.j.kf||(this.j.kf=a.Rh(this.j.Ta,this.j.Sa,this.j.sb));if(this.j.kf.hn!==this.j.Ta||this.j.kf.gn!==this.j.Sa)a.deleteTexture(this.j.kf),this.j.kf=a.Rh(this.j.Ta,this.j.Sa,this.j.sb);a.yh(this.j.kf);this.Ii&&a.clear(0,0,0,0)}this.Ii||a.clear(this.Yi[0]/255,this.Yi[1]/255,
this.Yi[2]/255,1);this.gk=!0;var d=this.Ie(0,0,!0,!0),b=this.Ie(0,0,!1,!0);this.gk=!1;this.j.qh&&(d=Math.round(d),b=Math.round(b));this.Pv(d,b,null);d=this.jf();a.wh();a.scale(d,d);a.Qv(-this.Oc());a.translate((this.uc+this.Uc)/-2,(this.vc+this.Tc)/-2);a.Ch();this.Dg?(this.Ff.left=this.We.cf(this.uc),this.Ff.top=this.We.df(this.vc),this.Ff.right=this.We.cf(this.Uc),this.Ff.bottom=this.We.df(this.Tc),this.Ci||!this.Ff.dq(this.Nq)?(e(this.Ql),b=this.xy(),this.Ci=!1,this.Nq.ln(this.Ff)):b=this.Ql):b=
this.F;var f,g,h=null,c=0;for(f=b.length;c<f;++c)g=b[c],g!==h&&(this.mE(b[c],a),h=g);this.Dg&&(this.Ql=b);this.Cj&&(b=this.qb.length?this.qb[0].Dd:0,c=this.qb.length?this.qb[0].index:0,0===this.qb.length||1===this.qb.length&&!a.Fv(b)&&1===this.opacity?(1===this.qb.length?(a.zh(b),a.rm(this.Bc.Bn(),1/this.j.Ta,1/this.j.Sa,0,0,1,1,d,this.Oc(),this.uc,this.vc,(this.uc+this.Uc)/2,(this.vc+this.Tc)/2,this.jc[c]),a.Ir(b)&&(this.j.wb=!0)):a.zh(0),a.yh(this.Bc.Bn()),a.Yk(this.opacity),a.Xe(this.j.kf),a.Dj(this.Td,
this.Nd),a.wh(),a.Ch(),d=this.j.Ta/2,b=this.j.Sa/2,a.Kr(-d,b,d,b,d,-b,-d,-b),a.Xe(null)):this.Bc.Mv(a,this,null,this.Bc.Bn()))};b.prototype.mE=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.bb();var c=a.Pb;c.right<this.uc||c.bottom<this.vc||c.left>this.Uc||c.top>this.Tc||(a.YA?this.nE(a,b):(b.zh(0),b.Dj(a.Td,a.Nd),a.Hf(b)))}};b.prototype.nE=function(a,b){var c=a.qb[0].Dd,d=a.qb[0].index,e=this.jf();if(1!==a.qb.length||b.Fv(c)||b.YG(c)||(a.L||a.S.Oc())&&b.Ao(c)||1!==a.opacity||a.type.qc.Gz)this.Bc.Mv(b,
this,a,this.Cj?this.j.kf:this.Bc.Bn()),b.wh(),b.scale(e,e),b.Qv(-this.Oc()),b.translate((this.uc+this.Uc)/-2,(this.vc+this.Tc)/-2),b.Ch();else{b.zh(c);b.Dj(a.Td,a.Nd);b.Ir(c)&&(this.j.wb=!0);var f=0,g=0,h=0,m=0;b.Ao(c)&&(c=a.Pb,f=this.gc(c.left,c.top,!0,!0),g=this.gc(c.left,c.top,!1,!0),h=this.gc(c.right,c.bottom,!0,!0),c=this.gc(c.right,c.bottom,!1,!0),f/=windowWidth,g=1-g/windowHeight,h/=windowWidth,m=1-c/windowHeight);b.rm(this.Cj?this.j.kf:this.Bc.Bn(),1/a.width,1/a.height,f,g,h,m,e,this.Oc(),
this.uc,this.vc,(this.uc+this.Uc)/2,(this.vc+this.Tc)/2,a.jc[d]);a.Hf(b)}};b.prototype.Ie=function(a,b,c,d){var e=this.j.devicePixelRatio;this.j.tk&&(a*=e,b*=e);var e=this.j.Yz,f=this.j.Zz,e=(this.Bc.scrollX-e)*this.Uf+e,f=(this.Bc.scrollY-f)*this.Vf+f,g=e,h=f,m=1/this.jf(!d);d?(g-=this.j.Ta*m/2,h-=this.j.Sa*m/2):(g-=this.j.width*m/2,h-=this.j.height*m/2);g+=a*m;h+=b*m;b=this.Oc();0!==b&&(g-=e,h-=f,a=Math.cos(b),b=Math.sin(b),d=g*a-h*b,h=h*a+g*b,g=d+e,h+=f);return c?g:h};b.prototype.gc=function(a,
b,c,d){var e=this.j.Yz,f=this.j.Zz,g=(this.Bc.scrollX-e)*this.Uf+e,h=(this.Bc.scrollY-f)*this.Vf+f,f=g,e=h,m=this.Oc();if(0!==m){a-=g;b-=h;var n=Math.cos(-m),m=Math.sin(-m),x=a*n-b*m;b=b*n+a*m;a=x+g;b+=h}g=1/this.jf(!d);d?(f-=this.j.Ta*g/2,e-=this.j.Sa*g/2):(f-=this.j.width*g/2,e-=this.j.height*g/2);f=(a-f)/g;e=(b-e)/g;a=this.j.devicePixelRatio;this.j.tk&&!d&&(f/=a,e/=a);return c?f:e};b.prototype.xd=function(){var a,b,c,d={s:this.scale,a:this.L,vl:this.uc,vt:this.vc,vr:this.Uc,vb:this.Tc,v:this.visible,
bc:this.Yi,t:this.Ii,px:this.Uf,py:this.Vf,o:this.opacity,zr:this.Hg,fx:[],instances:[]};a=0;for(b=this.Ja.length;a<b;a++)c=this.Ja[a],d.fx.push({name:c.name,active:c.yc,params:this.jc[c.index]});return d};b.prototype.Od=function(a){var b,d;this.scale=a.s;this.L=a.a;this.uc=a.vl;this.vc=a.vt;this.Uc=a.vr;this.Tc=a.vb;this.visible=a.v;this.Yi=a.bc;this.Ii=a.t;this.Uf=a.px;this.Vf=a.py;this.opacity=a.o;this.Hg=a.zr;var e=a.fx;a=0;for(b=e.length;a<b;a++)if(d=this.$t(e[a].name))d.yc=e[a].active,this.jc[d.index]=
e[a].params;this.Ji();this.F.sort(c);this.al=!0};Wb=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,e,f,k;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=r.length&&(r.length=b.length+1);r[b.length]||(r[b.length]=[]);k=r[b.length];d=0;for(e=k.length;d<e;d++)if(f=k[d],a(b,f))return f;k.push(b);return b}
function d(a,b){this.j=a;this.LA={};this.jy={};this.ku=!1;this.Fy=new ga;this.Gt=[];this.jt=[];this.name=b[0];var c=b[1];this.ej=[];var d,e;d=0;for(e=c.length;d<e;d++)this.Iy(c[d],null,this.ej)}function e(a){this.type=a;this.F=[];this.rb=[];this.pb=!0}function f(a,b,c){this.sheet=a;this.parent=b;this.j=a.j;this.Eb=[];this.Ej=[];this.Dy=this.qs=this.iw=this.Bq=this.group=this.aw=!1;this.Xc=[];this.gg=[];this.$f=[];this.Dn="";this.mk=this.Bq=this.group=!1;this.Np=null;c[1]&&(this.Dn=c[1][1].toLowerCase(),
this.group=!0,this.Bq=!!c[1][0],this.Np=[],this.mk=this.Bq,this.j.Vi.push(this),this.j.En[this.Dn]=this);this.Tf=c[2];this.gb=c[4];this.group||(this.j.Nx[this.gb.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Xb(this,d[a]);e.index=a;this.Xc.push(e);this.Cx(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Yb(this,d[a]),e.index=a,this.gg.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Iy(c[a],this,this.$f);this.Gq=!1;this.Xc.length&&(this.Gq=null==this.Xc[0].type&&
this.Xc[0].Bd==w.prototype.M.Jw)}function h(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Lf))for(c=0,d=a.Ke.length;c<d;c++)e=a.Ke[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function g(a,b){this.ff=a;this.sheet=a.sheet;this.j=a.j;this.Aa=[];this.Ib=[];this.ba={};this.index=-1;this.an=!1;this.Bd=this.j.Qi(b[1]);this.trigger=0<b[3];this.iy=2===b[3];this.eh=b[4];this.Hl=b[5];this.YF=b[6];this.gb=b[7];this.j.sl[this.gb.toString()]=this;-1===b[0]?(this.type=null,this.Sc=this.Sv,this.Zj=null,this.Bf=
-1):(this.type=this.j.da[b[0]],this.Sc=this.YF?this.jH:this.Rv,b[2]?(this.Zj=this.type.sq(b[2]),this.Bf=this.type.Yt(b[2])):(this.Zj=null,this.Bf=-1),this.ff.parent&&this.ff.parent.Yr());this.iy&&(this.Sc=this.kH);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var k=new Zb(this,e[c]);this.Aa.push(k)}this.Ib.length=e.length}}function n(a,b){this.ff=a;this.sheet=a.sheet;this.j=a.j;this.Aa=[];this.Ib=[];this.ba={};this.index=-1;this.an=!1;this.Bd=this.j.Qi(b[1]);-1===b[0]?(this.type=null,
this.Sc=this.Sv,this.Zj=null,this.Bf=-1):(this.type=this.j.da[b[0]],this.Sc=this.Rv,b[2]?(this.Zj=this.type.sq(b[2]),this.Bf=this.type.Yt(b[2])):(this.Zj=null,this.Bf=-1));this.gb=b[3];this.j.ol[this.gb.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var k=new Zb(this,e[c]);this.Aa.push(k)}this.Ib.length=e.length}}function m(a,b){this.ta=a;this.ff=a.ff;this.sheet=a.sheet;this.j=a.j;this.type=b[0];this.Ug=null;this.Fj=0;this.get=null;this.Wx=0;this.Bc=null;this.key=0;this.object=
null;this.index=0;this.So=this.Zk=this.So=this.Zk=this.ky=this.jk=this.To=null;this.ag=!1;var c,d,e;switch(b[0]){case 0:case 7:this.Ug=new $b(this,b[1]);this.Fj=0;this.get=this.tF;break;case 1:this.Ug=new $b(this,b[1]);this.Fj=0;this.get=this.uF;break;case 5:this.Ug=new $b(this,b[1]);this.Fj=0;this.get=this.yF;break;case 3:case 8:this.Wx=b[1];this.get=this.rF;break;case 6:this.Bc=this.j.Rl[b[1]];this.get=this.zF;break;case 9:this.key=b[1];this.get=this.xF;break;case 4:this.object=this.j.da[b[1]];
this.get=this.AF;this.ff.Cx(this.object);this.ta instanceof Yb?this.ff.Yr():this.ff.parent&&this.ff.parent.Yr();break;case 10:this.index=b[1];a.type.Ka?(this.get=this.vF,this.ag=!0):this.get=this.wF;break;case 11:this.To=b[1];this.jk=null;this.get=this.sF;break;case 2:case 12:this.ky=b[1];this.get=this.qF;break;case 13:for(this.get=this.BF,this.Zk=[],this.So=[],c=1,d=b.length;c<d;c++)e=new Zb(this.ta,b[c]),this.Zk.push(e),this.So.push(0)}}function l(a,b,c){this.sheet=a;this.parent=b;this.j=a.j;this.Eb=
[];this.name=c[1];this.ZA=c[2];this.Aq=c[3];this.On=!!c[4];this.Fq=!!c[5];this.gb=c[6];this.j.Bm[this.gb.toString()]=this;this.data=this.Aq;this.parent?(this.Gk=this.On||this.Fq?-1:this.j.uH++,this.j.BD.push(this)):(this.Gk=-1,this.j.ht.push(this))}function k(a,b,c){this.sheet=a;this.parent=b;this.j=a.j;this.Eb=[];this.Gn=null;this.IF=c[1];this.yc=!0}function p(){this.DA=[];this.reset(null)}var r=[];d.prototype.toString=function(){return this.name};d.prototype.Iy=function(a,b,c){switch(a[0]){case 0:a=
new ac(this,b,a);if(a.Tf)for(c.push(a),c=0,b=a.Xc.length;c<b;c++)a.Xc[c].trigger&&this.Jy(a,c);else a.Uy()?this.Jy(a,0):c.push(a);break;case 1:a=new Tb(this,b,a);c.push(a);break;case 2:a=new bc(this,b,a),c.push(a)}};d.prototype.Fc=function(){var a,b;a=0;for(b=this.ej.length;a<b;a++)this.ej[a].Fc(a<b-1&&this.ej[a+1].Gq)};d.prototype.nw=function(){this.Gt.length=0;this.jt.length=0;this.Bx(this);this.jt.length=0};d.prototype.Bx=function(a){var b,c,d,e,k=a.Gt,f=a.jt,g=this.Fy.Fg();b=0;for(c=g.length;b<
c;++b)d=g[b],e=d.Gn,!d.yc||a===e||-1<f.indexOf(e)||(f.push(e),e.Bx(a),k.push(e))};d.prototype.Sc=function(a){this.j.YI||(this.ku=!0,a||(this.j.tu=!0));var b,c;b=0;for(c=this.ej.length;b<c;b++){var d=this.ej[b];d.Sc();this.j.ut(d.Eb);this.j.hj&&this.j.Gd()}a||(this.j.tu=!1)};d.prototype.Jy=function(a,b){a.Tf||this.j.vs.push(a);var c,d,e=a.Xc[b],k;k=e.type?e.type.name:"system";var f=(c=e.iy)?this.jy:this.LA;f[k]||(f[k]=[]);k=f[k];f=e.Bd;if(c){if(e.Aa.length&&(e=e.Aa[0],1===e.type&&2===e.Ug.type)){e=
e.Ug.value.toLowerCase();c=0;for(d=k.length;c<d;c++)if(k[c].method==f){c=k[c].pn;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];k.push({method:f,pn:c})}}else{c=0;for(d=k.length;c<d;c++)if(k[c].method==f){k[c].pn.push([a,b]);return}C&&f===C.prototype.M.ll?k.unshift({method:f,pn:[[a,b]]}):k.push({method:f,pn:[[a,b]]})}};Fb=d;e.prototype.ju=function(){return this.pb?this.type.F.length:this.F.length};e.prototype.hf=function(){return this.pb?this.type.F:this.F};e.prototype.xo=function(a){a&&
(a.j.sd().nd.Tf?(this.pb&&(this.F.length=0,Da(this.rb,a.type.F),this.pb=!1),a=this.rb.indexOf(a),-1!==a&&(this.F.push(this.rb[a]),this.rb.splice(a,1))):(this.pb=!1,this.F.length=1,this.F[0]=a))};ob=e;window._c2hh_="DA39A3EE5E6B4B0D3255BFEF95601890AFD80709";f.prototype.Fc=function(a){var c,d=this.parent;if(this.group)for(this.qs=!0;d;){if(!d.group){this.qs=!1;break}d=d.parent}this.iw=!this.Uy()&&(!this.parent||this.parent.group&&this.parent.qs);this.Dy=!!a;this.Ej=this.Eb.slice(0);for(d=this.parent;d;){a=
0;for(c=d.Eb.length;a<c;a++)this.zD(d.Eb[a]);d=d.parent}this.Eb=b(this.Eb);this.Ej=b(this.Ej);a=0;for(c=this.Xc.length;a<c;a++)this.Xc[a].Fc();a=0;for(c=this.gg.length;a<c;a++)this.gg[a].Fc();a=0;for(c=this.$f.length;a<c;a++)this.$f[a].Fc(a<c-1&&this.$f[a+1].Gq)};f.prototype.pH=function(a){if(this.mk!==!!a){this.mk=!!a;var b;a=0;for(b=this.Np.length;a<b;++a)this.Np[a].RA();0<b&&this.j.Gb.ik&&this.j.Gb.ik.nw()}};f.prototype.Cx=function(a){h(a,this.Eb)};f.prototype.zD=function(a){h(a,this.Ej)};f.prototype.Yr=
function(){this.aw=!0;this.parent&&this.parent.Yr()};f.prototype.Uy=function(){return this.Xc.length?this.Xc[0].trigger:!1};f.prototype.Sc=function(){var a,b=!1,c,d=this.j,e=this.j.sd();e.nd=this;var k=this.Xc;this.Gq||(e.Jt=!1);if(this.Tf){0===k.length&&(b=!0);e.Kc=0;for(a=k.length;e.Kc<a;e.Kc++)k[e.Kc].trigger||(c=k[e.Kc].Sc())&&(b=!0);(e.Ak=b)&&this.Rr()}else{e.Kc=0;for(a=k.length;e.Kc<a;e.Kc++)if(c=k[e.Kc].Sc(),!c){e.Ak=!1;this.iw&&d.hj&&d.Gd();return}e.Ak=!0;this.Rr()}this.xE(e)};f.prototype.xE=
function(a){a.Ak&&this.Dy&&(a.Jt=!0);this.iw&&this.j.hj&&this.j.Gd()};f.prototype.hH=function(a){this.j.sd().nd=this;this.Xc[a].Sc()&&(this.Rr(),this.j.sd().Ak=!0)};f.prototype.Rr=function(){var a=this.j.sd(),b;a.Ge=0;for(b=this.gg.length;a.Ge<b;a.Ge++)if(this.gg[a.Ge].Sc())return;this.mA()};f.prototype.fH=function(){var a=this.j.sd(),b;for(b=this.gg.length;a.Ge<b;a.Ge++)if(this.gg[a.Ge].Sc())return;this.mA()};f.prototype.mA=function(){if(this.$f.length){var a,b,c,d,e=this.$f.length-1;this.j.Jr(this);
if(this.aw)for(a=0,b=this.$f.length;a<b;a++)c=this.$f[a],(d=!this.qs||!this.group&&a<e)&&this.j.Do(c.Eb),c.Sc(),d?this.j.Aj(c.Eb):this.j.ut(c.Eb);else for(a=0,b=this.$f.length;a<b;a++)this.$f[a].Sc();this.j.Fr()}};f.prototype.iH=function(){var a=this.j.sd();a.nd=this;var b=!1,c;a.Kc=0;for(c=this.Xc.length;a.Kc<c;a.Kc++)if(this.Xc[a.Kc].Sc())b=!0;else if(!this.Tf)return!1;return this.Tf?b:!0};f.prototype.Ov=function(){this.j.qn++;var a=this.j.sd().Kc,b=this.j.Jr(this);if(!this.Tf)for(b.Kc=a+1,a=this.Xc.length;b.Kc<
a;b.Kc++)if(!this.Xc[b.Kc].Sc()){this.j.Fr();return}this.Rr();this.j.Fr()};f.prototype.RF=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Xc[b].type===a.type)return!1;return!0};ac=f;g.prototype.Fc=function(){var a,b,c;a=0;for(b=this.Aa.length;a<b;a++)c=this.Aa[a],c.Fc(),c.ag&&(this.an=!0)};g.prototype.kH=function(){return!0};g.prototype.Sv=function(){var a,b;a=0;for(b=this.Aa.length;a<b;a++)this.Ib[a]=this.Aa[a].get();return Va(this.Bd.apply(this.j.Ah,this.Ib),this.Hl)};g.prototype.jH=
function(){var a,b;a=0;for(b=this.Aa.length;a<b;a++)this.Ib[a]=this.Aa[a].get();a=this.Bd.apply(this.Zj?this.Zj:this.type,this.Ib);this.type.jg();return a};g.prototype.Rv=function(){var a,b,c,d,e,k,f,g,l=this.type,h=l.eb(),m=this.ff.Tf&&!this.trigger;b=0;var p=l.Lf,n=l.Ka,r=l.Xh,t=this.Bf,u=-1<t,I=this.an,R=this.Aa,H=this.Ib,L=this.Hl,X=this.Bd,M;if(I)for(b=0,e=R.length;b<e;++b)k=R[b],k.ag||(H[b]=k.get(0));else for(b=0,e=R.length;b<e;++b)H[b]=R[b].get(0);if(h.pb){h.F.length=0;h.rb.length=0;M=l.F;
a=0;for(d=M.length;a<d;++a){g=M[a];if(I)for(b=0,e=R.length;b<e;++b)k=R[b],k.ag&&(H[b]=k.get(a));u?(b=0,n&&(b=g.type.Al[r]),b=X.apply(g.Ma[t+b],H)):b=X.apply(g,H);(f=Va(b,L))?h.F.push(g):m&&h.rb.push(g)}l.finish&&l.finish(!0);h.pb=!1;l.jg();return h.ju()}c=0;M=(f=m&&!this.ff.RF(this))?h.rb:h.F;var T=!1;a=0;for(d=M.length;a<d;++a){g=M[a];if(I)for(b=0,e=R.length;b<e;++b)k=R[b],k.ag&&(H[b]=k.get(a));u?(b=0,n&&(b=g.type.Al[r]),b=X.apply(g.Ma[t+b],H)):b=X.apply(g,H);if(Va(b,L))if(T=!0,f){if(h.F.push(g),
p)for(b=0,e=g.siblings.length;b<e;b++)k=g.siblings[b],k.type.eb().F.push(k)}else{M[c]=g;if(p)for(b=0,e=g.siblings.length;b<e;b++)k=g.siblings[b],k.type.eb().F[c]=k;c++}else if(f){M[c]=g;if(p)for(b=0,e=g.siblings.length;b<e;b++)k=g.siblings[b],k.type.eb().rb[c]=k;c++}else if(m&&(h.rb.push(g),p))for(b=0,e=g.siblings.length;b<e;b++)k=g.siblings[b],k.type.eb().rb.push(k)}M.length=c;if(p)for(n=l.Ke,a=0,d=n.length;a<d;a++)g=n[a].eb(),f?g.rb.length=c:g.F.length=c;c=T;if(f&&!T)for(a=0,d=h.F.length;a<d;a++){g=
h.F[a];if(I)for(b=0,e=R.length;b<e;b++)k=R[b],k.ag&&(H[b]=k.get(a));b=u?X.apply(g.Ma[t],H):X.apply(g,H);if(Va(b,L)){T=!0;break}}l.finish&&l.finish(c||m);return m?T:h.ju()};Xb=g;n.prototype.Fc=function(){var a,b,c;a=0;for(b=this.Aa.length;a<b;a++)c=this.Aa[a],c.Fc(),c.ag&&(this.an=!0)};n.prototype.Sv=function(){var a,b;a=0;for(b=this.Aa.length;a<b;a++)this.Ib[a]=this.Aa[a].get();return this.Bd.apply(this.j.Ah,this.Ib)};n.prototype.Rv=function(){var a=this.type.eb().hf(),b=this.type.Ka,c=this.type.Xh,
d=this.Bf,e=-1<d,k=this.an,f=this.Aa,g=this.Ib,l=this.Bd,h,m,p,n,r,t;if(k)for(m=0,n=f.length;m<n;++m)r=f[m],r.ag||(g[m]=r.get(0));else for(m=0,n=f.length;m<n;++m)g[m]=f[m].get(0);h=0;for(p=a.length;h<p;++h){t=a[h];if(k)for(m=0,n=f.length;m<n;++m)r=f[m],r.ag&&(g[m]=r.get(h));e?(m=0,b&&(m=t.type.Al[c]),l.apply(t.Ma[d+m],g)):l.apply(t,g)}return!1};Yb=n;var t=[],u=-1;m.prototype.Fc=function(){var a,b;if(11===this.type)this.jk=this.j.qy(this.To,this.ff.parent);else if(13===this.type)for(a=0,b=this.Zk.length;a<
b;a++)this.Zk[a].Fc();this.Ug&&this.Ug.Fc()};m.prototype.AG=function(a){this.ag||!a||a.qc.cs||(this.ag=!0)};m.prototype.rA=function(){this.ag=!0};m.prototype.ed=function(){u++;t.length===u&&t.push(new cc);return t[u]};m.prototype.Rc=function(){u--};m.prototype.tF=function(a){this.Fj=a||0;a=this.ed();this.Ug.get(a);this.Rc();return a.data};m.prototype.uF=function(a){this.Fj=a||0;a=this.ed();this.Ug.get(a);this.Rc();return ma(a.data)?a.data:""};m.prototype.AF=function(){return this.object};m.prototype.rF=
function(){return this.Wx};m.prototype.yF=function(a){this.Fj=a||0;a=this.ed();this.Ug.get(a);this.Rc();return a.td()?this.j.An(a.data):this.j.bu(a.data)};m.prototype.zF=function(){return this.Bc};m.prototype.xF=function(){return this.key};m.prototype.wF=function(){return this.index};m.prototype.vF=function(a){a=a||0;var b=this.ta.type,c=null,c=b.eb(),d=c.hf();if(d.length)c=d[a%d.length].type;else if(c.rb.length)c=c.rb[a%c.rb.length].type;else if(b.F.length)c=b.F[a%b.F.length].type;else return 0;
return this.index+c.hq[b.Xh]};m.prototype.sF=function(){return this.jk};m.prototype.qF=function(){return this.ky};m.prototype.BF=function(){var a,b;a=0;for(b=this.Zk.length;a<b;a++)this.So[a]=this.Zk[a].get();return this.So};Zb=m;l.prototype.Fc=function(){this.Eb=b(this.Eb)};l.prototype.Zr=function(a){var b=this.j.oy();this.parent&&!this.On&&b?(this.Gk>=b.length&&(b.length=this.Gk+1),b[this.Gk]=a):this.data=a};l.prototype.Ay=function(){var a=this.j.oy();return!this.parent||this.On||!a||this.Fq?this.data:
this.Gk>=a.length||"undefined"===typeof a[this.Gk]?this.Aq:a[this.Gk]};l.prototype.Sc=function(){!this.parent||this.On||this.Fq||this.Zr(this.Aq)};Tb=l;k.prototype.toString=function(){return"include:"+this.Gn.toString()};k.prototype.Fc=function(){this.Gn=this.j.Mt[this.IF];this.sheet.Fy.add(this);this.Eb=b(this.Eb);for(var a=this.parent;a;)a.group&&a.Np.push(this),a=a.parent;this.RA()};k.prototype.Sc=function(){this.parent&&this.j.Co(this.j.da);this.Gn.ku||this.Gn.Sc(!0);this.parent&&this.j.Aj(this.j.da)};
k.prototype.RA=function(){for(var a=this.parent;a;){if(a.group&&!a.mk){this.yc=!1;return}a=a.parent}this.yc=!0};bc=k;p.prototype.reset=function(a){this.nd=a;this.Ge=this.Kc=0;this.DA.length=0;this.Jt=this.Ak=!1};p.prototype.TF=function(){return this.nd.aw?!0:this.Kc<this.nd.Xc.length-1?!!this.nd.Eb.length:!1};Sb=p})();
(function(){function a(a,c){this.ta=a;this.j=a.j;this.type=c[0];this.get=[this.KE,this.GE,this.SE,this.VE,this.AE,this.TE,this.OE,this.DE,this.NE,this.RE,this.BE,this.QE,this.EE,this.PE,this.LE,this.ME,this.HE,this.IE,this.CE,this.UE,this.gy,this.JE,this.gy,this.FE][this.type];var e=null;this.ye=this.Aa=this.Ib=this.Bd=this.ks=this.yd=this.first=this.value=null;this.Bf=-1;this.$h=null;this.vw=-1;this.jk=this.To=null;this.Eo=!1;switch(this.type){case 0:case 1:case 2:this.value=c[1];break;case 3:this.first=
new $b(a,c[1]);break;case 18:this.first=new $b(a,c[1]);this.yd=new $b(a,c[2]);this.ks=new $b(a,c[3]);break;case 19:this.Bd=this.j.Qi(c[1]);this.Bd!==w.prototype.kc.random&&this.Bd!==w.prototype.kc.ND||this.ta.rA();this.Ib=[];this.Aa=[];3===c.length?(e=c[2],this.Ib.length=e.length+1):this.Ib.length=1;break;case 20:this.ye=this.j.da[c[1]];this.Bf=-1;this.Bd=this.j.Qi(c[2]);this.Eo=c[3];fc.Function&&this.Bd===fc.Function.prototype.kc.WH&&this.ta.rA();this.$h=c[4]?new $b(a,c[4]):null;this.Ib=[];this.Aa=
[];6===c.length?(e=c[5],this.Ib.length=e.length+1):this.Ib.length=1;break;case 21:this.ye=this.j.da[c[1]];this.Eo=c[2];this.$h=c[3]?new $b(a,c[3]):null;this.vw=c[4];break;case 22:this.ye=this.j.da[c[1]];this.ye.sq(c[2]);this.Bf=this.ye.Yt(c[2]);this.Bd=this.j.Qi(c[3]);this.Eo=c[4];this.$h=c[5]?new $b(a,c[5]):null;this.Ib=[];this.Aa=[];7===c.length?(e=c[6],this.Ib.length=e.length+1):this.Ib.length=1;break;case 23:this.To=c[1],this.jk=null}this.ta.AG(this.ye);4<=this.type&&17>=this.type&&(this.first=
new $b(a,c[1]),this.yd=new $b(a,c[2]));if(e){var f,h;f=0;for(h=e.length;f<h;f++)this.Aa.push(new $b(a,e[f]))}}function c(a,c){this.type=a||dc.kl;this.data=c||0;this.lm=null;this.type==dc.kl&&(this.data=Math.floor(this.data))}a.prototype.Fc=function(){23===this.type&&(this.jk=this.ta.j.qy(this.To,this.ta.ff.parent));this.first&&this.first.Fc();this.yd&&this.yd.Fc();this.ks&&this.ks.Fc();this.$h&&this.$h.Fc();if(this.Aa){var a,c;a=0;for(c=this.Aa.length;a<c;a++)this.Aa[a].Fc()}};a.prototype.UE=function(a){this.Ib[0]=
a;a=this.ta.ed();var c,e;c=0;for(e=this.Aa.length;c<e;c++)this.Aa[c].get(a),this.Ib[c+1]=a.data;this.ta.Rc();this.Bd.apply(this.j.Ah,this.Ib)};a.prototype.gy=function(a){var c=this.ye.eb(),e=c.hf();if(!e.length)if(c.rb.length)e=c.rb;else{this.Eo?a.Be(""):a.Jb(0);return}this.Ib[0]=a;a.lm=this.ye;a=this.ta.ed();var f,c=0;for(f=this.Aa.length;c<f;c++)this.Aa[c].get(a),this.Ib[c+1]=a.data;c=this.ta.Fj;this.$h&&(this.$h.get(a),a.td()&&(c=a.data,e=this.ye.F));this.ta.Rc();c%=e.length;0>c&&(c+=e.length);
e=e[c];-1<this.Bf?(a=0,this.ye.Ka&&(a=e.type.Al[this.ye.Xh]),this.Bd.apply(e.Ma[this.Bf+a],this.Ib)):this.Bd.apply(e,this.Ib)};a.prototype.JE=function(a){var c=this.ye.eb(),e=c.hf();if(!e.length)if(c.rb.length)e=c.rb;else{this.Eo?a.Be(""):a.Jb(0);return}c=this.ta.Fj;if(this.$h){var f=this.ta.ed();this.$h.get(f);if(f.td()){c=f.data;e=this.ye.F;c%=e.length;0>c&&(c+=e.length);e=e[c].bd[this.vw];ma(e)?a.Be(e):a.za(e);this.ta.Rc();return}this.ta.Rc()}c%=e.length;0>c&&(c+=e.length);e=e[c];c=0;this.ye.Ka&&
(c=e.type.hq[this.ye.Xh]);e=e.bd[this.vw+c];ma(e)?a.Be(e):a.za(e)};a.prototype.KE=function(a){a.type=dc.kl;a.data=this.value};a.prototype.GE=function(a){a.type=dc.fl;a.data=this.value};a.prototype.SE=function(a){a.type=dc.String;a.data=this.value};a.prototype.VE=function(a){this.first.get(a);a.td()&&(a.data=-a.data)};a.prototype.AE=function(a){this.first.get(a);var c=this.ta.ed();this.yd.get(c);a.td()&&c.td()&&(a.data+=c.data,c.Jl()&&a.em());this.ta.Rc()};a.prototype.TE=function(a){this.first.get(a);
var c=this.ta.ed();this.yd.get(c);a.td()&&c.td()&&(a.data-=c.data,c.Jl()&&a.em());this.ta.Rc()};a.prototype.OE=function(a){this.first.get(a);var c=this.ta.ed();this.yd.get(c);a.td()&&c.td()&&(a.data*=c.data,c.Jl()&&a.em());this.ta.Rc()};a.prototype.DE=function(a){this.first.get(a);var c=this.ta.ed();this.yd.get(c);a.td()&&c.td()&&(a.data/=c.data,a.em());this.ta.Rc()};a.prototype.NE=function(a){this.first.get(a);var c=this.ta.ed();this.yd.get(c);a.td()&&c.td()&&(a.data%=c.data,c.Jl()&&a.em());this.ta.Rc()};
a.prototype.RE=function(a){this.first.get(a);var c=this.ta.ed();this.yd.get(c);a.td()&&c.td()&&(a.data=Math.pow(a.data,c.data),c.Jl()&&a.em());this.ta.Rc()};a.prototype.BE=function(a){this.first.get(a);var c=this.ta.ed();this.yd.get(c);a.td()?c.Hq()?a.Be(a.data.toString()+c.data):a.data&&c.data?a.Jb(1):a.Jb(0):a.Hq()&&(a.data=c.Hq()?a.data+c.data:a.data+(Math.round(1E10*c.data)/1E10).toString());this.ta.Rc()};a.prototype.QE=function(a){this.first.get(a);var c=this.ta.ed();this.yd.get(c);a.td()&&c.td()&&
(a.data||c.data?a.Jb(1):a.Jb(0));this.ta.Rc()};a.prototype.CE=function(a){this.first.get(a);a.data?this.yd.get(a):this.ks.get(a)};a.prototype.EE=function(a){this.first.get(a);var c=this.ta.ed();this.yd.get(c);a.Jb(a.data===c.data?1:0);this.ta.Rc()};a.prototype.PE=function(a){this.first.get(a);var c=this.ta.ed();this.yd.get(c);a.Jb(a.data!==c.data?1:0);this.ta.Rc()};a.prototype.LE=function(a){this.first.get(a);var c=this.ta.ed();this.yd.get(c);a.Jb(a.data<c.data?1:0);this.ta.Rc()};a.prototype.ME=function(a){this.first.get(a);
var c=this.ta.ed();this.yd.get(c);a.Jb(a.data<=c.data?1:0);this.ta.Rc()};a.prototype.HE=function(a){this.first.get(a);var c=this.ta.ed();this.yd.get(c);a.Jb(a.data>c.data?1:0);this.ta.Rc()};a.prototype.IE=function(a){this.first.get(a);var c=this.ta.ed();this.yd.get(c);a.Jb(a.data>=c.data?1:0);this.ta.Rc()};a.prototype.FE=function(a){var c=this.jk.Ay();la(c)?a.za(c):a.Be(c)};$b=a;c.prototype.Jl=function(){return this.type===dc.fl};c.prototype.td=function(){return this.type===dc.kl||this.type===dc.fl};
c.prototype.Hq=function(){return this.type===dc.String};c.prototype.em=function(){this.Jl()||(this.Hq()&&(this.data=parseFloat(this.data)),this.type=dc.fl)};c.prototype.Jb=function(a){this.type=dc.kl;this.data=Math.floor(a)};c.prototype.za=function(a){this.type=dc.fl;this.data=a};c.prototype.Be=function(a){this.type=dc.String;this.data=a};c.prototype.tH=function(a){la(a)?(this.type=dc.fl,this.data=a):ma(a)?(this.type=dc.String,this.data=a.toString()):(this.type=dc.kl,this.data=0)};cc=c;dc={kl:0,fl:1,
String:2}})();function w(a){this.j=a;this.Ce=[]}
w.prototype.xd=function(){var a={},c,b,d,e,f,h,g,n;a.waits=[];var m=a.waits,l;c=0;for(b=this.Ce.length;c<b;c++){h=this.Ce[c];l={t:h.time,st:h.yA,s:h.$v,ev:h.xl.gb,sm:[],sols:{}};h.xl.gg[h.Ge]&&(l.act=h.xl.gg[h.Ge].gb);d=0;for(e=h.Eb.length;d<e;d++)l.sm.push(h.Eb[d].gb);for(f in h.oe)if(h.oe.hasOwnProperty(f)){g=this.j.da[parseInt(f,10)];n={sa:h.oe[f].Sr,insts:[]};d=0;for(e=h.oe[f].ai.length;d<e;d++)n.insts.push(h.oe[f].ai[d].uid);l.sols[g.gb.toString()]=n}m.push(l)}return a};
w.prototype.Od=function(a){a=a.waits;var c,b,d,e,f,h,g,n,m,l,k;c=this.Ce.length=0;for(b=a.length;c<b;c++)if(h=a[c],n=this.j.Nx[h.ev.toString()]){m=-1;d=0;for(e=n.gg.length;d<e;d++)if(n.gg[d].gb===h.act){m=d;break}if(-1!==m){g={oe:{},Eb:[],Ht:!1};g.time=h.t;g.yA=h.st||"";g.$v=!!h.s;g.xl=n;g.Ge=m;d=0;for(e=h.sm.length;d<e;d++)(n=this.j.uq(h.sm[d]))&&g.Eb.push(n);for(f in h.sols)if(h.sols.hasOwnProperty(f)&&(n=this.j.uq(parseInt(f,10)))){m=h.sols[f];l={Sr:m.sa,ai:[]};d=0;for(e=m.insts.length;d<e;d++)(k=
this.j.Yg(m.insts[d]))&&l.ai.push(k);g.oe[n.index.toString()]=l}this.Ce.push(g)}}};
(function(){function a(){}function c(a,b){var c=a.ba.c2_feo_val,d=b.ba.c2_feo_val;if(la(c)&&la(d))return c-d;c=""+c;d=""+d;return c<d?-1:c>d?1:0}function b(){}function d(){}var e=w.prototype;a.prototype.yB=function(){return!0};a.prototype.$w=function(){return!0};a.prototype.Zw=function(){return!0};var f=[],h=-1;a.prototype.AB=function(a,b,d){b=a.eb();h++;f.length===h&&f.push([]);var e=f[h];Da(e,b.hf());var g=this.j.sd(),n=g.nd,u=this.j.El(),q=g.TF(),g=this.j.$G(),z,A,G,x,B;z=0;for(A=e.length;z<A;z++)e[z].ba.c2_feo_val=
u.Aa[1].get(z);e.sort(c);1===d&&e.reverse();d=a.Lf;if(q)for(z=0,A=e.length;z<A&&!g.Ed;z++){this.j.Do(n.Eb);G=e[z];b=a.eb();b.pb=!1;b.F.length=1;b.F[0]=G;if(d)for(u=0,q=G.siblings.length;u<q;u++)x=G.siblings[u],B=x.type.eb(),B.pb=!1,B.F.length=1,B.F[0]=x;g.index=z;n.Ov();this.j.Aj(n.Eb)}else for(b.pb=!1,b.F.length=1,z=0,A=e.length;z<A&&!g.Ed;z++){G=e[z];b.F[0]=G;if(d)for(u=0,q=G.siblings.length;u<q;u++)x=G.siblings[u],B=x.type.eb(),B.pb=!1,B.F.length=1,B.F[0]=x;g.index=z;n.Ov()}e.length=0;this.j.UG();
h--;return!1};a.prototype.xB=function(a){var b=this.j.El(),c=b.ba.Every_lastTime||0,d=this.j.ve.Wa;"undefined"===typeof b.ba.Every_seconds&&(b.ba.Every_seconds=a);var e=b.ba.Every_seconds;if(d>=c+e)return b.ba.Every_lastTime=c+e,d>=b.ba.Every_lastTime+.04&&(b.ba.Every_lastTime=d),b.ba.Every_seconds=a,!0;d<c-.1&&(b.ba.Every_lastTime=d);return!1};a.prototype.qB=function(a,b,c){return ec(a.Ay(),b,c)};a.prototype.MB=function(a){return(a=this.j.En[a.toLowerCase()])&&a.mk};a.prototype.Jw=function(){var a=
this.j.sd();return a.Jt?!1:!a.Ak};a.prototype.ax=function(){return!0};a.prototype.gC=function(){return!0};a.prototype.Ts=function(){return!0};a.prototype.qC=function(){return!0};a.prototype.Rs=function(){return!0};a.prototype.hB=function(a,b,c){return Qa(v(a),v(c))<=v(b)};a.prototype.LB=function(a,b){return Sa(v(a),v(b))};a.prototype.JB=function(a,b,c){a=Oa(a);b=Oa(b);c=Oa(c);return Sa(c,b)?Sa(a,b)&&!Sa(a,c):!(!Sa(a,b)&&Sa(a,c))};e.M=new a;b.prototype.HB=function(a){this.j.wk||this.j.Ph||(this.j.Ph=
a)};b.prototype.PC=function(a,b){a&&a.visible!==b&&(a.visible=b,this.j.wb=!0)};b.prototype.TC=function(a,b){0===a.ZA?la(b)?a.Zr(b):a.Zr(parseFloat(b)):1===a.ZA&&a.Zr(b.toString())};var g=[],n=[];b.prototype.lD=function(a){if(!(0>a)){var b,c,d,e=this.j.sd(),f;f=g.length?g.pop():{oe:{},Eb:[]};f.Ht=!1;f.time=this.j.ve.Wa+a;f.yA="";f.$v=!1;f.xl=e.nd;f.Ge=e.Ge+1;a=0;for(b=this.j.da.length;a<b;a++)d=this.j.da[a],c=d.eb(),c.pb&&-1===e.nd.Eb.indexOf(d)||(f.Eb.push(d),d=void 0,d=n.length?n.pop():{ai:[]},d.Sr=
!1,d.Sr=c.pb,Da(d.ai,c.F),f.oe[a.toString()]=d);this.Ce.push(f);return!0}};b.prototype.GC=function(){var a,b,c;a=0;for(b=this.j.ht.length;a<b;a++)c=this.j.ht[a],c.data=c.Aq};b.prototype.IB=function(a){if(!this.j.wk&&!this.j.Ph)for(var b in this.j.Rl)if(this.j.Rl.hasOwnProperty(b)&&kb(b,a)){this.j.Ph=this.j.Rl[b];break}};b.prototype.IC=function(){if(!this.j.wk&&!this.j.Ph&&this.j.Gb){this.j.Ph=this.j.Gb;var a,b,c;a=0;for(b=this.j.Vi.length;a<b;a++)c=this.j.Vi[a],c.pH(c.Bq)}};e.ja=new b;d.prototype["int"]=
function(a,b){ma(b)?(a.Jb(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.Jb(b)};d.prototype["float"]=function(a,b){ma(b)?(a.za(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.za(b)};d.prototype.random=function(a,b,c){void 0===c?a.za(Math.random()*b):a.za(Math.random()*(c-b)+b)};d.prototype.sqrt=function(a,b){a.za(Math.sqrt(b))};d.prototype.abs=function(a,b){a.za(Math.abs(b))};d.prototype.round=function(a,b){a.Jb(Math.round(b))};d.prototype.floor=function(a,b){a.Jb(Math.floor(b))};d.prototype.ceil=function(a,
b){a.Jb(Math.ceil(b))};d.prototype.sin=function(a,b){a.za(Math.sin(v(b)))};d.prototype.cos=function(a,b){a.za(Math.cos(v(b)))};d.prototype.tan=function(a,b){a.za(Math.tan(v(b)))};d.prototype.asin=function(a,b){a.za(Ha(Math.asin(b)))};d.prototype.acos=function(a,b){a.za(Ha(Math.acos(b)))};d.prototype.atan=function(a,b){a.za(Ha(Math.atan(b)))};d.prototype.exp=function(a,b){a.za(Math.exp(b))};d.prototype.log10=function(a,b){a.za(Math.log(b)/Math.LN10)};d.prototype.max=function(a){var b=arguments[1];
"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b<e&&(b=e);a.za(b)};d.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b>e&&(b=e);a.za(b)};d.prototype.Ia=function(a){a.za(this.j.Ia)};d.prototype.Gi=function(a){a.za(this.j.Gi)};d.prototype.time=function(a){a.za(this.j.ve.Wa)};d.prototype.vf=function(a){a.Jb(this.j.vf)};d.prototype.xr=function(a){a.Jb(this.j.xr)};
d.prototype.Tt=function(a){a.Jb(this.j.Tt)};d.prototype.Uh=function(a,b,c,d,e){a.za(Ua(b,c,d,e))};d.prototype.L=function(a,b,c,d,e){a.za(Ha(Pa(b,c,d,e)))};d.prototype.find=function(a,b,c){ma(b)&&ma(c)?a.Jb(b.search(new RegExp(cb(c),"i"))):a.Jb(-1)};d.prototype.left=function(a,b,c){a.Be(ma(b)?b.substr(0,c):"")};d.prototype.right=function(a,b,c){a.Be(ma(b)?b.substr(b.length-c):"")};d.prototype.replace=function(a,b,c,d){ma(b)&&ma(c)&&ma(d)?a.Be(b.replace(new RegExp(cb(c),"gi"),d)):a.Be(ma(b)?b:"")};
d.prototype.trim=function(a,b){a.Be(ma(b)?b.trim():"")};d.prototype.ND=function(a){var b=ua(Math.random()*(arguments.length-1));a.tH(arguments[b+1])};d.prototype.Ct=function(a){a.za(this.j.Ct/1E3)};d.prototype.Tl=function(a){a.za(this.j.Tl)};e.kc=new d;e.gH=function(){var a,b,c,d,e,f,h=this.j.sd();a=0;for(c=this.Ce.length;a<c;a++){d=this.Ce[a];if(-1===d.time){if(!d.$v)continue}else if(d.time>this.j.ve.Wa)continue;h.nd=d.xl;h.Ge=d.Ge;h.Kc=0;for(b in d.oe)d.oe.hasOwnProperty(b)&&(e=this.j.da[parseInt(b,
10)].eb(),f=d.oe[b],e.pb=f.Sr,Da(e.F,f.ai),e=f,e.ai.length=0,n.push(e));d.xl.fH();this.j.ut(d.Eb);d.Ht=!0}b=a=0;for(c=this.Ce.length;a<c;a++)d=this.Ce[a],this.Ce[b]=d,d.Ht?(Xa(d.oe),d.Eb.length=0,g.push(d)):b++;this.Ce.length=b}})();
(function(){nb=function(a,b){var d=a[1],e=a[3],f=a[4],h=a[5],g=a[6],n=a[7],m=a[8];b.M||(b.M={});b.ja||(b.ja={});b.kc||(b.kc={});var l=b.M,k=b.ja,p=b.kc;e&&(l.rB=function(a,b){return ec(this.x,a,b)},l.sB=function(a,b){return ec(this.y,a,b)},l.PB=function(){var a=this.S;this.bb();var b=this.Pb;return!(b.right<a.uc||b.bottom<a.vc||b.left>a.Uc||b.top>a.Tc)},l.QB=function(){this.bb();var a=this.Pb,b=this.j.Gb;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},l.pI=function(a,b,c){var d=this.eb(),
e=d.hf();if(!e.length)return!1;var f=e[0],k=f,g=Ua(f.x,f.y,b,c),h,l,p;h=1;for(l=e.length;h<l;h++)if(f=e[h],p=Ua(f.x,f.y,b,c),0===a&&p<g||1===a&&p>g)g=p,k=f;d.xo(k);return!0},k.WC=function(a){this.x!==a&&(this.x=a,this.ea())},k.XC=function(a){this.y!==a&&(this.y=a,this.ea())},k.CI=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.ea()},k.SC=function(a,b){var c=a.kF(this);if(c){var d;c.Xg?(d=c.Xg(b,!0),c=c.Xg(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.ea()}},
k.iI=function(a){0!==a&&(this.x+=Math.cos(this.L)*a,this.y+=Math.sin(this.L)*a,this.ea())},k.hI=function(a,b){0!==b&&(this.x+=Math.cos(v(a))*b,this.y+=Math.sin(v(a))*b,this.ea())},p.yx=function(a){a.za(this.x)},p.zx=function(a){a.za(this.y)},p.Ia=function(a){a.za(this.j.Fl(this))});f&&(l.ZH=function(a,b){return ec(this.width,a,b)},l.XH=function(a,b){return ec(this.height,a,b)},k.VC=function(a){this.width!==a&&(this.width=a,this.ea())},k.BI=function(a){this.height!==a&&(this.height=a,this.ea())},k.DI=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.ea()},p.JI=function(a){a.za(this.width)},p.aI=function(a){a.za(this.height)},p.TH=function(a){this.bb();a.za(this.Pb.left)},p.VH=function(a){this.bb();a.za(this.Pb.top)},p.UH=function(a){this.bb();a.za(this.Pb.right)},p.SH=function(a){this.bb();a.za(this.Pb.bottom)});h&&(l.hB=function(a,b){return Qa(this.L,v(b))<=v(a)},l.LB=function(a){return Sa(this.L,v(a))},l.JB=function(a,b){var c=Oa(a),d=Oa(b),e=Ja(this.L);return Sa(d,
c)?Sa(e,c)&&!Sa(e,d):!(!Sa(e,c)&&Sa(e,d))},k.sp=function(a){a=v(Ia(a));isNaN(a)||this.L===a||(this.L=a,this.ea())},k.vI=function(a){0===a||isNaN(a)||(this.L+=v(a),this.L=Ja(this.L),this.ea())},k.wI=function(a){0===a||isNaN(a)||(this.L-=v(a),this.L=Ja(this.L),this.ea())},k.xI=function(a,b){var c=Ra(this.L,v(b),v(a));isNaN(c)||this.L===c||(this.L=c,this.ea())},k.yI=function(a,b,c){a=Ra(this.L,Math.atan2(c-this.y,b-this.x),v(a));isNaN(a)||this.L===a||(this.L=a,this.ea())},k.EI=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.L===c||(this.L=c,this.ea())},p.MH=function(a){a.za(Ka(this.L))});d||(l.pB=function(a,b,c){return ec(this.bd[a],b,c)},l.KB=function(a){return this.bd[a]},l.qI=function(a,b){var c=this.eb(),d=c.hf();if(!d.length)return!1;var e=d[0],f=e,k=e.bd[b],g,h,l;g=1;for(h=d.length;g<h;g++)if(e=d[g],l=e.bd[b],0===a&&l<k||1===a&&l>k)k=l,f=e;c.xo(f);return!0},l.oI=function(a){var b,c,d,e,f;if(this.j.El().Hl){f=this.eb();if(f.pb)for(f.pb=!1,f.F.length=0,f.rb.length=0,d=this.F,b=0,c=
d.length;b<c;b++)e=d[b],e.uid===a?f.rb.push(e):f.F.push(e);else{d=b=0;for(c=f.F.length;b<c;b++)e=f.F[b],f.F[d]=e,e.uid===a?f.rb.push(e):d++;f.F.length=d}this.jg();return!!f.F.length}e=this.j.Yg(a);if(!e)return!1;f=this.eb();if(!f.pb&&-1===f.F.indexOf(e))return!1;if(this.Ka)for(a=e.type.fc,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.xo(e),this.jg(),!0}else if(e.type===this)return f.xo(e),this.jg(),!0;return!1},l.iC=function(){return!0},l.Ww=function(){return!0},k.NC=function(a,b){var c=this.bd;
la(c[a])?c[a]=la(b)?b:parseFloat(b):ma(c[a])&&(c[a]=ma(b)?b:b.toString())},k.LH=function(a,b){var c=this.bd;la(c[a])?c[a]=la(b)?c[a]+b:c[a]+parseFloat(b):ma(c[a])&&(c[a]=ma(b)?c[a]+b:c[a]+b.toString())},k.FI=function(a,b){var c=this.bd;la(c[a])&&(c[a]=la(b)?c[a]-b:c[a]-parseFloat(b))},k.LC=function(a,b){this.bd[a]=b?1:0},k.HI=function(a){this.bd[a]=1-this.bd[a]},k.Xd=function(){this.j.Ih(this)},k.XB||(k.XB=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.j.Vq(this,b,!0);this.Af&&this.Af();
if(this.Ma)for(a=0,b=this.Ma.length;a<b;++a)c=this.Ma[a],c.Af&&c.Af()}),p.$H=function(a){var b=a.lm.F.length,c,d,e;c=0;for(d=this.j.kg.length;c<d;c++)e=this.j.kg[c],a.lm.Ka?0<=e.type.fc.indexOf(a.lm)&&b++:e.type===a.lm&&b++;a.Jb(b)},p.sI=function(a){a.Jb(a.lm.eb().hf().length)},p.II=function(a){a.Jb(this.uid)},p.bI=function(a){a.Jb(this.Cn())},p.iB||(p.iB=function(a){a.Be(JSON.stringify(this.j.Tv(this,!0)))}));g&&(l.VB=function(){return this.visible},k.UC=function(a){!a!==!this.visible&&(this.visible=
a,this.j.wb=!0)},l.YH=function(a,b){return ec(jb(100*this.opacity),a,b)},k.RC=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.j.wb=!0)},p.Opacity=function(a){a.za(jb(100*this.opacity))});n&&(l.cI=function(a){return a?this.S===a:!1},l.rI=function(a){var b=this.eb(),c=b.hf();if(!c.length)return!1;var d=c[0],e=d,f,k;f=1;for(k=c.length;f<k;f++)if(d=c[f],0===a){if(d.S.index>e.S.index||d.S.index===e.S.index&&d.Zg()>e.Zg())e=d}else if(d.S.index<e.S.index||d.S.index===e.S.index&&
d.Zg()<e.Zg())e=d;b.xo(e);return!0},k.lI=function(){var a=this.S,b=a.F;b.length&&b[b.length-1]===this||(a.qm(this,!1),a.cn(this,!1),this.j.wb=!0)},k.jI=function(){var a=this.S,b=a.F;b.length&&b[0]===this||(a.qm(this,!1),a.WG(this),this.j.wb=!0)},k.kI=function(a){a&&a!=this.S&&(this.S.qm(this,!0),this.S=a,a.cn(this,!0),this.j.wb=!0)},k.LI=function(a,b){var c=0===a;if(b){var d=b.ry(this);d&&d.uid!==this.uid&&(this.S.index!==d.S.index&&(this.S.qm(this,!0),this.S=d.S,d.S.cn(this,!0)),this.S.EG(this,d,
c),this.j.wb=!0)}},p.fI=function(a){a.Jb(this.S.Kz)},p.eI=function(a){a.Be(this.S.name)},p.KI=function(a){a.Jb(this.Zg())});m&&(k.zI=function(a,b){if(this.j.fa){var c=this.type.au(b);if(!(0>c)){var d=1===a;this.Ui[c]!==d&&(this.Ui[c]=d,this.Ji(),this.j.wb=!0)}}},k.AI=function(a,b,c){if(this.j.fa){var d=this.type.au(a);0>d||(a=this.type.Ja[d],d=this.jc[d],b=Math.floor(b),0>b||b>=d.length||(1===this.j.fa.oF(a.Dd,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.yc&&(this.j.wb=!0))))}})};Kb=function(){this.ot=this.lt=
!0;this.type.wp=!0;this.j.wb=!0;var a,b,d=this.mt;a=0;for(b=d.length;a<b;++a)d[a](this);this.S.Dg&&this.bb()};Lb=function(a){a&&this.mt.push(a)};Nb=function(){if(this.lt){var a=this.Pb,b=this.Hb;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.te*this.width,-this.ue*this.height);this.L?(a.offset(-this.x,-this.y),b.tA(a,this.L),b.offset(this.x,this.y),b.Ox(a)):b.Io(a);a.normalize();this.lt=!1;this.GH()}};var a=new xa(0,0,0,0);Ob=function(){if(this.S.Dg){var c=this.S.We,b=this.Pb;
a.set(c.cf(b.left),c.df(b.top),c.cf(b.right),c.df(b.bottom));this.ze.dq(a)||(this.ze.right<this.ze.left?c.update(this,null,a):c.update(this,this.ze,a),this.ze.ln(a),this.S.Ci=!0)}};Pb=function(){if(this.ot&&this.Qh){this.bb();var c=this.type.Kp,b=this.Pb;a.set(c.cf(b.left),c.df(b.top),c.cf(b.right),c.df(b.bottom));this.aj.dq(a)||(this.aj.right<this.aj.left?c.update(this,null,a):c.update(this,this.aj,a),this.aj.ln(a),this.ot=!1)}};Mb=function(a,b){return this.Pb.de(a,b)&&this.Hb.de(a,b)?this.Ya&&!this.Ya.vk()?
(this.Ya.ak(this.width,this.height,this.L),this.Ya.de(a-this.x,b-this.y)):!0:!1};Cb=function(){this.type.ws();return this.pk};Qb=function(){this.S.qw();return this.Gg};Rb=function(){this.qb.length=0;var a,b;a=0;for(b=this.Ui.length;a<b;a++)this.Ui[a]&&this.qb.push(this.type.Ja[a]);this.YA=!!this.qb.length};Db=function(){return"Inst"+this.iA};qb=function(a){if(a&&a.Lf&&a.type!=this){var b,d,e;b=0;for(d=a.siblings.length;b<d;b++)if(e=a.siblings[b],e.type==this)return e}a=this.eb().hf();return a.length?
a[0]:null};rb=function(a){var b=this.eb().hf();return b.length?b[a.Cn()%b.length]:null};pb=function(){if(this.wm&&!this.Ka){var a,b;a=0;for(b=this.F.length;a<b;a++)this.F[a].pk=a;var d=a,e=this.j.kg;a=0;for(b=e.length;a<b;++a)e[a].type===this&&(e[a].pk=d++);this.wm=!1}};Ab=function(a){if(a<this.F.length)return this.F[a];a-=this.F.length;var b=this.j.kg,d,e;d=0;for(e=b.length;d<e;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};sb=function(){return this.Gj[this.Th]};tb=function(){this.Th++;
this.Th===this.Gj.length?this.Gj.push(new ob(this)):this.Gj[this.Th].pb=!0};ub=function(){this.Th++;this.Th===this.Gj.length&&this.Gj.push(new ob(this));var a=this.Gj[this.Th],b=this.Gj[this.Th-1];b.pb?a.pb=!0:(a.pb=!1,Da(a.F,b.F),Da(a.rb,b.rb))};vb=function(){this.Th--};wb=function(a){var b,d,e,f,h,g=0;if(!this.Ka)for(b=0,d=this.fc.length;b<d;b++)for(h=this.fc[b],e=0,f=h.Jc.length;e<f;e++){if(a===h.Jc[e].name)return this.ba.lastBehIndex=g,h.Jc[e];g++}b=0;for(d=this.Jc.length;b<d;b++){if(a===this.Jc[b].name)return this.ba.lastBehIndex=
g,this.Jc[b];g++}return null};xb=function(a){return this.sq(a)?this.ba.lastBehIndex:-1};yb=function(a){var b,d;b=0;for(d=this.Ja.length;b<d;b++)if(this.Ja[b].name===a)return b;return-1};zb=function(){if(this.Lf&&!this.Ka){var a,b,d,e,f,h,g;this.ws();h=this.eb();var n=h.pb,m=(a=this.j.sd())&&a.nd&&a.nd.Tf;a=0;for(b=this.Ke.length;a<b;a++)if(f=this.Ke[a],f!==this&&(f.ws(),g=f.eb(),g.pb=n,!n)){g.F.length=h.F.length;d=0;for(e=h.F.length;d<e;d++)g.F[d]=f.ty(h.F[d].pk);if(m)for(g.rb.length=h.rb.length,
d=0,e=h.rb.length;d<e;d++)g.rb[d]=f.ty(h.rb[d].pk)}}};Bb=function(){return"Type"+this.gb};ec=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();
var nc={pulse:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp float intensity;\nuniform lowp float lighting;\nuniform mediump float frequency;\nuniform mediump float speed;\nuniform mediump float centerX;\nuniform mediump float centerY;\nuniform mediump float pixelWidth;\nuniform mediump float pixelHeight;\nuniform mediump float layerScale;\nuniform mediump float seconds;\nvoid main(void)\n{\nmediump vec2 res = vec2(1.0 / pixelWidth, 1.0 / pixelHeight);\nmediump vec2 halfres = res / 2.0;\nmediump vec2 cPos = (vTex - vec2(centerX, 1.0 - centerY)) * res;\nmediump float cLength = length(cPos);\nmediump vec2 uv = vTex+(cPos/cLength)*sin(cLength/frequency/layerScale-seconds*speed)/25.0;\nlowp vec4 front = texture2D(samplerFront, mix(vTex, uv, intensity));\nlowp vec3 col = mix(front.rgb, front.rgb*50.0/cLength, lighting * intensity);\ngl_FragColor = vec4(col,front.a);\n}",rn:50,
sn:50,Sp:!1,vp:!0,Aa:[["intensity",0,1],["lighting",0,1],["speed",0,0],["frequency",0,0],["centerX",0,1],["centerY",0,1]]},water:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nprecision mediump float;\nuniform float seconds;\nuniform float pixelWidth;\nuniform float pixelHeight;\nconst float PI = 3.1415926535897932;\nuniform float speed;\nuniform float speed_x;\nuniform float speed_y;\nuniform float intensity;\nconst int steps = 8;\nuniform float frequency;\nuniform float angle; // better when a prime\nuniform float delta;\nuniform float intence;\nuniform float emboss;\nfloat col(vec2 coord)\n{\nfloat delta_theta = 2.0 * PI / angle;\nfloat col = 0.0;\nfloat theta = 0.0;\nfor (int i = 0; i < steps; i++)\n{\nvec2 adjc = coord;\ntheta = delta_theta*float(i);\nadjc.x += cos(theta)*seconds*speed + seconds * speed_x;\nadjc.y -= sin(theta)*seconds*speed - seconds * speed_y;\ncol = col + cos( (adjc.x*cos(theta) - adjc.y*sin(theta))*frequency)*intensity;\n}\nreturn cos(col);\n}\nvoid main(void)\n{\nvec2 p = vTex, c1 = p, c2 = p;\nfloat cc1 = col(c1);\nc2.x += (1.0 / pixelWidth) / delta;\nfloat dx = emboss*(cc1-col(c2))/delta;\nc2.x = p.x;\nc2.y += (1.0 / pixelHeight) / delta;\nfloat dy = emboss*(cc1-col(c2))/delta;\nc1.x += dx;\nc1.y = -(c1.y+dy);\nfloat alpha = 1.+dot(dx,dy)*intence;\nc1.y = -c1.y;\ngl_FragColor = texture2D(samplerFront,c1)*(alpha);\n}",
rn:25,sn:25,Sp:!1,vp:!0,Aa:[["speed",0,1],["speed_x",0,1],["speed_y",0,1],["intensity",0,0],["frequency",0,0],["angle",0,0],["delta",0,0],["intence",0,0],["emboss",0,1]]}};function rc(a){this.j=a}
(function(){function a(a){a=Math.pow(10,a/20);0>a&&(a=0);1<a&&(a=1);return a}function c(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function b(a){a=a.toLowerCase();return da.hasOwnProperty(a)&&da[a].length?da[a][0].gf():I.destination}function d(){return I.createGain?I.createGain():I.createGainNode()}function e(a){return I.createDelay?I.createDelay(a):I.createDelayNode(a)}function f(a){a.start?a.start(0):a.noteOn(0)}function h(a,b,c){a.start?a.start(0,b):a.noteGrainOn(0,b,c-b)}function g(a){try{a.stop?
a.stop(0):a.noteOff(0)}catch(b){}}function n(a,b,c,e,f,k){this.type="filter";this.pc=[a,b,c,e,f,k];this.kb=d();this.Ha=d();this.Ha.gain.value=k;this.Ca=d();this.Ca.gain.value=1-k;this.Mc=I.createBiquadFilter();this.Mc.type="number"===typeof this.Mc.type?a:hf[a];this.Mc.frequency.value=b;this.Mc.detune&&(this.Mc.detune.value=c);this.Mc.Q.value=e;this.Mc.gain.value=f;this.kb.connect(this.Mc);this.kb.connect(this.Ca);this.Mc.connect(this.Ha)}function m(a,b,c){this.type="delay";this.pc=[a,b,c];this.kb=
d();this.Ha=d();this.Ha.gain.value=c;this.Ca=d();this.Ca.gain.value=1-c;this.so=d();this.Gf=e(a);this.Gf.delayTime.value=a;this.$p=d();this.$p.gain.value=b;this.kb.connect(this.so);this.kb.connect(this.Ca);this.so.connect(this.Ha);this.so.connect(this.Gf);this.Gf.connect(this.$p);this.$p.connect(this.so)}function l(a,b,c,e){this.type="convolve";this.pc=[b,c,e];this.kb=d();this.Ha=d();this.Ha.gain.value=c;this.Ca=d();this.Ca.gain.value=1-c;this.dk=I.createConvolver();a&&(this.dk.normalize=b,this.dk.buffer=
a);this.kb.connect(this.dk);this.kb.connect(this.Ca);this.dk.connect(this.Ha)}function k(a,b,c,k,g){this.type="flanger";this.pc=[a,b,c,k,g];this.kb=d();this.Ca=d();this.Ca.gain.value=1-g/2;this.Ha=d();this.Ha.gain.value=g/2;this.iq=d();this.iq.gain.value=k;this.Gf=e(a+b);this.Gf.delayTime.value=a;this.wd=I.createOscillator();this.wd.frequency.value=c;this.Ue=d();this.Ue.gain.value=b;this.kb.connect(this.Gf);this.kb.connect(this.Ca);this.Gf.connect(this.Ha);this.Gf.connect(this.iq);this.iq.connect(this.Gf);
this.wd.connect(this.Ue);this.Ue.connect(this.Gf.delayTime);f(this.wd)}function p(a,b,c,e,k,g){this.type="phaser";this.pc=[a,b,c,e,k,g];this.kb=d();this.Ca=d();this.Ca.gain.value=1-g/2;this.Ha=d();this.Ha.gain.value=g/2;this.Mc=I.createBiquadFilter();this.Mc.type="number"===typeof this.Mc.type?7:"allpass";this.Mc.frequency.value=a;this.Mc.detune&&(this.Mc.detune.value=b);this.Mc.Q.value=c;this.wd=I.createOscillator();this.wd.frequency.value=k;this.Ue=d();this.Ue.gain.value=e;this.kb.connect(this.Mc);
this.kb.connect(this.Ca);this.Mc.connect(this.Ha);this.wd.connect(this.Ue);this.Ue.connect(this.Mc.frequency);f(this.wd)}function r(a){this.type="gain";this.pc=[a];this.ob=d();this.ob.gain.value=a}function t(a,b){this.type="tremolo";this.pc=[a,b];this.ob=d();this.ob.gain.value=1-b/2;this.wd=I.createOscillator();this.wd.frequency.value=a;this.Ue=d();this.Ue.gain.value=b/2;this.wd.connect(this.Ue);this.Ue.connect(this.ob.gain);f(this.wd)}function u(a,b){this.type="ringmod";this.pc=[a,b];this.kb=d();
this.Ha=d();this.Ha.gain.value=b;this.Ca=d();this.Ca.gain.value=1-b;this.Fo=d();this.Fo.gain.value=0;this.wd=I.createOscillator();this.wd.frequency.value=a;this.wd.connect(this.Fo.gain);f(this.wd);this.kb.connect(this.Fo);this.kb.connect(this.Ca);this.Fo.connect(this.Ha)}function q(a,b,c,e,f){this.type="distortion";this.pc=[a,b,c,e,f];this.kb=d();this.Hr=d();this.Gr=d();this.oH(c,Math.pow(10,e/20));this.Ha=d();this.Ha.gain.value=f;this.Ca=d();this.Ca.gain.value=1-f;this.zs=I.createWaveShaper();this.Xp=
new Float32Array(65536);this.bF(a,b);this.zs.Xp=this.Xp;this.kb.connect(this.Hr);this.kb.connect(this.Ca);this.Hr.connect(this.zs);this.zs.connect(this.Gr);this.Gr.connect(this.Ha)}function z(a,b,c,d,e){this.type="compressor";this.pc=[a,b,c,d,e];this.ob=I.createDynamicsCompressor();try{this.ob.threshold.value=a,this.ob.knee.value=b,this.ob.ratio.value=c,this.ob.attack.value=d,this.ob.release.value=e}catch(f){}}function A(a,b){this.type="analyser";this.pc=[a,b];this.ob=I.createAnalyser();this.ob.fftSize=
a;this.ob.smoothingTimeConstant=b;this.$E=new Float32Array(this.ob.frequencyBinCount);this.wA=new Uint8Array(a);this.wo=0}function G(){this.Ga=null;this.Yq=0;this.Hj=[];this.sv=this.Mq=this.Lq=0}function x(a,b){this.src=a;this.ab=ba;this.pg=b;this.Ex=!1;var c=this;this.rv=this.zv=null;this.Uk=[];this.Tr=0;this.yw=this.Nt=this.AA=this.Br=!1;1===ba&&b&&(this.ab=0,this.zv=d());this.Yj=this.Bb=null;var e;switch(this.ab){case 0:this.Bb=new Audio;this.Bb.addEventListener("canplaythrough",function(){c.yw=
!0});1===ba&&I.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.AA=!0,this.Bb.addEventListener("canplay",function(){c.rv||(c.rv=I.createMediaElementSource(c.Bb),c.rv.connect(c.zv))}));this.Bb.autoplay=!1;this.Bb.WI="auto";this.Bb.src=a;break;case 1:e=new XMLHttpRequest;e.open("GET",a,!0);e.responseType="arraybuffer";e.onload=function(){c.Yj=e.response;c.SD()};e.onerror=function(){c.Nt=!0};e.send();break;case 2:this.Bb=!0;break;case 3:this.Bb=!0}}function B(a,c){var e=this;this.tag=
c;this.Ed=this.Vg=!0;this.src=a.src;this.buffer=a;this.ab=ba;this.pg=a.pg;this.playbackRate=1;this.Bt=!0;this.Mf=this.Di=!1;this.Ae=0;this.Nn=this.Kl=this.eh=!1;this.volume=1;this.uk=1===M&&!this.pg||2===M;this.jm=1;this.startTime=this.uk?K.ve.Wa:K.Eh.Wa;this.Ec=this.Nc=null;this.oh=!1;this.Dc=null;this.Vz=this.Uz=this.Tz=this.Sz=this.Xz=this.Wz=0;this.V=null;var f=!1;1!==this.ab||0!==this.buffer.ab||this.buffer.AA||(this.ab=0);switch(this.ab){case 0:this.pg?(this.V=a.Bb,f=!a.Ex,a.Ex=!0):(this.V=
new Audio,this.V.autoplay=!1,this.V.src=a.Bb.src,f=!0);f&&this.V.addEventListener("ended",function(){aa=e.tag;e.Ed=!0;K.trigger(rc.prototype.M.rp,ea)});break;case 1:this.Nc=d();this.Nc.connect(b(c));1===this.buffer.ab?a.Bb&&(this.V=I.createBufferSource(),this.V.buffer=a.Bb,this.V.connect(this.Nc)):(this.V=this.buffer.Bb,this.buffer.zv.connect(this.Nc));break;case 2:this.V=new window.Media(U+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(e.Bt=!0,e.Ed=!0,aa=e.tag,K.trigger(rc.prototype.M.rp,
ea))});break;case 3:this.V=!0}}function F(a){Na.length=0;if(a.length){var b,c,d;b=0;for(c=H.length;b<c;b++)d=H[b],kb(a,d.tag)&&Na.push(d)}else L&&!L.ok()&&(Na.length=1,Na[0]=L)}function E(a,b){da.hasOwnProperty(a)?da[a].push(b):da[a]=[b];var c,d,e,f,k=I.destination;if(da.hasOwnProperty(a)&&(e=da[a],e.length))for(k=e[0].gf(),c=0,d=e.length;c<d;c++)f=e[c],c+1===d?f.Df(I.destination):f.Df(e[c+1].gf());F(a);c=0;for(d=Na.length;c<d;c++)Na[c].cH(k);db&&Uc===a&&(db.disconnect(),db.connect(k))}function D(){}
function y(){}var J=rc.prototype;J.cb=function(a){this.qc=a;this.j=a.j};J.cb.prototype.wa=function(){};var K=null,ea=null,aa="",U="",ba=0,I=null,R=[],H=[],L=null,X=!1,M=0,T=!1,Q=1,na=0,S=0,za=1,oa=1,La=10,Ma=1E4,te=1,db=null,Uc="",Gb=!1,Hb=[],da={},hf="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");n.prototype.Df=function(a){this.Ha.disconnect();this.Ha.connect(a);this.Ca.disconnect();this.Ca.connect(a)};n.prototype.remove=function(){this.kb.disconnect();this.Mc.disconnect();
this.Ha.disconnect();this.Ca.disconnect()};n.prototype.gf=function(){return this.kb};m.prototype.Df=function(a){this.Ha.disconnect();this.Ha.connect(a);this.Ca.disconnect();this.Ca.connect(a)};m.prototype.remove=function(){this.kb.disconnect();this.so.disconnect();this.Gf.disconnect();this.$p.disconnect();this.Ha.disconnect();this.Ca.disconnect()};m.prototype.gf=function(){return this.kb};l.prototype.Df=function(a){this.Ha.disconnect();this.Ha.connect(a);this.Ca.disconnect();this.Ca.connect(a)};l.prototype.remove=
function(){this.kb.disconnect();this.dk.disconnect();this.Ha.disconnect();this.Ca.disconnect()};l.prototype.gf=function(){return this.kb};k.prototype.Df=function(a){this.Ca.disconnect();this.Ca.connect(a);this.Ha.disconnect();this.Ha.connect(a)};k.prototype.remove=function(){this.kb.disconnect();this.Gf.disconnect();this.wd.disconnect();this.Ue.disconnect();this.Ca.disconnect();this.Ha.disconnect();this.iq.disconnect()};k.prototype.gf=function(){return this.kb};p.prototype.Df=function(a){this.Ca.disconnect();
this.Ca.connect(a);this.Ha.disconnect();this.Ha.connect(a)};p.prototype.remove=function(){this.kb.disconnect();this.Mc.disconnect();this.wd.disconnect();this.Ue.disconnect();this.Ca.disconnect();this.Ha.disconnect()};p.prototype.gf=function(){return this.kb};r.prototype.Df=function(a){this.ob.disconnect();this.ob.connect(a)};r.prototype.remove=function(){this.ob.disconnect()};r.prototype.gf=function(){return this.ob};t.prototype.Df=function(a){this.ob.disconnect();this.ob.connect(a)};t.prototype.remove=
function(){this.wd.disconnect();this.Ue.disconnect();this.ob.disconnect()};t.prototype.gf=function(){return this.ob};u.prototype.Df=function(a){this.Ha.disconnect();this.Ha.connect(a);this.Ca.disconnect();this.Ca.connect(a)};u.prototype.remove=function(){this.wd.disconnect();this.Fo.disconnect();this.kb.disconnect();this.Ha.disconnect();this.Ca.disconnect()};u.prototype.gf=function(){return this.kb};q.prototype.oH=function(a,b){.01>a&&(a=.01);this.Hr.gain.value=a;this.Gr.gain.value=Math.pow(1/a,.6)*
b};q.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));return b*c};q.prototype.bF=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,c,d),this.Xp[32768+f]=e,this.Xp[32768-f-1]=-e};q.prototype.Df=function(a){this.Ha.disconnect();this.Ha.connect(a);this.Ca.disconnect();this.Ca.connect(a)};q.prototype.remove=function(){this.kb.disconnect();this.Hr.disconnect();this.zs.disconnect();this.Gr.disconnect();
this.Ha.disconnect();this.Ca.disconnect()};q.prototype.gf=function(){return this.kb};z.prototype.Df=function(a){this.ob.disconnect();this.ob.connect(a)};z.prototype.remove=function(){this.ob.disconnect()};z.prototype.gf=function(){return this.ob};A.prototype.Ub=function(){this.ob.getFloatFrequencyData(this.$E);this.ob.getByteTimeDomainData(this.wA);for(var a=this.ob.fftSize,b=0,d=this.wo=0,e=0;b<a;b++)e=(this.wA[b]-128)/128,0>e&&(e=-e),this.wo<e&&(this.wo=e),d+=e*e;this.wo=c(this.wo);c(Math.sqrt(d/
a))};A.prototype.Df=function(a){this.ob.disconnect();this.ob.connect(a)};A.prototype.remove=function(){this.ob.disconnect()};A.prototype.gf=function(){return this.ob};G.prototype.Go=function(a){if(this.Ga=a)this.Lq=this.Ga.x,this.Mq=this.Ga.y;this.Hj.length=0};G.prototype.yq=function(){return!!this.Ga};G.prototype.Ub=function(a){this.Ga&&0!==a&&(this.sv=Pa(this.Lq,this.Mq,this.Ga.x,this.Ga.y),a=Ua(this.Lq,this.Mq,this.Ga.x,this.Ga.y)/a,4>this.Hj.length||this.Hj.shift(),this.Hj.push(a),this.Lq=this.Ga.x,
this.Mq=this.Ga.y)};G.prototype.yy=function(){if(!this.Hj.length)return 0;var a,b,c=0;a=0;for(b=this.Hj.length;a<b;a++)c+=this.Hj[a];return c/this.Hj.length};G.prototype.eu=function(){return Math.cos(this.sv)*this.yy()};G.prototype.fu=function(){return Math.sin(this.sv)*this.yy()};var ue=!1;x.prototype.SD=function(){if(!this.Bb&&this.Yj){var a=this;if(I.decodeAudioData)I.decodeAudioData(this.Yj,function(b){a.Bb=b;a.Yj=null;var c,d,e;if(ka(a.Dr)||T)ka(a.Qp)||(c=a.Qp.dk,c.normalize=a.Jz,c.buffer=b);
else if(a.Uk.length){c=0;for(d=a.Uk.length;c<d;c++){b=a.Uk[c];e=new B(a,b.hw);e.Xr(!0);if("undefined"!==typeof b.Lz&&(b.Ga=K.Yg(b.Lz),!b.Ga))continue;if(b.Ga){var f=Ta(b.Ga.x,b.Ga.y,-b.Ga.S.Oc(),na,S,!0),k=Ta(b.Ga.x,b.Ga.y,-b.Ga.S.Oc(),na,S,!1);e.Wr(f,k,Ha(b.Ga.L-b.Ga.S.Oc()),b.zq,b.tr,b.yr);e.Go(b.Ga)}else e.Wr(b.x,b.y,b.N,b.zq,b.tr,b.yr);e.play(a.Su,a.xw,a.Tr);a.Br&&e.pause();H.push(e)}a.Uk.length=0}else e=new B(a,a.Dr),e.play(a.Su,a.xw,a.Tr),a.Br&&e.pause(),H.push(e)},function(){a.Nt=!0});else if(this.Bb=
I.createBuffer(this.Yj,!1),this.Yj=null,ka(this.Dr)||T)ka(this.Qp)||(b=this.Qp.dk,b.normalize=this.Jz,b.buffer=this.Bb);else{var b=new B(this,this.Dr);b.play(this.Su,this.xw,this.Tr);this.Br&&b.pause();H.push(b)}}};x.prototype.Oy=function(){switch(this.ab){case 0:var a=4<=this.Bb.readyState;a&&(this.yw=!0);return a||this.yw;case 1:return!!this.Yj||!!this.Bb;case 2:return!0;case 3:return!0}return!1};x.prototype.SF=function(){switch(this.ab){case 0:return this.Oy();case 1:return!!this.Bb;case 2:return!0;
case 3:return!0}return!1};x.prototype.HF=function(){switch(this.ab){case 0:return!!this.Bb.error;case 1:return this.Nt}return!1};B.prototype.ok=function(){var a;switch(this.ab){case 0:return this.V.ended;case 1:if(1===this.buffer.ab){if(!this.Vg&&!this.Ed&&this.V.loop||this.Mf)return!1;a=this.uk?K.ve.Wa:K.Eh.Wa;return a-this.startTime>this.buffer.Bb.duration}return this.V.ended;case 2:return this.Bt;case 3:!0}return!0};B.prototype.LD=function(){return this.Vg||this.Ed?!0:this.ok()};B.prototype.Xr=
function(a){1===ba&&(!this.oh&&a?this.Nc&&(this.Ec||(this.Ec=I.createPanner(),this.Ec.panningModel="number"===typeof this.Ec.panningModel?za:["equalpower","HRTF","soundfield"][za],this.Ec.distanceModel="number"===typeof this.Ec.distanceModel?oa:["linear","inverse","exponential"][oa],this.Ec.refDistance=La,this.Ec.maxDistance=Ma,this.Ec.rolloffFactor=te),this.Nc.disconnect(),this.Nc.connect(this.Ec),this.Ec.connect(b(this.tag)),this.oh=!0):this.oh&&!a&&this.Nc&&(this.Ec.disconnect(),this.Nc.disconnect(),
this.Nc.connect(b(this.tag)),this.oh=!1))};B.prototype.Wr=function(a,b,c,d,e,f){this.oh&&1===ba&&(this.Ec.setPosition(a,b,0),this.Ec.setOrientation(Math.cos(v(c)),Math.sin(v(c)),0),this.Ec.coneInnerAngle=d,this.Ec.coneOuterAngle=e,this.Ec.coneOuterGain=f,this.Wz=a,this.Xz=b,this.Sz=c,this.Tz=d,this.Uz=e,this.Vz=f)};B.prototype.Go=function(a){this.oh&&1===ba&&(this.Dc||(this.Dc=new G),this.Dc.Go(a))};B.prototype.Ub=function(a){if(this.oh&&1===ba&&this.Dc&&this.Dc.yq()&&this.sk()){this.Dc.Ub(a);a=this.Dc.Ga;
var b=Ta(a.x,a.y,-a.S.Oc(),na,S,!0),c=Ta(a.x,a.y,-a.S.Oc(),na,S,!1);this.Ec.setPosition(b,c,0);b=0;"undefined"!==typeof this.Dc.Ga.L&&(b=a.L-a.S.Oc(),this.Ec.setOrientation(Math.cos(b),Math.sin(b),0));b=Ta(this.Dc.eu(),this.Dc.fu(),-a.S.Oc(),0,0,!0);c=Ta(this.Dc.eu(),this.Dc.fu(),-a.S.Oc(),0,0,!1);this.Ec.setVelocity(b,c,0)}};B.prototype.play=function(a,b,c){var d=this.V;this.eh=a;this.volume=b;c=c||0;switch(this.ab){case 0:1!==d.playbackRate&&(d.playbackRate=1);d.volume!==b*Q&&(d.volume=b*Q);d.loop!==
a&&(d.loop=a);d.muted&&(d.muted=!1);if(d.currentTime!==c)try{d.currentTime=c}catch(e){}if(this.pg&&Gb&&!K.Ne)Hb.push(this);else try{this.V.play()}catch(k){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",k)}break;case 1:this.muted=!1;this.jm=1;if(1===this.buffer.ab)this.Vg||(this.V=I.createBufferSource(),this.V.buffer=this.buffer.Bb,this.V.connect(this.Nc)),this.V.loop=a,this.Nc.gain.value=b*Q,0===c?f(this.V):h(this.V,c,this.lk());else{1!==d.playbackRate&&
(d.playbackRate=1);d.loop!==a&&(d.loop=a);this.Nc.gain.value=b*Q;if(d.currentTime!==c)try{d.currentTime=c}catch(g){}this.pg&&Gb&&!K.Ne?Hb.push(this):d.play()}break;case 2:(!this.Vg&&this.Ed||0!==c)&&d.seekTo(c);d.play();this.Bt=!1;break;case 3:K.fe?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.uk?K.ve.Wa:K.Eh.Wa)-c;this.Mf=this.Ed=this.Vg=!1};B.prototype.stop=function(){switch(this.ab){case 0:this.V.paused||this.V.pause();break;
case 1:1===this.buffer.ab?g(this.V):this.V.paused||this.V.pause();break;case 2:this.V.stop();break;case 3:K.fe&&AppMobi.context.stopSound(this.src)}this.Ed=!0;this.Mf=!1};B.prototype.pause=function(){if(!(this.Vg||this.Ed||this.ok()||this.Mf)){switch(this.ab){case 0:this.V.paused||this.V.pause();break;case 1:1===this.buffer.ab?(this.Ae=this.cu(),this.eh&&(this.Ae%=this.lk()),g(this.V)):this.V.paused||this.V.pause();break;case 2:this.V.pause();break;case 3:K.fe&&AppMobi.context.stopSound(this.src)}this.Mf=
!0}};B.prototype.eH=function(){if(!(this.Vg||this.Ed||this.ok())&&this.Mf){switch(this.ab){case 0:this.V.play();break;case 1:1===this.buffer.ab?(this.V=I.createBufferSource(),this.V.buffer=this.buffer.Bb,this.V.connect(this.Nc),this.V.loop=this.eh,this.Nc.gain.value=Q*this.volume*this.jm,this.startTime=(this.uk?K.ve.Wa:K.Eh.Wa)-this.Ae,h(this.V,this.Ae,this.lk())):this.V.play();break;case 2:this.V.play();break;case 3:K.fe&&AppMobi.context.resumeSound(this.src)}this.Mf=!1}};B.prototype.seek=function(a){if(!(this.Vg||
this.Ed||this.ok()))switch(this.ab){case 0:try{this.V.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.ab)this.Mf?this.Ae=a:(this.pause(),this.Ae=a,this.eH());else try{this.V.currentTime=a}catch(c){}break;case 3:K.fe&&AppMobi.context.seekSound(this.src,a)}};B.prototype.cH=function(a){1===this.ab&&(this.oh?(this.Ec.disconnect(),this.Ec.connect(a)):(this.Nc.disconnect(),this.Nc.connect(a)))};B.prototype.lk=function(){switch(this.ab){case 0:if("undefined"!==typeof this.V.duration)return this.V.duration;
break;case 1:return this.buffer.Bb.duration;case 2:return this.V.getDuration();case 3:if(K.fe)return AppMobi.context.getDurationSound(this.src)}return 0};B.prototype.cu=function(){var a=this.lk(),b=0;switch(this.ab){case 0:"undefined"!==typeof this.V.currentTime&&(b=this.V.currentTime);break;case 1:if(1===this.buffer.ab){if(this.Mf)return this.Ae;b=(this.uk?K.ve.Wa:K.Eh.Wa)-this.startTime}else"undefined"!==typeof this.V.currentTime&&(b=this.V.currentTime);break;case 3:K.fe&&(b=AppMobi.context.getPlaybackTimeSound(this.src))}!this.eh&&
b>a&&(b=a);return b};B.prototype.sk=function(){return!this.Mf&&!this.Vg&&!this.Ed&&!this.ok()};B.prototype.EH=function(){var a=this.volume*Q;switch(this.ab){case 0:this.V.volume&&this.V.volume!==a&&(this.V.volume=a);break;case 1:this.Nc.gain.value=a*this.jm}};B.prototype.cq=function(a){switch(this.ab){case 0:this.V.muted!==!!a&&(this.V.muted=!!a);break;case 1:this.jm=a?0:1,this.Nc.gain.value=Q*this.volume*this.jm}};B.prototype.qH=function(){this.Kl=!0;this.cq(this.Kl||this.Nn)};B.prototype.qA=function(a){this.Nn=
!!a;this.cq(this.Kl||this.Nn)};B.prototype.VA=function(){var a=this.playbackRate;this.uk&&(a*=K.Gi);switch(this.ab){case 0:this.V.playbackRate!==a&&(this.V.playbackRate=a);break;case 1:1===this.buffer.ab?this.V.playbackRate.value!==a&&(this.V.playbackRate.value=a):this.V.playbackRate!==a&&(this.V.playbackRate=a)}};B.prototype.sH=function(a){switch(this.ab){case 0:a?this.sk()?(this.V.pause(),this.Di=!0):this.Di=!1:this.Di&&this.V.play();break;case 1:a?this.sk()?(1===this.buffer.ab?(this.Ae=this.cu(),
this.eh&&(this.Ae%=this.lk()),g(this.V)):this.V.pause(),this.Di=!0):this.Di=!1:this.Di&&(1===this.buffer.ab?(this.V=I.createBufferSource(),this.V.buffer=this.buffer.Bb,this.V.connect(this.Nc),this.V.loop=this.eh,this.Nc.gain.value=Q*this.volume*this.jm,this.startTime=(this.uk?K.ve.Wa:K.Eh.Wa)-this.Ae,h(this.V,this.Ae,this.lk())):this.V.play());break;case 2:a?this.sk()?(this.V.pause(),this.Di=!0):this.Di=!1:this.Di&&this.V.play()}};J.Qa=function(a){this.type=a;K=this.j=a.j;ea=this;this.ge=null;this.Xn=
-600;!(this.j.Iq||this.j.Cq&&(this.j.Jn||this.j.Dq))||this.j.Kn||this.j.lc||(Gb=!0);I=null;"undefined"!==typeof AudioContext?(ba=1,I=new AudioContext):"undefined"!==typeof webkitAudioContext&&(ba=1,I=new webkitAudioContext);(this.j.Iq&&1===ba||Gb)&&document.addEventListener("touchstart",function(){var a,b,c;!ue&&I&&(a=I.createBuffer(1,1,22050),b=I.createBufferSource(),b.buffer=a,b.connect(I.destination),f(b),ue=!0);if(Gb){if(!T)for(a=0,b=Hb.length;a<b;++a)c=Hb[a],c.Ed||c.Mf||c.V.play();Hb.length=
0}},!0);1!==ba&&(this.j.ij&&"undefined"!==typeof window.Media?ba=2:this.j.Ny&&(ba=3));2===ba&&(U=location.href,a=U.lastIndexOf("/"),-1<a&&(U=U.substr(0,a+1)),U=U.replace("file://",""));if(this.j.Qy&&this.j.UF&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.j.Ih(this);else{if(this.j.fe)X=this.j.Cq;else try{X=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(b){X=!1}this.j.ns(this)}};
var Aa=J.Qa.prototype;Aa.wa=function(){this.j.pl=this;M=this.aa[0];this.Ei=this.aa[1];this.RG=0!==this.aa[2];za=this.aa[3];oa=this.aa[4];this.Xn=-this.aa[5];La=this.aa[6];Ma=this.aa[7];te=this.aa[8];this.ge=new G;var a=this.j.Ta||this.j.width,c=this.j.Sa||this.j.height;1===ba&&(I.listener.speedOfSound=this.aa[9],I.listener.dopplerFactor=this.aa[10],I.listener.setPosition(a/2,c/2,this.Xn),I.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,c){db&&db.disconnect();Uc=c.toLowerCase();
db=I.createMediaStreamSource(a);db.connect(b(Uc))});this.j.Dx(function(a){ea.NG(a)});var d=this;this.j.$m(function(a){d.Tk(a)})};Aa.Tk=function(a){var b,c,d;b=0;for(c=H.length;b<c;b++)d=H[b],d.Dc&&d.Dc.Ga===a&&(d.Dc.Ga=null,d.oh&&d.sk()&&d.eh&&d.stop());this.ge.Ga===a&&(this.ge.Ga=null)};Aa.xd=function(){var a={silent:T,masterVolume:Q,listenerZ:this.Xn,listenerUid:this.ge.yq()?this.ge.Ga.uid:-1,playing:[],effects:{}},b=a.playing,c,d,e,f,k,g;c=0;for(d=H.length;c<d;c++)e=H[c],!e.sk()||3===this.Ei||
e.pg&&1===this.Ei||!e.pg&&2===this.Ei||(f=e.cu(),e.eh&&(f%=e.lk()),f={tag:e.tag,buffersrc:e.buffer.src,is_music:e.pg,playbackTime:f,volume:e.volume,looping:e.eh,muted:e.Kl,playbackRate:e.playbackRate,paused:e.Mf,resume_position:e.Ae},e.oh&&(f.pan={},g=f.pan,e.Dc&&e.Dc.yq()?g.objUid=e.Dc.Ga.uid:(g.x=e.Wz,g.y=e.Xz,g.a=e.Sz),g.ia=e.Tz,g.oa=e.Uz,g.og=e.Vz),b.push(f));b=a.effects;for(k in da)if(da.hasOwnProperty(k)){e=[];c=0;for(d=da[k].length;c<d;c++)e.push({type:da[k][c].type,params:da[k][c].pc});b[k]=
e}return a};var Ib=[];Aa.Od=function(a){var b=a.silent;Q=a.masterVolume;this.Xn=a.listenerZ;this.ge.Go(null);var c=a.listenerUid;-1!==c&&(this.ge.Yq=c,Ib.push(this.ge));var c=a.playing,d,e,f,g,h,x,B,F,D,y,K;if(3!==this.Ei)for(d=0,e=H.length;d<e;d++)D=H[d],D.pg&&1===this.Ei||(D.pg||2!==this.Ei)&&D.stop();for(h in da)if(da.hasOwnProperty(h))for(d=0,e=da[h].length;d<e;d++)da[h][d].remove();Xa(da);for(h in a.effects)if(a.effects.hasOwnProperty(h))for(x=a.effects[h],d=0,e=x.length;d<e;d++)switch(f=x[d].type,
y=x[d].params,f){case "filter":E(h,new n(y[0],y[1],y[2],y[3],y[4],y[5]));break;case "delay":E(h,new m(y[0],y[1],y[2]));break;case "convolve":f=y[2];D=this.xn(f,!1);D.Bb?f=new l(D.Bb,y[0],y[1],f):(f=new l(null,y[0],y[1],f),D.Jz=y[0],D.Qp=f);E(h,f);break;case "flanger":E(h,new k(y[0],y[1],y[2],y[3],y[4]));break;case "phaser":E(h,new p(y[0],y[1],y[2],y[3],y[4],y[5]));break;case "gain":E(h,new r(y[0]));break;case "tremolo":E(h,new t(y[0],y[1]));break;case "ringmod":E(h,new u(y[0],y[1]));break;case "distortion":E(h,
new q(y[0],y[1],y[2],y[3],y[4]));break;case "compressor":E(h,new z(y[0],y[1],y[2],y[3],y[4]));break;case "analyser":E(h,new A(y[0],y[1]))}d=0;for(e=c.length;d<e;d++)3===this.Ei||(a=c[d],f=a.buffersrc,g=a.is_music,h=a.tag,x=a.playbackTime,B=a.looping,F=a.volume,K=(y=a.pan)&&y.hasOwnProperty("objUid")?y.objUid:-1,g&&1===this.Ei)||!g&&2===this.Ei||((D=this.Xt(f,h,g,B,F))?(D.Ae=a.resume_position,D.Xr(!!y),D.play(B,F,x),D.VA(),D.EH(),D.cq(D.Kl||D.Nn),a.paused&&D.pause(),a.muted&&D.qH(),D.cq(D.Kl||D.Nn),
y&&(-1!==K?(D.Dc=D.Dc||new G,D.Dc.Yq=K,Ib.push(D.Dc)):D.Wr(y.x,y.y,y.a,y.ia,y.oa,y.og))):(D=this.xn(f,g),D.Tr=x,D.Br=a.paused,y&&(-1!==K?D.Uk.push({Lz:K,zq:y.ia,tr:y.oa,yr:y.og,hw:h}):D.Uk.push({x:y.x,y:y.y,N:y.a,zq:y.ia,tr:y.oa,yr:y.og,hw:h}))));if(b&&!T){d=0;for(e=H.length;d<e;d++)H[d].qA(!0);T=!0}else if(!b&&T){d=0;for(e=H.length;d<e;d++)H[d].qA(!1);T=!1}};Aa.Af=function(){var a,b,c,d;a=0;for(b=Ib.length;a<b;a++)c=Ib[a],d=this.j.Yg(c.Yq),c.Go(d),c.Yq=-1,d&&(na=d.x,S=d.y);Ib.length=0};Aa.NG=function(a){if(!this.RG){!a&&
I&&I.resume&&I.resume();var b,c;b=0;for(c=H.length;b<c;b++)H[b].sH(a);a&&I&&I.suspend&&I.suspend()}};Aa.Ub=function(){var a=this.j.Ia,b,c,d;b=0;for(c=H.length;b<c;b++)d=H[b],d.Ub(a),0===d.ab||3===d.ab||d.Vg||d.Ed||!d.ok()||(d.Ed=!0,aa=d.tag,K.trigger(rc.prototype.M.rp,ea)),0!==M&&d.VA();var e,f;for(e in da)if(da.hasOwnProperty(e))for(d=da[e],b=0,c=d.length;b<c;b++)f=d[b],f.Ub&&f.Ub();1===ba&&this.ge.yq()&&(this.ge.Ub(a),na=this.ge.Ga.x,S=this.ge.Ga.y,I.listener.setPosition(this.ge.Ga.x,this.ge.Ga.y,
this.Xn),I.listener.setVelocity(this.ge.eu(),this.ge.fu(),0))};var Jb=[];Aa.rH=function(a){var b,c,d,e,f,k=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],e=d[0],d=2*d[1],(f=4<e.length&&".ogg"===e.substr(e.length-4))&&X||!f&&!X)Jb.push({filename:e,size:d,Ga:null}),k+=d;return k};Aa.vH=function(){var a,b,c,d;a=0;for(b=Jb.length;a<b;++a)c=Jb[a],d=this.j.jq+c.filename,c.Ga=this.xn(d,!1)};Aa.lF=function(){var a=0,b,c,d;b=0;for(c=Jb.length;b<c;++b)d=Jb[b],d.Ga.SF()||d.Ga.HF()||this.j.lc||this.j.Dq?a+=d.size:d.Ga.Oy()&&
(a+=Math.floor(d.size/2));return a};Aa.xn=function(a,b){var c,d,e,f=null;c=0;for(d=R.length;c<d;c++)if(e=R[c],e.src===a){f=e;break}f||(f=new x(a,b),R.push(f));return f};Aa.Xt=function(a,b,c,d,e){var f,k,g;f=0;for(k=H.length;f<k;f++)if(g=H[f],g.src===a&&(g.LD()||c))return g.tag=b,g;a=this.xn(a,c);if(!a.Bb)return"<preload>"!==b&&(a.Dr=b,a.Su=d,a.xw=e),null;g=new B(a,b);H.push(g);return g};var Na=[];D.prototype.rp=function(a){return kb(aa,a)};D.prototype.UB=function(a){F(a);var b;a=0;for(b=Na.length;a<
b;a++)if(Na[a].sk())return!0;return!1};J.M=new D;y.prototype.Play=function(b,c,d,e){!T&&(d=a(d),L=this.Xt(this.j.jq+b[0]+(X?".ogg":".m4a"),e,b[1],0!==c,d))&&(L.Xr(!1),L.play(0!==c,d))};y.prototype.CC=function(b,c,d,e,f,k,g,h,l,p){if(!T){d=a(d);var n=b[1];b=this.j.jq+b[0]+(X?".ogg":".m4a");(L=this.Xt(b,p,n,0!==c,d))?(L.Xr(!0),L.Wr(e,f,k,g,h,a(l)),L.play(0!==c,d)):this.xn(b,n).Uk.push({x:e,y:f,N:k,zq:g,tr:h,yr:a(l),hw:p})}};y.prototype.dD=function(a){F(a);var b;a=0;for(b=Na.length;a<b;a++)Na[a].stop()};
y.prototype.eD=function(){var a,b;a=0;for(b=H.length;a<b;a++)H[a].stop()};J.ja=new y;J.kc=new function(){}})();function sc(a){this.j=a}
(function(){function a(){}function c(){}function b(){}var d=sc.prototype;d.cb=function(a){this.qc=a;this.j=a.j};d.cb.prototype.wa=function(){};d.Qa=function(a){this.type=a;this.j=a.j};d.Qa.prototype.wa=function(){var a=this;window.addEventListener("resize",function(){a.j.trigger(sc.prototype.M.xC,a)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){a.j.trigger(sc.prototype.M.tC,a)}),window.addEventListener("offline",function(){a.j.trigger(sc.prototype.M.sC,a)}));
"undefined"!==typeof window.applicationCache&&(window.applicationCache.addEventListener("updateready",function(){a.j.Tl=1;a.j.trigger(sc.prototype.M.cx,a)}),window.applicationCache.addEventListener("progress",function(b){a.j.Tl=b.loaded/b.total}));this.j.fe||(document.addEventListener("appMobi.device.update.available",function(){a.j.trigger(sc.prototype.M.cx,a)}),document.addEventListener("backbutton",function(){a.j.trigger(sc.prototype.M.Qs,a)}),document.addEventListener("menubutton",function(){a.j.trigger(sc.prototype.M.bx,
a)}),document.addEventListener("searchbutton",function(){a.j.trigger(sc.prototype.M.yC,a)}),document.addEventListener("tizenhwkey",function(b){var c;switch(b.keyName){case "back":c=a.j.trigger(sc.prototype.M.Qs,a);!c&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(c=a.j.trigger(sc.prototype.M.bx,a))||b.preventDefault()}}));this.j.Eq&&(WinJS.Application.onbackclick=function(){return!!a.j.trigger(sc.prototype.M.Qs,a)});this.j.Dx(function(b){b?a.j.trigger(sc.prototype.M.uC,
a):a.j.trigger(sc.prototype.M.vC,a)});this.WF="undefined"!==typeof window.is_scirra_arcade};a.prototype.tC=function(){return!0};a.prototype.sC=function(){return!0};a.prototype.cx=function(){return!0};a.prototype.vC=function(){return!0};a.prototype.uC=function(){return!0};a.prototype.xC=function(){return!0};a.prototype.Qs=function(){return!0};a.prototype.bx=function(){return!0};a.prototype.yC=function(){return!0};d.M=new a;c.prototype.nB=function(){this.j.Kf?CocoonJS.App.forceToFinish():window.tizen?
window.tizen.application.getCurrentApplication().exit():navigator.app&&navigator.app.exitApp?navigator.app.exitApp():navigator.device&&navigator.device.exitApp?navigator.device.exitApp():this.WF||this.j.lc||window.close()};d.ja=new c;b.prototype.URL=function(a){a.Be(this.j.lc?"":window.location.toString())};d.kc=new b})();function tc(a){this.j=a}
(function(){function a(){}var c=tc.prototype;c.cb=function(a){this.qc=a;this.j=a.j};c.cb.prototype.wa=function(){};c.Qa=function(a){this.type=a;this.j=a.j;this.Jq=Array(256);this.xs=Array(256);this.Kj=0};var b=c.Qa.prototype;b.wa=function(){var a=this;this.j.lc||(jQuery(document).keydown(function(b){a.uv(b)}),jQuery(document).keyup(function(b){a.vv(b)}))};var d=[32,33,34,35,36,37,38,39,40,44];b.uv=function(a){var b=!1;window!=window.top&&-1<d.indexOf(a.which)&&(a.preventDefault(),b=!0,a.stopPropagation());
if(this.Jq[a.which])this.xs[a.which]&&!b&&a.preventDefault();else{this.Jq[a.which]=!0;this.Kj=a.which;this.j.Ne=!0;this.j.trigger(tc.prototype.M.eC,this);var c=this.j.trigger(tc.prototype.M.Yw,this),g=this.j.trigger(tc.prototype.M.mC,this);this.j.Ne=!1;if(c||g)this.xs[a.which]=!0,b||a.preventDefault()}};b.vv=function(a){this.Jq[a.which]=!1;this.Kj=a.which;this.j.Ne=!0;this.j.trigger(tc.prototype.M.fC,this);var b=this.j.trigger(tc.prototype.M.oC,this),c=this.j.trigger(tc.prototype.M.nC,this);this.j.Ne=
!1;if(b||c||this.xs[a.which])this.xs[a.which]=!0,a.preventDefault()};b.xd=function(){return{triggerKey:this.Kj}};b.Od=function(a){this.Kj=a.triggerKey};a.prototype.NB=function(a){return this.Jq[a]};a.prototype.Yw=function(a){return a===this.Kj};a.prototype.eC=function(){return!0};a.prototype.fC=function(){return!0};a.prototype.oC=function(a){return a===this.Kj};a.prototype.mC=function(a){return a===this.Kj};a.prototype.nC=function(a){return a===this.Kj};c.M=new a;c.ja=new function(){};c.kc=new function(){}})();
function uc(a){this.j=a}
(function(){function a(){}function c(){}var b=uc.prototype;b.cb=function(a){this.qc=a;this.j=a.j};b.cb.prototype.wa=function(){};b.Qa=function(a){this.type=a;this.j=a.j;this.nt=Array(4);this.JA=this.us=this.ym=this.ti=this.si=0;this.iu=!1};var d=b.Qa.prototype;d.wa=function(){var a=this;if(!this.j.lc){jQuery(document).mousemove(function(b){a.LG(b)});jQuery(document).mousedown(function(b){a.KG(b)});jQuery(document).mouseup(function(b){a.MG(b)});jQuery(document).dblclick(function(b){a.JG(b)});var b=
function(b){a.OG(b)};document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var e={left:0,top:0};d.LG=function(a){var b=this.j.lc?e:jQuery(this.j.canvas).offset();this.si=a.pageX-b.left;this.ti=a.pageY-b.top};d.Fz=function(){return 0<this.j.Le?!0:0<=this.si&&0<=this.ti&&this.si<this.j.width&&this.ti<this.j.height};d.KG=function(a){this.Fz()&&(this.j.hu&&!this.j.ah&&a.preventDefault(),this.nt[a.which]=!0,this.j.Ne=!0,this.j.trigger(uc.prototype.M.dC,this),this.ym=
a.which-1,this.us=0,this.j.trigger(uc.prototype.M.Vw,this),this.j.trigger(uc.prototype.M.Ss,this),this.j.Ne=!1)};d.MG=function(a){this.nt[a.which]&&(this.j.hu&&!this.j.ah&&a.preventDefault(),this.j.hu=!0,this.nt[a.which]=!1,this.j.Ne=!0,this.ym=a.which-1,this.j.trigger(uc.prototype.M.wC,this),this.j.Ne=!1)};d.JG=function(a){this.Fz()&&(a.preventDefault(),this.j.Ne=!0,this.ym=a.which-1,this.us=1,this.j.trigger(uc.prototype.M.Vw,this),this.j.trigger(uc.prototype.M.Ss,this),this.j.Ne=!1)};d.OG=function(a){this.JA=
0>(a.wheelDelta?a.wheelDelta:a.detail?-a.detail:0)?0:1;this.iu=!1;this.j.Ne=!0;this.j.trigger(uc.prototype.M.AC,this);this.j.Ne=!1;this.iu&&lb(a)&&a.preventDefault()};a.prototype.Vw=function(a,b){return a===this.ym&&b===this.us};a.prototype.dC=function(){return!0};a.prototype.wC=function(a){return a===this.ym};a.prototype.RB=function(a){var b=this.j.El();return Va(this.j.EA(a,this.si,this.ti,b.Hl),b.Hl)};a.prototype.Ss=function(a,b,c){return a!==this.ym||b!==this.us?!1:this.j.EA(c,this.si,this.ti,
!1)};a.prototype.AC=function(a){this.iu=!0;return a===this.JA};b.M=new a;b.ja=new function(){};c.prototype.yx=function(a,b){var c,d,e,l,k;ka(b)?(c=this.j.An(0),d=c.scale,e=c.Hg,l=c.Uf,k=c.L,c.scale=1,c.Hg=1,c.Uf=1,c.L=0,a.za(c.Ie(this.si,this.ti,!0)),c.scale=d,c.Hg=e,c.Uf=l,c.L=k):(c=la(b)?this.j.An(b):this.j.bu(b))?a.za(c.Ie(this.si,this.ti,!0)):a.za(0)};c.prototype.zx=function(a,b){var c,d,e,l,k;ka(b)?(c=this.j.An(0),d=c.scale,e=c.Hg,l=c.Vf,k=c.L,c.scale=1,c.Hg=1,c.Vf=1,c.L=0,a.za(c.Ie(this.si,
this.ti,!1)),c.scale=d,c.Hg=e,c.Vf=l,c.L=k):(c=la(b)?this.j.An(b):this.j.bu(b))?a.za(c.Ie(this.si,this.ti,!1)):a.za(0)};b.kc=new c})();function C(a){this.j=a}
(function(){function a(){if(0===this.Ft.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.vm?b.drawImage(this.xb,this.mm,this.nm,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.xb,0,0,this.width,this.height);this.Ft=a.toDataURL("image/png")}return this.Ft}function c(){}function b(a){a[0]=0;a[1]=0;a[2]=0;p.push(a)}function d(a,b){return a<b?""+a+","+b:""+b+","+a}function e(a,b,c,e){b=b.uid;c=c.uid;var f=d(b,c);if(a.hasOwnProperty(f))a[f][2]=
e;else{var k=p.length?p.pop():[0,0,0];k[0]=b;k[1]=c;k[2]=e;a[f]=k}}function f(a,c,e){c=d(c.uid,e.uid);a.hasOwnProperty(c)&&(b(a[c]),delete a[c])}function h(a,b,c){b=d(b.uid,c.uid);if(a.hasOwnProperty(b))return r=a[b][2],!0;r=-2;return!1}function g(){}var n=C.prototype;n.cb=function(a){this.qc=a;this.j=a.j};var m=n.cb.prototype;m.wa=function(){if(!this.Ka){var b,c,d,e,f,k,g,h,l;this.hg=[];this.Fn=!1;b=0;for(c=this.He.length;b<c;b++){f=this.He[b];g={};g.name=f[0];g.speed=f[1];g.loop=f[2];g.Nv=f[3];
g.Pr=f[4];g.aA=f[5];g.gb=f[6];g.frames=[];d=0;for(e=f[7].length;d<e;d++)k=f[7][d],h={},h.ew=k[0],h.fw=k[1],h.mm=k[2],h.nm=k[3],h.width=k[4],h.height=k[5],h.duration=k[6],h.te=k[7],h.ue=k[8],h.mu=k[9],h.Er=k[10],h.bA=k[11],h.vm=0!==h.width,h.Ft="",h.SI=a,l={left:0,top:0,right:1,bottom:1},h.Zv=l,h.Vb=null,(l=this.j.YE(k[0]))?h.xb=l:(h.xb=new Image,h.xb.PD=k[0],h.xb.Yx=k[1],h.xb.KD=null,this.j.bB(h.xb,k[0])),g.frames.push(h),this.hg.push(h);this.He[b]=g}}};m.TA=function(){var a,b,c;a=0;for(b=this.F.length;a<
b;a++)c=this.F[a],c.Vp=c.Ef.Vb};m.Ar=function(){if(!this.Ka){var a,b,c;a=0;for(b=this.hg.length;a<b;++a)c=this.hg[a],c.xb.KD=null,c.Vb=null;this.Fn=!1;this.TA()}};m.xv=function(){if(!this.Ka&&this.F.length){var a,b,c;a=0;for(b=this.hg.length;a<b;++a)c=this.hg[a],c.Vb=this.j.fa.Xq(c.xb,!1,this.j.sb,c.bA);this.TA()}};m.Nu=function(){if(!this.Ka&&!this.Fn&&this.j.fa){var a,b,c;a=0;for(b=this.hg.length;a<b;++a)c=this.hg[a],c.Vb=this.j.fa.Xq(c.xb,!1,this.j.sb,c.bA);this.Fn=!0}};m.mw=function(){if(!this.Ka&&
!this.F.length&&this.Fn){var a,b,c;a=0;for(b=this.hg.length;a<b;++a)c=this.hg[a],this.j.fa.deleteTexture(c.Vb),c.Vb=null;this.Fn=!1}};var l=[];m.Dv=function(a){var b,c,d;b=l.length=0;for(c=this.hg.length;b<c;++b)d=this.hg[b].xb,-1===l.indexOf(d)&&(a.drawImage(d,0,0),l.push(d))};n.Qa=function(a){this.type=a;this.j=a.j;a=this.type.He[0].frames[0].Er;this.ne?this.Ya.Jo(a):this.Ya=new eb(a)};var k=n.Qa.prototype;k.wa=function(){this.visible=0===this.aa[0];this.ou=this.vu=!1;this.Qh=0!==this.aa[3];1===
this.type.He.length&&1===this.type.He[0].frames.length||0===this.type.He[0].speed||(this.j.ns(this),this.vu=!0);this.Qb=this.ny(this.aa[1])||this.type.He[0];this.la=this.aa[2];0>this.la&&(this.la=0);this.la>=this.Qb.frames.length&&(this.la=this.Qb.frames.length-1);var a=this.Qb.frames[this.la];this.Ya.Jo(a.Er);this.te=a.te;this.ue=a.ue;this.mn=this.Qb.speed;this.ne?this.Og.reset():this.Og=new bb;this.Yh=this.Og.Wa;this.Wi=!0;this.Mh=0;this.Xj=!0;this.Jp=this.Hx="";this.Ux=0;this.tt=-1;this.type.Nu();
var b,c,d,e,f,k,g,a=0;for(b=this.type.He.length;a<b;a++)for(e=this.type.He[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.xb.width,f.height=f.xb.height),f.vm&&(g=f.xb,k=f.Zv,k.left=f.mm/g.width,k.top=f.nm/g.height,k.right=(f.mm+f.width)/g.width,k.bottom=(f.nm+f.height)/g.height,0===f.mm&&0===f.nm&&f.width===g.width&&f.height===g.height&&(f.vm=!1));this.Ef=this.Qb.frames[this.la];this.Vp=this.Ef.Vb};k.xd=function(){var a={a:this.Qb.gb,f:this.la,cas:this.mn,fs:this.Yh,ar:this.Mh,
at:this.Og.Wa};this.Wi||(a.ap=this.Wi);this.Xj||(a.af=this.Xj);return a};k.Od=function(a){var b=this.cF(a.a);b&&(this.Qb=b);this.la=a.f;0>this.la&&(this.la=0);this.la>=this.Qb.frames.length&&(this.la=this.Qb.frames.length-1);this.mn=a.cas;this.Yh=a.fs;this.Mh=a.ar;this.Og.reset();this.Og.Wa=a.at;this.Wi=a.hasOwnProperty("ap")?a.ap:!0;this.Xj=a.hasOwnProperty("af")?a.af:!0;this.Ef=this.Qb.frames[this.la];this.Vp=this.Ef.Vb;this.Ya.Jo(this.Ef.Er);this.te=this.Ef.te;this.ue=this.Ef.ue};k.kt=function(a){this.la=
a?0:this.Qb.frames.length-1;this.Wi=!1;this.Hx=this.Qb.name;this.ou=!0;this.j.trigger(C.prototype.M.cC,this);this.j.trigger(C.prototype.M.bC,this);this.ou=!1;this.Mh=0};k.UI=function(){return this.Og.Wa};k.Ub=function(){this.Og.add(this.j.Fl(this));this.Jp.length&&this.by();0<=this.tt&&this.WD();var a=this.Og.Wa,b=this.Qb,c=b.frames[this.la],d=c.duration/this.mn;this.Wi&&a>=this.Yh+d&&(this.Xj?this.la++:this.la--,this.Yh+=d,this.la>=b.frames.length&&(b.aA?(this.Xj=!1,this.la=b.frames.length-2):b.loop?
this.la=b.Pr:(this.Mh++,this.Mh>=b.Nv?this.kt(!1):this.la=b.Pr)),0>this.la&&(b.aA?(this.la=1,this.Xj=!0,b.loop||(this.Mh++,this.Mh>=b.Nv&&this.kt(!0))):b.loop?this.la=b.Pr:(this.Mh++,this.Mh>=b.Nv?this.kt(!0):this.la=b.Pr)),0>this.la?this.la=0:this.la>=b.frames.length&&(this.la=b.frames.length-1),a>this.Yh+b.frames[this.la].duration/this.mn&&(this.Yh=a),a=b.frames[this.la],this.ll(c,a),this.j.wb=!0)};k.ny=function(a){var b,c,d;b=0;for(c=this.type.He.length;b<c;b++)if(d=this.type.He[b],kb(d.name,a))return d;
return null};k.cF=function(a){var b,c,d;b=0;for(c=this.type.He.length;b<c;b++)if(d=this.type.He[b],d.gb===a)return d;return null};k.by=function(){var a=this.Qb.frames[this.la],b=this.ny(this.Jp);this.Jp="";!b||kb(b.name,this.Qb.name)&&this.Wi||(this.Qb=b,this.mn=b.speed,0>this.la&&(this.la=0),this.la>=this.Qb.frames.length&&(this.la=this.Qb.frames.length-1),1===this.Ux&&(this.la=0),this.Wi=!0,this.Yh=this.Og.Wa,this.Xj=!0,this.ll(a,this.Qb.frames[this.la]),this.j.wb=!0)};k.WD=function(){var a=this.Qb.frames[this.la],
b=this.la;this.la=ua(this.tt);0>this.la&&(this.la=0);this.la>=this.Qb.frames.length&&(this.la=this.Qb.frames.length-1);b!==this.la&&(this.ll(a,this.Qb.frames[this.la]),this.Yh=this.Og.Wa,this.j.wb=!0);this.tt=-1};k.ll=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.te=b.te;this.ue=b.ue;this.Ya.Jo(b.Er);this.ea();this.Ef=b;this.Vp=b.Vb;c=0;for(d=this.Ma.length;c<d;c++)e=this.Ma[c],e.Qz&&e.Qz(a,b);this.j.trigger(C.prototype.M.ll,this)};
k.Sg=function(a){a.globalAlpha=this.opacity;var b=this.Ef,c=b.vm,d=b.xb,e=this.x,f=this.y,k=this.width,g=this.height;if(0===this.L&&0<=k&&0<=g)e-=this.te*k,f-=this.ue*g,this.j.qh&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.mm,b.nm,b.width,b.height,e,f,k,g):a.drawImage(d,e,f,k,g);else{this.j.qh&&(e=Math.round(e),f=Math.round(f));a.save();var h=0<k?1:-1,l=0<g?1:-1;a.translate(e,f);1===h&&1===l||a.scale(h,l);a.rotate(this.L*h*l);e=0-this.te*ra(k);f=0-this.ue*ra(g);c?a.drawImage(d,b.mm,b.nm,
b.width,b.height,e,f,ra(k),ra(g)):a.drawImage(d,e,f,ra(k),ra(g));a.restore()}};k.Hf=function(a){a.Xe(this.Vp);a.Yk(this.opacity);var b=this.Ef,c=this.Hb;if(this.j.qh){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.vm?a.sh(c.sc+d,c.tc+e,c.Vd+d,c.Wd+e,c.Ld+d,c.Md+e,c.Jd+d,c.Kd+e,b.Zv):a.Kr(c.sc+d,c.tc+e,c.Vd+d,c.Wd+e,c.Ld+d,c.Md+e,c.Jd+d,c.Kd+e)}else b.vm?a.sh(c.sc,c.tc,c.Vd,c.Wd,c.Ld,c.Md,c.Jd,c.Kd,b.Zv):a.Kr(c.sc,c.tc,c.Vd,c.Wd,c.Ld,c.Md,c.Jd,c.Kd)};k.gF=function(a){var b=this.Ef,c,
d;c=0;for(d=b.mu.length;c<d;c++)if(kb(a,b.mu[c][0]))return c;return-1};k.Xg=function(a,b){var c=this.Ef,d=c.mu,e;e=ma(a)?this.gF(a):a-1;e=ua(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.te)*this.width,d=d[e][2],d=(d-c.ue)*this.height,c=Math.cos(this.L);e=Math.sin(this.L);var k=f*c-d*e,d=d*c+f*e,f=k+this.x,d=d+this.y;return b?f:d};var p=[],r=-2,t=[];c.prototype.hC=function(a){if(!a)return!1;var c=this.j,d=c.El(),k=d.type;d.ba.collmemory||(d.ba.collmemory={},c.$m(function(a){return function(c){c=
c.uid;var d,e;for(d in a)a.hasOwnProperty(d)&&(e=a[d],e[0]===c||e[1]===c)&&(b(a[d]),delete a[d])}}(d.ba.collmemory)));var d=d.ba.collmemory,g=k.eb(),l=a.eb(),g=g.hf(),p,n,m,q,u,z,A,G=this.j.vf,H=G-1,L=c.sd().nd;for(n=0;n<g.length;n++){m=g[n];l.pb?(m.bb(),this.j.Zt(m.S,a,m.Pb,t),p=t):p=l.hf();for(q=0;q<p.length;q++)u=p[q],c.uf(m,u)||c.MD(m,u)?(z=h(d,m,u),z=!z||r<H,e(d,m,u,G),z&&(c.Do(L.Eb),z=k.eb(),A=a.eb(),z.pb=!1,A.pb=!1,k===a?(z.F.length=2,z.F[0]=m,z.F[1]=u,k.jg()):(z.F.length=1,A.F.length=1,z.F[0]=
m,A.F[0]=u,k.jg(),a.jg()),L.Ov(),c.Aj(L.Eb))):f(d,m,u);t.length=0}return!1};var u=null,q=new ga,z=!1,A=[],G=new xa(0,0,0,0);m.finish=function(a){if(z){if(a){var b=this.j.sd().nd.Tf;a=u.eb();var c=q.Fg(),d,e;if(a.pb){a.pb=!1;a.F.length=c.length;d=0;for(e=c.length;d<e;d++)a.F[d]=c[d];if(b)for(d=a.rb.length=0,e=u.F.length;d<e;d++)c=u.F[d],q.contains(c)||a.rb.push(c)}else if(b)for(b=a.F.length,a.F.length=b+c.length,d=0,e=c.length;d<e;d++)a.F[b+d]=c[d],Ga(a.rb,c[d]);else Da(a.F,c);u.jg()}q.clear();z=!1}};
c.prototype.SB=function(a){if(a){var b=!1,c,d,e,f=this.j.El(),k=f.type,f=f.Hl;c=a.eb();d=this.j.sd().nd.Tf;var g;c.pb?(this.bb(),G.ln(this.Pb),G.offset(0,0),this.j.Zt(this.S,a,G,A),g=A):g=d?c.rb:c.F;u=a;z=k!==a&&!f;c=0;for(d=g.length;c<d;c++)if(e=g[c],this.j.uf(this,e)){b=!0;if(f)break;k!==a&&q.add(e)}A.length=0;a=b}else a=!1;return a};c.prototype.bC=function(a){return kb(this.Hx,a)};c.prototype.cC=function(){return!0};c.prototype.ll=function(){return!0};n.M=new c;g.prototype.fD=function(){this.Wi=
!1};g.prototype.JC=function(a,b){this.Jp=a;this.Ux=b;this.vu||(this.j.ns(this),this.vu=!0);this.ou||this.by()};g.prototype.QC=function(a){a=ra(this.width)*(0===a?-1:1);this.width!==a&&(this.width=a,this.ea())};n.ja=new g;n.kc=new function(){}})();function vc(a){this.j=a}
(function(){function a(){return h.length?h.pop():{}}function c(a){var b,c;b=0;for(c=a.length;b<c;b++)h.push(a[b]);a.length=0}function b(){}var d=vc.prototype;d.wa=function(){d.ja.VC=function(a){this.width!==a&&(this.width=a,this.xm=!0,this.ea())}};d.cb=function(a){this.qc=a;this.j=a.j};var e=d.cb.prototype;e.wa=function(){};e.Ar=function(){if(!this.Ka){var a,b,c;a=0;for(b=this.F.length;a<b;a++)c=this.F[a],c.nh=null,c.Sk=null,c.Te=null}};d.Qa=function(a){this.type=a;this.j=a.j;this.ne?this.oj.length=
0:this.oj=[];this.xm=!0};e=d.Qa.prototype;e.wa=function(){this.text=this.aa[0];this.visible=0===this.aa[1];this.font=this.aa[2];this.color=this.aa[3];this.xq=this.aa[4];this.ys=this.aa[5];this.Bw=0===this.aa[7];this.Gu=this.Qq=this.width;this.Pq=this.height;this.Ju=this.aa[8];this.pq=this.yl="";this.GA=this.HA=this.Bo=0;this.PG();this.Te=this.Sk=this.nh=null;this.Hz=!1;this.Wn=this.j.vf;this.ne?this.Bj.set(0,0,1,1):this.Bj=new xa(0,0,1,1);this.j.fa&&this.j.ns(this)};e.PG=function(){var a=this.font.split(" "),
b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.Bo=parseInt(a[b].substr(0,a[b].length-2));this.Hv=Math.ceil(this.Bo/72*96)+4;0<b&&(this.pq=a[b-1]);this.yl=a[b+1];for(b+=2;b<a.length;b++)this.yl+=" "+a[b];break}};e.xd=function(){return{t:this.text,f:this.font,c:this.color,ha:this.xq,va:this.ys,wr:this.Bw,lho:this.Ju,fn:this.yl,fs:this.pq,ps:this.Bo,pxh:this.Hv,tw:this.HA,th:this.GA,lrt:this.Wn}};e.Od=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.xq=a.ha;this.ys=
a.va;this.Bw=a.wr;this.Ju=a.lho;this.yl=a.fn;this.pq=a.fs;this.Bo=a.ps;this.Hv=a.pxh;this.HA=a.tw;this.GA=a.th;this.Wn=a.lrt;this.xm=!0;this.Gu=this.Qq=this.width;this.Pq=this.height};e.Ub=function(){if(this.j.fa&&this.Te&&300<=this.j.vf-this.Wn){var a=this.S;this.bb();var b=this.Pb;if(b.right<a.uc||b.bottom<a.vc||b.left>a.Uc||b.top>a.Tc)this.j.fa.deleteTexture(this.Te),this.nh=this.Sk=this.Te=null}};e.wi=function(){this.nh=this.Sk=null;this.j.fa&&this.Te&&this.j.fa.deleteTexture(this.Te);this.Te=
null};e.dJ=function(){this.font=this.pq+" "+this.Bo.toString()+"pt "+this.yl;this.xm=!0;this.j.wb=!0};e.Sg=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=this.S.jf(),a.save(),a.scale(c,c));if(this.xm||this.width!==this.Gu)this.type.qc.mD(this.text,this.oj,a,this.width,this.Bw),this.xm=!1,this.Gu=this.width;this.bb();var c=b?0:this.Hb.sc,d=b?0:this.Hb.tc;this.j.qh&&(c=c+.5|0,d=d+.5|0);0===this.L||b||(a.save(),a.translate(c,d),
a.rotate(this.L),d=c=0);var e=d+this.height,f=this.Hv,f=f+this.Ju,h,t;1===this.ys?d+=Math.max(this.height/2-this.oj.length*f/2,0):2===this.ys&&(d+=Math.max(this.height-this.oj.length*f-2,0));for(t=0;t<this.oj.length&&!(h=c,1===this.xq?h=c+(this.width-this.oj[t].width)/2:2===this.xq&&(h=c+(this.width-this.oj[t].width)),a.fillText(this.oj[t].text,h,d),d+=f,d>=e-f);t++);(0!==this.L||b)&&a.restore();this.Wn=this.j.vf};e.Hf=function(a){if(!(1>this.width||1>this.height)){var b=this.xm||this.Hz;this.Hz=
!1;var c=this.S.jf(),d=this.S.Oc(),e=this.Bj,f=c*this.width,h=c*this.height,t=Math.ceil(f),u=Math.ceil(h),q=this.j.Ta/2,z=this.j.Sa/2;this.Sk||(this.nh=document.createElement("canvas"),this.nh.width=t,this.nh.height=u,this.Qq=t,this.Pq=u,b=!0,this.Sk=this.nh.getContext("2d"));if(t!==this.Qq||u!==this.Pq)this.nh.width=t,this.nh.height=u,this.Te&&(a.deleteTexture(this.Te),this.Te=null),b=!0;b&&(this.Sk.clearRect(0,0,t,u),this.Sg(this.Sk,!0),this.Te||(this.Te=a.Rh(t,u,this.j.sb,this.j.ah)),a.KH(this.nh,
this.Te,this.j.ah));this.Qq=t;this.Pq=u;a.Xe(this.Te);a.Yk(this.opacity);a.wh();a.translate(-q,-z);a.Ch();var A=this.Hb,b=this.S.gc(A.sc,A.tc,!0,!0),q=this.S.gc(A.sc,A.tc,!1,!0),z=this.S.gc(A.Vd,A.Wd,!0,!0),G=this.S.gc(A.Vd,A.Wd,!1,!0),x=this.S.gc(A.Ld,A.Md,!0,!0),B=this.S.gc(A.Ld,A.Md,!1,!0),F=this.S.gc(A.Jd,A.Kd,!0,!0),A=this.S.gc(A.Jd,A.Kd,!1,!0);if(this.j.qh||0===this.L&&0===d)var E=(b+.5|0)-b,D=(q+.5|0)-q,b=b+E,q=q+D,z=z+E,G=G+D,x=x+E,B=B+D,F=F+E,A=A+D;0===this.L&&0===d?(z=b+t,G=q,x=z,B=q+u,
F=b,A=B,e.right=1,e.bottom=1):(e.right=f/t,e.bottom=h/u);a.sh(b,q,z,G,x,B,F,A,e);a.wh();a.scale(c,c);a.Qv(-this.S.Oc());a.translate((this.S.uc+this.S.Uc)/-2,(this.S.vc+this.S.Tc)/-2);a.Ch();this.Wn=this.j.vf}};var f=[];d.hD=function(a){f.length=0;for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(f.push(b),b=""),f.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));f.push(b);b=""}else d<a.length&&(b+=
c,d++);b.length&&f.push(b)};var h=[];d.mD=function(b,d,e,f,k){if(b&&b.length)if(2>=f)c(d);else{if(100>=b.length&&-1===b.indexOf("\n")){var h=e.measureText(b).width;if(h<=f){c(d);d.push(a());d[0].text=b;d[0].width=h;return}}this.nD(b,d,e,f,k)}else c(d)};d.nD=function(b,c,d,e,k){k&&(this.hD(b),b=f);var p="",r,t,u,q=0;for(u=0;u<b.length;u++)"\n"===b[u]?(q>=c.length&&c.push(a()),t=c[q],t.text=p,t.width=d.measureText(p).width,q++,p=""):(r=p,p+=b[u],t=d.measureText(p).width,t>=e&&(q>=c.length&&c.push(a()),
t=c[q],t.text=r,t.width=d.measureText(r).width,q++,p=b[u],k||" "!==p||(p="")));p.length&&(q>=c.length&&c.push(a()),t=c[q],t.text=p,t.width=d.measureText(p).width,q++);for(u=q;u<c.length;u++)h.push(c[u]);c.length=q};d.M=new function(){};d.ja=new function(){};b.prototype.Text=function(a){a.Be(this.text)};d.kc=new b})();function wc(a){this.j=a}
(function(){var a=wc.prototype;a.cb=function(a){this.qc=a;this.j=a.j};var c=a.cb.prototype;c.wa=function(){this.Ka||(this.xb=new Image,this.xb.Yx=this.fw,this.j.bB(this.xb,this.ew),this.Vb=this.pattern=null)};c.Ar=function(){this.Ka||(this.Vb=null)};c.xv=function(){if(!this.Ka&&this.F.length){this.Vb||(this.Vb=this.j.fa.Xq(this.xb,!0,this.j.sb,this.gw));var a,c;a=0;for(c=this.F.length;a<c;a++)this.F[a].Vb=this.Vb}};c.Nu=function(){this.Ka||this.Vb||!this.j.fa||(this.Vb=this.j.fa.Xq(this.xb,!0,this.j.sb,
this.gw))};c.mw=function(){this.Ka||this.F.length||!this.Vb||(this.j.fa.deleteTexture(this.Vb),this.Vb=null)};c.Dv=function(a){a.drawImage(this.xb,0,0)};a.Qa=function(a){this.type=a;this.j=a.j};c=a.Qa.prototype;c.wa=function(){this.visible=0===this.aa[0];this.Bj=new xa(0,0,0,0);this.Ey=!1;this.xb=this.type.xb;this.j.fa?(this.type.Nu(),this.Vb=this.type.Vb):(this.type.pattern||(this.type.pattern=this.j.Fb.createPattern(this.type.xb,"repeat")),this.pattern=this.type.pattern)};c.Af=function(){this.Ey=
!1;this.xb=this.type.xb};c.wi=function(){this.j.fa&&this.Ey&&this.Vb&&(this.j.fa.deleteTexture(this.Vb),this.Vb=null)};c.Sg=function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle=this.pattern;var c=this.x,e=this.y;this.j.qh&&(c=Math.round(c),e=Math.round(e));var f=-(this.te*this.width),h=-(this.ue*this.height),g=f%this.xb.width,n=h%this.xb.height;0>g&&(g+=this.xb.width);0>n&&(n+=this.xb.height);a.translate(c,e);a.rotate(this.L);a.translate(g,n);a.fillRect(f-g,h-n,this.width,this.height);a.restore()};
c.Hf=function(a){a.Xe(this.Vb);a.Yk(this.opacity);var c=this.Bj;c.right=this.width/this.xb.width;c.bottom=this.height/this.xb.height;var e=this.Hb;if(this.j.qh){var f=Math.round(this.x)-this.x,h=Math.round(this.y)-this.y;a.sh(e.sc+f,e.tc+h,e.Vd+f,e.Wd+h,e.Ld+f,e.Md+h,e.Jd+f,e.Kd+h,c)}else a.sh(e.sc,e.tc,e.Vd,e.Wd,e.Ld,e.Md,e.Jd,e.Kd,c)};a.M=new function(){};a.ja=new function(){};a.kc=new function(){}})();function xc(a){this.j=a}
(function(){function a(){}function c(){}var b=xc.prototype;b.cb=function(a){this.behavior=a;this.j=a.j};b.cb.prototype.wa=function(){};b.Qa=function(a,b){this.type=a;this.behavior=a.behavior;this.u=b;this.j=a.j};var d=b.Qa.prototype;d.wa=function(){var a=1===this.aa[0];this.tn=this.aa[1];this.Xo=this.aa[2];this.gq=this.aa[3];this.VD=this.aa[4];this.Ye=a?0:3;this.ne?this.Yf.reset():this.Yf=new bb;this.Rk=this.u.opacity?this.u.opacity:1;a&&(0===this.tn?(this.Ye=1,0===this.Xo&&(this.Ye=2)):(this.u.opacity=
0,this.j.wb=!0))};d.xd=function(){return{fit:this.tn,wt:this.Xo,fot:this.gq,s:this.Ye,st:this.Yf.Wa,mo:this.Rk}};d.Od=function(a){this.tn=a.fit;this.Xo=a.wt;this.gq=a.fot;this.Ye=a.s;this.Yf.reset();this.Yf.Wa=a.st;this.Rk=a.mo};d.Ub=function(){this.Yf.add(this.j.Fl(this.u));0===this.Ye&&(this.u.opacity=this.Yf.Wa/this.tn*this.Rk,this.j.wb=!0,this.u.opacity>=this.Rk&&(this.u.opacity=this.Rk,this.Ye=1,this.Yf.reset(),this.j.trigger(xc.prototype.M.jC,this.u)));1===this.Ye&&this.Yf.Wa>=this.Xo&&(this.Ye=
2,this.Yf.reset(),this.j.trigger(xc.prototype.M.gx,this.u));2===this.Ye&&0!==this.gq&&(this.u.opacity=this.Rk-this.Yf.Wa/this.gq*this.Rk,this.j.wb=!0,0>this.u.opacity&&(this.u.opacity=0,this.Ye=3,this.Yf.reset(),this.j.trigger(xc.prototype.M.Xw,this.u),1===this.VD&&this.j.Ih(this.u)))};d.ey=function(){this.Ye=0;this.Yf.reset();0===this.tn?(this.Ye=1,0===this.Xo&&(this.Ye=2)):(this.u.opacity=0,this.j.wb=!0)};a.prototype.Xw=function(){return!0};a.prototype.jC=function(){return!0};a.prototype.gx=function(){return!0};
b.M=new a;c.prototype.cD=function(){3===this.Ye&&this.ey()};c.prototype.HC=function(){this.ey()};b.ja=new c;b.kc=new function(){}})();function qc(a){this.j=a}(function(){var a=qc.prototype;a.cb=function(a){this.behavior=a;this.j=a.j};a.cb.prototype.wa=function(){};a.Qa=function(a,c){this.type=a;this.behavior=a.behavior;this.u=c;this.j=a.j};var c=a.Qa.prototype;c.wa=function(){};c.wi=function(){};c.Ub=function(){};a.M=new function(){};a.ja=new function(){};a.kc=new function(){}})();
function N(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}
if(navigator.isCocoonJS&&"undefined"!==typeof window.cr_cjs_accelerated_physics)ia("Using CocoonJS native physics"),window.ext&&"undefined"!==typeof window.ext.IDTK_SRV_BOX2D?function(){function a(a,b,d,e){this.type=c.ul;this.Lb=new l;this.Mb=new l;this.Eg=null;void 0!==a&&(this.P=a);void 0!==b&&(this.R=b);void 0!==d&&this.Lb.J(d);void 0!==e&&this.Mb.J(e);this.hm=this.Cz=this.rw=this.Uu=this.vh=0;this.wl=this.hk=!1}function c(a){this.P=a.P;this.R=a.R;this.Eg=a.Eg;this.type=a.type;this.next=null}function b(a,
b){this.dr=[];this.Tb=[];this.Jk=[];this.ji=null;this.nG=[];this.hc=window.ext.IDTK_SRV_BOX2D.makeCall("createWorld",a.x,a.y,b)}function d(){}function e(a,b,c){this.Yb=a;this.Sb=b;this.uG=c}function f(a,b){var c=a.Eg;a.Eg=null;this.Ra=b;this.G=new n(a.position,m.gl(a.L));this.ko=[];this.fo=a.yc;a.type===f.ef&&(a.lg=0);this.Cc=window.ext.IDTK_SRV_BOX2D.makeCall("createBody",b.hc,a);a.Eg=c}function h(a,b,c,d){this.io=a;this.Zu=c;this.qi={};this.qi.ie=l.C(0,0);this.hr=!1;this.er=d.lg;this.av=d.Wg;this.kv=
d.xh;this.hr=d.uu}function g(){}function n(a,b){this.position=l.C(0,0);this.A=new m;void 0===a&&(a=null);void 0===b&&(b=null);a&&(this.position.J(a),this.A.dg(b))}function m(){this.k=l.C(0,0);this.n=l.C(0,0);this.Si()}function l(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b}O=l;l.Lh=[];l.C=function(a,b){if(0<O.Lh.length){var c=O.Lh.pop();c.Set(a,b);return c}return new O(a,b)};l.wc=function(a){1E4>O.Lh.length&&O.Lh.push(a)};l.prototype.qa=function(){this.y=this.x=0};l.prototype.Set=function(a,
b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};l.prototype.J=function(a){this.x=a.x;this.y=a.y};l.gI=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return l.C(a,b)};l.prototype.Hc=function(){return l.C(this.x,this.y)};l.prototype.Gh=function(a){this.x+=a.x;this.y+=a.y};l.prototype.$s=function(a){this.x-=a.x;this.y-=a.y};l.prototype.$d=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a};l.prototype.Mg=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};l.prototype.qp=function(){return this.x*
this.x+this.y*this.y};l.prototype.ae=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};l.prototype.Ps=function(){this.x=-this.x;this.y=-this.y};P=m;m.gl=function(a){void 0===a&&(a=0);var b=new m;b.Set(a);return b};m.Lg=function(a,b){var c=new m;c.Ys(a,b);return c};m.prototype.Set=function(a){void 0===a&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.k.x=b;this.n.x=-a;this.k.y=a;this.n.y=b};m.prototype.Ys=function(a,b){this.k.J(a);
this.n.J(b)};m.prototype.Hc=function(){var a=new m;a.dg(this);return a};m.prototype.dg=function(a){this.k.J(a.k);this.n.J(a.n)};m.prototype.Zo=function(a){this.k.x+=a.k.x;this.k.y+=a.k.y;this.n.x+=a.n.x;this.n.y+=a.n.y};m.prototype.Si=function(){this.k.x=1;this.n.x=0;this.k.y=0;this.n.y=1};m.prototype.qa=function(){this.k.x=0;this.n.x=0;this.k.y=0;this.n.y=0};m.prototype.Yd=function(){return Math.atan2(this.k.y,this.k.x)};m.prototype.Hs=function(a){var b=this.k.x,c=this.n.x,d=this.k.y,e=this.n.y,
f=b*e-c*d;0!==f&&(f=1/f);a.k.x=f*e;a.n.x=-f*c;a.k.y=-f*d;a.n.y=f*b;return a};m.prototype.Ti=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.k.x,e=this.n.x,f=this.k.y,h=this.n.y,g=d*h-e*f;0!==g&&(g=1/g);a.x=g*(h*b-e*c);a.y=g*(d*c-f*b);return a};m.prototype.Fh=function(){this.k.Fh();this.n.Fh()};yc=n;n.prototype.xc=function(a,b){this.position.J(a);this.A.dg(b)};n.prototype.Si=function(){this.position.qa();this.A.Si()};n.prototype.Set=function(a){this.position.J(a.position);this.A.dg(a.A)};
n.prototype.sp=function(){return Math.atan2(this.A.k.y,this.A.k.x)};V=g;g.pp=function(a){void 0===a&&(a=0);return isFinite(a)};g.Wb=function(a,b){return a.x*b.x+a.y*b.y};g.Lj=function(a,b){return a.x*b.y-a.y*b.x};g.Hh=function(a,b){void 0===b&&(b=0);return l.C(b*a.y,-b*a.x)};g.Ds=function(a,b){void 0===a&&(a=0);return l.C(-a*b.y,a*b.x)};g.ic=function(a,b){return l.C(a.k.x*b.x+a.n.x*b.y,a.k.y*b.x+a.n.y*b.y)};g.Jh=function(a,b){return l.C(g.Wb(b,a.k),g.Wb(b,a.n))};g.Wc=function(a,b){var c=g.ic(a.A,
b);c.x+=a.position.x;c.y+=a.position.y;return c};g.Ns=function(a,b){var c=g.Kb(b,a.position),d=c.x*a.A.k.x+c.y*a.A.k.y;c.y=c.x*a.A.n.x+c.y*a.A.n.y;c.x=d;return c};g.Hm=function(a,b){return l.C(a.x+b.x,a.y+b.y)};g.Kb=function(a,b){return l.C(a.x-b.x,a.y-b.y)};g.wB=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};g.Iw=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};g.ZB=function(a,b){void 0===a&&(a=0);return l.C(a*b.x,a*b.y)};g.fB=function(a,b){return m.Lg(g.Hm(a.k,b.k),g.Hm(a.n,
b.n))};g.$B=function(a,b){return m.Lg(g.ic(a,b.k),g.ic(a,b.n))};g.aC=function(a,b){var c=l.C(g.Wb(a.k,b.k),g.Wb(a.n,b.k)),d=l.C(g.Wb(a.k,b.n),g.Wb(a.n,b.n));return m.Lg(c,d)};g.Fh=function(a){void 0===a&&(a=0);return 0<a?a:-a};g.Em=function(a){return l.C(g.Fh(a.x),g.Fh(a.y))};g.dB=function(a){return m.Lg(g.Em(a.k),g.Em(a.n))};g.Tw=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a<b?a:b};g.Uw=function(a,b){return l.C(g.Tw(a.x,b.x),g.Tw(a.y,b.y))};g.Rw=function(a,b){void 0===a&&(a=0);void 0===
b&&(b=0);return a>b?a:b};g.Sw=function(a,b){return l.C(g.Rw(a.x,b.x),g.Rw(a.y,b.y))};g.Ob=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return a<b?b:a>c?c:a};g.jB=function(a,b,c){return g.Sw(b,g.Uw(a,c))};g.GI=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};g.tI=function(){return 2*Math.random()-1};g.uI=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=Math.random();return(b-a)*c+a};g.mI=function(a){void 0===a&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;
a|=a>>8&16777215;return(a|a>>16&65535)+1};g.dI=function(a){void 0===a&&(a=0);return 0<a&&0===(a&a-1)};g.GD=new l(0,0);g.FD=m.Lg(new l(1,0),new l(0,1));g.NI=new n(g.GD,g.FD);W=function(){this.position=l.C(0,0);this.Ku=l.C(0,0);this.Eg=null;this.L=0;this.Ku.Set(0,0);this.Wj=this.Ck=this.Gx=0;this.Jx=this.Fx=!0;this.$j=this.Ot=!1;this.type=f.ef;this.yc=!0;this.Gy=1};zc=h;h.prototype.hb=function(){return this.io};h.prototype.Vc=function(){console.log("fixture.GetShape not yet supported in CocoonJS Box2D binding");
return null};h.prototype.Pj=function(){return this.hr};Ac=f;f.prototype.el=function(a){var b=a.Eg;a.Eg=null;var c=window.ext.IDTK_SRV_BOX2D.makeCall("createFixture",this.Ra.hc,this.Cc,a);a.Eg=b;a=new h(this,0,c,a);this.Ra.Jk[c]=a;this.ko.push(a);return a};f.prototype.Gs=function(){return 0===this.ko.length?null:this.ko[0]};f.prototype.Hw=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteFixture",this.Ra.hc,a.Zu);delete this.Ra.Jk[a.Zu]};f.prototype.Xm=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("setBodyTransform",
this.Ra.hc,this.Cc,a.x,a.y,b);this.G.A.Set(b);this.G.position.J(a)};f.prototype.Xs=function(a){this.Xm(a,this.Yd())};f.prototype.Mj=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLinearVelocity",this.Ra.hc,this.Cc);return l.C(a[0],a[1])};f.prototype.il=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getWorldCenter",this.Ra.hc,this.Cc);return l.C(a[0],a[1])};f.prototype.Nj=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLocalCenter",this.Ra.hc,this.Cc);return l.C(a[0],a[1])};
f.prototype.Hd=function(a){return g.Ns(this.G,a)};f.prototype.$o=function(a,b,c){window.ext.IDTK_SRV_BOX2D.makeCall("applyImpulse",this.Ra.hc,this.Cc,a.x,a.y,b.x,b.y,c)};f.prototype.hl=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getMass",this.Ra.hc,this.Cc)};f.prototype.Id=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("isAwake",this.Ra.hc,this.Cc)};f.prototype.kp=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getAngularVelocity",this.Ra.hc,this.Cc)};f.prototype.jd=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAwake",
this.Ra.hc,this.Cc,a)};f.prototype.Sj=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setLinearVelocity",this.Ra.hc,this.Cc,a.x,a.y)};f.prototype.Ig=function(a,b,c){window.ext.IDTK_SRV_BOX2D.makeCall("applyForce",this.Ra.hc,this.Cc,a.x,a.y,b.x,b.y,c)};f.prototype.bp=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("applyTorque",this.Ra.hc,this.Cc,a,b)};f.prototype.Vm=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAngularVelocity",this.Ra.hc,this.Cc,a)};f.prototype.Ri=function(){return this.fo};
f.prototype.Yd=function(){return this.G.A.Yd()};f.prototype.sp=function(a){void 0===a&&(a=0);this.Xm(this.G.position,a)};f.prototype.Oi=function(){for(var a=window.ext.IDTK_SRV_BOX2D.makeCall("getObjectContacts",this.Ra.hc,this.Cc),b=[],c=0;c<a.length;c++)b.push(this.Ra.dr[a[c]]);return b};Ac.ef=0;Ac.Lx=1;Ac.Ic=2;e.prototype.Ls=function(){return this.uG};Bc=d;d.prototype.cp=function(){};Bc.Kx=new d;Cc=function(){};Dc=b;b.prototype.nx=function(a){this.ji=a};b.prototype.mx=function(a){var b=this;window.ext.IDTK_SRV_BOX2D.makeCall("setContactFilter",
this.hc,function(c,d){return a.Tj(b.Jk[c],b.Jk[d])})};b.prototype.Cs=function(a){a=new f(a,this);return this.dr[a.Cc]=a};b.prototype.hp=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteBody",this.hc,a.Cc);delete this.dr[a.Cc];for(var b=0;b<a.ko.length;++b)delete this.Jk[a.ko[b].Zu]};b.prototype.gp=function(a){if(a.P.Cc!==a.R.Cc){var b=a.P,d=a.R;a.P=b.Cc;a.R=d.Cc;var e="createDistanceJoint";a.type===c.ul&&(e="createRevoluteJoint");var f=new c(a);f.mG=window.ext.IDTK_SRV_BOX2D.makeCall(e,this.hc,
a);a.P=b;a.R=d;this.nG.push(f);return f}};b.prototype.ip=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("destroyJoint",this.hc,a.mG)};b.prototype.Kh=function(a,b,c){c=window.ext.IDTK_SRV_BOX2D.makeCall("step",this.hc,a,b,c);b=c[0];for(a=1;a<=4*b;a+=4){var d=this.dr[c[a+0]];if(null===d)break;d.G.position.Set(c[a+1],c[a+2]);d.G.A.Set(c[a+3])}if(null!==this.ji)for(c=window.ext.IDTK_SRV_BOX2D.makeCall("getLastContacts",this.hc),b=c[0],a=1;a<=3*b;a+=3){var d=c[a+2],f=this.Jk[c[a+0]],h=this.Jk[c[a+1]];
"undefined"===typeof f||"undefined"===typeof h?console.log("One of the fixtures in a contact DOESN'T EXIST!!"):this.ji.cp(new e(f,h,d))}};b.prototype.Gw=function(){window.ext.IDTK_SRV_BOX2D.makeCall("clearForces",this.hc)};Ec=function(a){this.Mr=a;this.type="circle"};Y=function(){};Y.prototype.tp=function(a,b){this.type="box";this.width=a;this.height=b};Y.prototype.kx=function(){this.type="edge"};Y.prototype.Wm=function(a,b){this.type="polygon";this.aB=[];for(var c=0;c<b;c++)this.aB.push(a[c].x),
this.aB.push(a[c].y)};Fc=function(){this.Eg=this.shape=null;this.Wg=.2;this.lg=this.xh=0;this.uu=!1;this.filter={rl:1,fm:65535,gj:0}};Z=c;c.prototype.Lm=function(){return this.P};c.prototype.Fs=function(){return this.R};c.prototype.gd=function(){return this.type};c.It=0;c.ul=1;Gc=function(a,b,d,e){this.type=c.It;this.Lb=l.C(0,0);this.Mb=l.C(0,0);this.Eg=null;void 0!==a&&(this.P=a);void 0!==b&&(this.R=b);void 0!==d&&this.Lb.J(d);void 0!==e&&this.Mb.J(e);void 0!==d&&void 0!==e&&(a=e.x-d.x,d=e.y-d.y,
this.length=Math.sqrt(a*a+d*d));this.Yp=this.rq=0};a.prototype.xc=function(a,b,c){this.P=a;this.R=b;this.Lb=this.P.Hd(c);this.Mb=this.R.Hd(c);this.vh=this.R.Yd()-this.P.Yd()};Hc=a}():console.log("The CocoonJS binding for Box2D has been ignored because ext.IDTK_SRV_BOX2D is not available");else{var V={},Ic=2/180*Math.PI,Jc=8/180*Math.PI,Kc=.5*Math.PI,Lc=Kc*Kc,Mc=2/180*Math.PI,Nc=Number.MIN_VALUE*Number.MIN_VALUE;V.Wb=function(a,c){return a.x*c.x+a.y*c.y};V.Lj=function(a,c){return a.x*c.y-a.y*c.x};
V.Hh=function(a,c){return O.C(c*a.y,-c*a.x)};V.Ds=function(a,c){return O.C(-a*c.y,a*c.x)};V.ic=function(a,c){return O.C(a.k.x*c.x+a.n.x*c.y,a.k.y*c.x+a.n.y*c.y)};V.Jh=function(a,c){return O.C(V.Wb(c,a.k),V.Wb(c,a.n))};V.Wc=function(a,c){var b=V.ic(a.A,c);b.x+=a.position.x;b.y+=a.position.y;return b};V.Ns=function(a,c){var b=V.Kb(c,a.position),d=b.x*a.A.k.x+b.y*a.A.k.y;b.y=b.x*a.A.n.x+b.y*a.A.n.y;b.x=d;return b};V.Hm=function(a,c){return O.C(a.x+c.x,a.y+c.y)};V.Kb=function(a,c){return O.C(a.x-c.x,
a.y-c.y)};V.wB=function(a,c){return Math.sqrt(V.Iw(a,c))};V.Iw=function(a,c){var b=a.x-c.x,d=a.y-c.y;return b*b+d*d};V.ZB=function(a,c){return O.C(a*c.x,a*c.y)};V.fB=function(a,c){return P.Lg(V.Hm(a.k,c.k),V.Hm(a.n,c.n))};V.$B=function(a,c){return P.Lg(V.ic(a,c.k),V.ic(a,c.n))};V.aC=function(a,c){var b=O.C(V.Wb(a.k,c.k),V.Wb(a.n,c.k)),d=O.C(V.Wb(a.k,c.n),V.Wb(a.n,c.n));return P.Lg(b,d)};V.Em=function(a){return O.C(Math.abs(a.x),Math.abs(a.y))};V.dB=function(a){return P.Lg(V.Em(a.k),V.Em(a.n))};V.Ob=
function(a,c,b){return a<c?c:a>b?b:a};V.jB=function(a,c,b){return O.C(V.Ob(a.x,c.x,b.x),V.Ob(a.y,c.y,b.y))};var P=function(){this.k=O.C(0,0);this.n=O.C(0,0);this.Si()};P.gl=function(a){var c=new P;c.Set(a);return c};P.Lg=function(a,c){var b=new P;b.Ys(a,c);return b};s=P.prototype;s.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.k.Set(c,a);this.n.Set(-a,c)};s.Ys=function(a,c){this.k.J(a);this.n.J(c)};s.Hc=function(){var a=new P;a.dg(this);return a};s.dg=function(a){this.k.J(a.k);this.n.J(a.n)};
s.Zo=function(a){this.k.Gh(a.k);this.n.Gh(a.n)};s.Si=function(){this.k.Set(1,0);this.n.Set(0,1)};s.qa=function(){this.k.Set(0,0);this.n.Set(0,0)};s.Yd=function(){return Math.atan2(this.k.y,this.k.x)};s.Hs=function(a){var c=this.k.x*this.n.y-this.n.x*this.k.y;0!==c&&(c=1/c);a.k.x=c*this.n.y;a.n.x=-c*this.n.x;a.k.y=-c*this.k.y;a.n.y=c*this.k.x;return a};s.Ti=function(a,c,b){var d=this.k.x*this.n.y-this.n.x*this.k.y;0!==d&&(d=1/d);a.x=d*(this.n.y*c-this.n.x*b);a.y=d*(this.k.x*b-this.k.y*c);return a};
s.Fh=function(){this.k.Fh();this.n.Fh()};var Pc=function(a,c,b){this.k=new Oc(0,0,0);this.n=new Oc(0,0,0);this.Ba=new Oc(0,0,0);a&&this.k.J(a);c&&this.n.J(c);b&&this.Ba.J(b)};s=Pc.prototype;s.Hc=function(){return new Pc(this.k,this.n,this.Ba)};s.dg=function(a){this.k.J(a.k);this.n.J(a.n);this.Ba.J(a.Ba)};s.Zo=function(a){this.k.x+=a.k.x;this.k.y+=a.k.y;this.k.z+=a.k.z;this.n.x+=a.n.x;this.n.y+=a.n.y;this.n.z+=a.n.z;this.Ba.x+=a.Ba.x;this.Ba.y+=a.Ba.y;this.Ba.z+=a.Ba.z};s.Si=function(){this.k.Set(1,
0,0);this.n.Set(0,1,0);this.Ba.Set(0,0,1)};s.qa=function(){this.k.Set(0,0,0);this.n.Set(0,0,0);this.Ba.Set(0,0,0)};s.ml=function(a,c,b){var d=this.k.x,e=this.n.x,f=this.k.y,h=this.n.y,g=d*h-e*f;0!=g&&(g=1/g);a.x=g*(h*c-e*b);a.y=g*(d*b-f*c);return a};s.Ym=function(a,c,b,d){var e=this.k.x,f=this.k.y,h=this.k.z,g=this.n.x,n=this.n.y,m=this.n.z,l=this.Ba.x,k=this.Ba.y,p=this.Ba.z,r=e*(n*p-m*k)+f*(m*l-g*p)+h*(g*k-n*l);0!=r&&(r=1/r);a.x=r*(c*(n*p-m*k)+b*(m*l-g*p)+d*(g*k-n*l));a.y=r*(e*(b*p-d*k)+f*(d*l-
c*p)+h*(c*k-b*l));a.z=r*(e*(n*d-m*b)+f*(m*c-g*d)+h*(g*b-n*c));return a};var Qc=function(){this.T=O.C(0,0);this.md=O.C(0,0);this.D=O.C(0,0)};Qc.prototype.Set=function(a){this.T.J(a.T);this.md.J(a.md);this.D.J(a.D);this.zf=a.zf;this.N=a.N;this.Ud=a.Ud};Qc.prototype.Hc=function(){var a=new Qc;a.T.J(this.T);a.md.J(this.md);a.D.J(this.D);a.zf=this.zf;a.N=this.N;a.Ud=this.Ud;return a};Qc.prototype.Ee=function(a,c){void 0===c&&(c=0);a.position.x=(1-c)*this.md.x+c*this.D.x;a.position.y=(1-c)*this.md.y+c*
this.D.y;a.A.Set((1-c)*this.zf+c*this.N);var b=a.A;a.position.x-=b.k.x*this.T.x+b.n.x*this.T.y;a.position.y-=b.k.y*this.T.x+b.n.y*this.T.y};Qc.prototype.Ni=function(a){void 0===a&&(a=0);if(this.Ud<a&&1-this.Ud>Number.MIN_VALUE){var c=(a-this.Ud)/(1-this.Ud);this.md.x=(1-c)*this.md.x+c*this.D.x;this.md.y=(1-c)*this.md.y+c*this.D.y;this.zf=(1-c)*this.zf+c*this.N;this.Ud=a}};var yc=function(a,c){this.position=O.C(0,0);this.A=new P;a&&this.position.J(a);c&&this.A.dg(c)};yc.prototype.xc=function(a,c){this.position.J(a);
this.A.dg(c)};yc.prototype.Si=function(){this.position.qa();this.A.Si()};yc.prototype.Set=function(a){this.position.J(a.position);this.A.dg(a.A)};yc.prototype.Yd=function(){return Math.atan2(this.A.k.y,this.A.k.x)};var O=function(a,c){this.x=a;this.y=c};O.Lh=[];O.C=function(a,c){if(0<O.Lh.length){var b=O.Lh.pop();b.Set(a,c);return b}return new O(a,c)};O.wc=function(a){O.Lh.push(a)};s=O.prototype;s.qa=function(){this.y=this.x=0};s.Set=function(a,c){this.x=a;this.y=c};s.J=function(a){this.x=a.x;this.y=
a.y};s.Pi=function(){return O.C(-this.x,-this.y)};s.Ps=function(){this.x=-this.x;this.y=-this.y};s.Hc=function(){return O.C(this.x,this.y)};s.Gh=function(a){this.x+=a.x;this.y+=a.y};s.$s=function(a){this.x-=a.x;this.y-=a.y};s.$d=function(a){this.x*=a;this.y*=a};s.Hh=function(a){var c=this.x;this.x=a*this.y;this.y=-a*c};s.Ds=function(a){var c=this.x;this.x=-a*this.y;this.y=a*c};s.Uw=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y)};s.Sw=function(a){this.x=Math.max(this.x,a.x);this.y=
Math.max(this.y,a.y)};s.Fh=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};s.Mg=function(){return Math.sqrt(this.qp())};s.qp=function(){return this.x*this.x+this.y*this.y};s.ae=function(){var a=this.Mg();if(a<Number.MIN_VALUE)return 0;var c=1/a;this.x*=c;this.y*=c;return a};s.pp=function(){return isFinite(this.x)&&isFinite(this.y)};var Oc=function(a,c,b){this.x=a;this.y=c;this.z=b};s=Oc.prototype;s.qa=function(){this.z=this.y=this.x=0};s.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};
s.J=function(a){this.x=a.x;this.y=a.y;this.z=a.z};s.Pi=function(){return new Oc(-this.x,-this.y,-this.z)};s.Ps=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};s.Hc=function(){return new Oc(this.x,this.y,this.z)};s.Gh=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};s.$s=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};s.$d=function(a){this.x*=a;this.y*=a;this.z*=a};var Rc=function(){this.lb=.005};s=Rc.prototype;s.Oj=function(){};s.Hc=function(){};s.Set=function(a){this.lb=a.lb};s.dl=function(){};
s.Im=function(){};s.fp=function(){};s.Ws=function(){};var Ec=function(a){this.lb=.005;this.lb=a;this.cm=a*a;this.yb=O.C(0,0)};N(Ec,Rc);s=Ec.prototype;s.Oj=function(){return Ec.cg};s.Hc=function(){var a=new Ec(this.lb);a.Set(this);return a};s.Set=function(a){Rc.prototype.Set.call(this,a);a instanceof Ec&&this.yb.J(a.yb)};s.dl=function(a,c){var b=c.A,d=c.position.x+(b.k.x*this.yb.x+b.n.x*this.yb.y),b=c.position.y+(b.k.y*this.yb.x+b.n.y*this.yb.y);a.Oa.Set(d-this.lb,b-this.lb);a.Pa.Set(d+this.lb,b+this.lb)};
s.Im=function(a,c){a.mh=c*Math.PI*this.cm;a.Oh.J(this.yb);a.jl=a.mh*(.5*this.cm+(this.yb.x*this.yb.x+this.yb.y*this.yb.y))};s.fp=function(a,c,b,d){b=V.Wc(b,this.yb);var e=-(V.Wb(a,b)-c);if(e<-this.lb+Number.MIN_VALUE)return 0;if(e>this.lb)return d.J(b),Math.PI*this.cm;c=e*e;e=this.cm*(Math.asin(e/this.lb)+Math.PI/2)+e*Math.sqrt(this.cm-c);c=-2/3*Math.pow(this.cm-c,1.5)/e;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return e};s.Ws=function(a){a.O=[this.yb];a.xa=1;a.lb=this.lb};Ec.cg="b2CircleShape";var Sc=function(a,
c){this.lb=.005;this.ya=a;this.Va=c;this.Ik=O.C(this.Va.x-this.ya.x,this.Va.y-this.ya.y);this.bv=this.Ik.ae();this.Ea=O.C(this.Ik.y,-this.Ik.x);O.C(-.04*(this.Ea.x-this.Ik.x)+this.ya.x,-.04*(this.Ea.y-this.Ik.y)+this.ya.y);O.C(-.04*(this.Ea.x+this.Ik.x)+this.Va.x,-.04*(this.Ea.y+this.Ik.y)+this.Va.y);O.C(-this.Ea.x,-this.Ea.y)};N(Sc,Rc);Sc.prototype.Oj=function(){return"b2EdgeShape"};Sc.prototype.dl=function(a,c){var b=c.A,d=c.position.x+(b.k.x*this.ya.x+b.n.x*this.ya.y),e=c.position.y+(b.k.y*this.ya.x+
b.n.y*this.ya.y),f=c.position.x+(b.k.x*this.Va.x+b.n.x*this.Va.y),b=c.position.y+(b.k.y*this.Va.x+b.n.y*this.Va.y);d<f?(a.Oa.x=d,a.Pa.x=f):(a.Oa.x=f,a.Pa.x=d);e<b?(a.Oa.y=e,a.Pa.y=b):(a.Oa.y=b,a.Pa.y=e)};Sc.prototype.Im=function(a){a.mh=0;a.Oh.J(this.ya);a.jl=0};Sc.prototype.fp=function(a,c,b,d){void 0===c&&(c=0);var e=O.C(a.x*c,a.y*c),f=V.Wc(b,this.ya);b=V.Wc(b,this.Va);var h=V.Wb(a,f)-c;a=V.Wb(a,b)-c;if(0<h){if(0<a)return 0;f.x=-a/(h-a)*f.x+h/(h-a)*b.x;f.y=-a/(h-a)*f.y+h/(h-a)*b.y}else 0<a&&(b.x=
-a/(h-a)*f.x+h/(h-a)*b.x,b.y=-a/(h-a)*f.y+h/(h-a)*b.y);d.x=(e.x+f.x+b.x)/3;d.y=(e.y+f.y+b.y)/3;return.5*((f.x-e.x)*(b.y-e.y)-(f.y-e.y)*(b.x-e.x))};var Tc=function(){this.mh=0;this.Oh=O.C(0,0);this.jl=0},Y=function(){this.lb=.005;this.ie=O.C(0,0);this.O=[];this.Fa=[]};N(Y,Rc);Y.prototype.Oj=function(){return Y.cg};Y.prototype.Hc=function(){var a=new Y;a.Set(this);return a};Y.prototype.Set=function(a){Rc.prototype.Set.call(this,a);if(a instanceof Y){this.ie.J(a.ie);this.$a=a.$a;this.Um(this.$a);for(var c=
0;c<this.$a;c++)this.O[c].J(a.O[c]),this.Fa[c].J(a.Fa[c])}};Y.prototype.Wm=function(a){this.lx(a)};Y.NH=function(a){var c=new Y;c.Wm(a);return c};Y.prototype.lx=function(a){var c=a.length;this.$a=c;this.Um(c);for(c=c=0;c<this.$a;c++)this.O[c].J(a[c]);for(c=0;c<this.$a;++c)a=V.Kb(this.O[c+1<this.$a?c+1:0],this.O[c]),this.Fa[c].J(V.Hh(a,1)),this.Fa[c].ae();this.ie=Y.uB(this.O,this.$a)};Y.RH=function(a){var c=new Y;c.lx(a);return c};Y.prototype.tp=function(a,c){this.$a=4;this.Um(4);this.O[0].Set(-a,
-c);this.O[1].Set(a,-c);this.O[2].Set(a,c);this.O[3].Set(-a,c);this.Fa[0].Set(0,-1);this.Fa[1].Set(1,0);this.Fa[2].Set(0,1);this.Fa[3].Set(-1,0);this.ie.qa()};Y.OH=function(a,c){var b=new Y;b.tp(a,c);return b};Y.prototype.KC=function(a,c,b,d){this.$a=4;this.Um(4);this.O[0].Set(-a,-c);this.O[1].Set(a,-c);this.O[2].Set(a,c);this.O[3].Set(-a,c);this.Fa[0].Set(0,-1);this.Fa[1].Set(1,0);this.Fa[2].Set(0,1);this.Fa[3].Set(-1,0);this.ie=b;a=new P;a.Set(d);b=new yc(b,a);for(d=0;d<this.$a;++d)this.O[d]=V.Wc(b,
this.O[d]),this.Fa[d]=V.ic(b.A,this.Fa[d])};Y.QH=function(a,c,b,d){var e=new Y;e.KC(a,c,b,d);return e};Y.prototype.kx=function(a,c){this.$a=2;this.Um(2);this.O[0].J(a);this.O[1].J(c);this.ie.x=.5*(a.x+c.x);this.ie.y=.5*(a.y+c.y);this.Fa[0]=V.Hh(V.Kb(c,a),1);this.Fa[0].ae();this.Fa[1].x=-this.Fa[0].x;this.Fa[1].y=-this.Fa[0].y};Y.PH=function(a,c){var b=new Y;b.kx(a,c);return b};s=Y.prototype;s.dl=function(a,c){for(var b=c.A,d=this.O[0],e=c.position.x+(b.k.x*d.x+b.n.x*d.y),f=c.position.y+(b.k.y*d.x+
b.n.y*d.y),h=e,g=f,n=1;n<this.$a;++n)var d=this.O[n],m=c.position.x+(b.k.x*d.x+b.n.x*d.y),d=c.position.y+(b.k.y*d.x+b.n.y*d.y),e=e<m?e:m,f=f<d?f:d,h=h>m?h:m,g=g>d?g:d;a.Oa.x=e-this.lb;a.Oa.y=f-this.lb;a.Pa.x=h+this.lb;a.Pa.y=g+this.lb};s.Im=function(a,c){if(2==this.$a)a.Oh.x=.5*(this.O[0].x+this.O[1].x),a.Oh.y=.5*(this.O[0].y+this.O[1].y),a.mh=0,a.jl=0;else{for(var b=0,d=0,e=0,f=0,h=1/3,g=0;g<this.$a;++g)var n=this.O[g],m=g+1<this.$a?this.O[g+1]:this.O[0],l=n.x-0,k=n.y-0,p=m.x-0,r=m.y-0,t=l*r-k*p,
u=.5*t,e=e+u,b=b+u*h*(0+n.x+m.x),d=d+u*h*(0+n.y+m.y),n=l,f=f+t*(h*(.25*(n*n+p*n+p*p)+(0*n+0*p))+0+(h*(.25*(k*k+r*k+r*r)+(0*k+0*r))+0));a.mh=c*e;a.Oh.Set(1/e*b,1/e*d);a.jl=c*f}};s.fp=function(a,c,b,d){var e=V.Jh(b.A,a),f=c-V.Wb(a,b.position),h=[],g=0,n=-1;c=-1;var m=!1;for(a=a=0;a<this.$a;++a){h[a]=V.Wb(e,this.O[a])-f;var l=h[a]<-Number.MIN_VALUE;0<a&&(l?m||(n=a-1,g++):m&&(c=a-1,g++));m=l}switch(g){case 0:return m?(a=new Tc,this.Im(a,1),d.J(V.Wc(b,a.Oh)),a.mh):0;case 1:-1==n?n=this.$a-1:c=this.$a-
1}a=(n+1)%this.$a;e=(c+1)%this.$a;f=(0-h[n])/(h[a]-h[n]);h=(0-h[c])/(h[e]-h[c]);n=O.C(this.O[n].x*(1-f)+this.O[a].x*f,this.O[n].y*(1-f)+this.O[a].y*f);c=O.C(this.O[c].x*(1-h)+this.O[e].x*h,this.O[c].y*(1-h)+this.O[e].y*h);h=0;f=O.C(0,0);for(g=this.O[a];a!=e;)a=(a+1)%this.$a,m=a==e?c:this.O[a],l=.5*((g.x-n.x)*(m.y-n.y)-(g.y-n.y)*(m.x-n.x)),h+=l,f.x+=l*(n.x+g.x+m.x)/3,f.y+=l*(n.y+g.y+m.y)/3,g=m;f.$d(1/h);d.J(V.Wc(b,f));return h};s.Ws=function(a){a.O=this.O;a.xa=this.$a;a.lb=this.lb};s.np=function(a){for(var c=
0,b=this.O[0].x*a.x+this.O[0].y*a.y,d=1;d<this.$a;++d){var e=this.O[d].x*a.x+this.O[d].y*a.y;e>b&&(c=d,b=e)}return c};s.Om=function(a){for(var c=0,b=this.O[0].x*a.x+this.O[0].y*a.y,d=1;d<this.$a;++d){var e=this.O[d].x*a.x+this.O[d].y*a.y;e>b&&(c=d,b=e)}return this.O[c]};s.Um=function(a){this.O=[];this.Fa=[];for(var c=this.O.length;c<a;c++)this.O[c]=O.C(0,0),this.Fa[c]=O.C(0,0)};Y.uB=function(a,c){for(var b=O.C(0,0),d=0,e=1/3,f=0;f<c;++f){var h=a[f],g=f+1<c?a[f+1]:a[0],n=.5*((h.x-0)*(g.y-0)-(h.y-0)*
(g.x-0)),d=d+n;b.x+=n*e*(0+h.x+g.x);b.y+=n*e*(0+h.y+g.y)}b.x*=1/d;b.y*=1/d;return b};Y.ZI=new P;Y.cg="b2PolygonShape";var Vc=function(){this.et=this.dt=this.gt=this.be=0};s=Vc.prototype;s.Rj=function(a){this.be=a;this.gt=this.be&255;this.dt=(this.be&65280)>>8&255;this.et=(this.be&16711680)>>16&255;this.Ax=(this.be&4278190080)>>24&255};s.Set=function(a){this.Rj(a.be)};s.rx=function(a){this.gt=a;this.be=this.be&4294967040|this.gt&255};s.ox=function(a){this.dt=a;this.be=this.be&4294902015|this.dt<<8&
65280};s.qx=function(a){this.et=a;this.be=this.be&4278255615|this.et<<16&16711680};s.MC=function(a){this.Ax=a;this.be=this.be&16777215|this.Ax<<24&4278190080};s.Hc=function(){var a=new Vc;a.Set(this);return a};var Wc=function(){this.wf=O.C(0,0);this.id=new Vc};Wc.prototype.Set=function(a){this.wf.J(a.wf);this.id.Set(a.id)};var Xc=function(){this.Oa=O.C(0,0);this.Pa=O.C(0,0)},Yc=[],Zc=function(){if(0<Yc.length){var a=Yc.pop();a.qa();return a}return new Xc};s=Xc.prototype;s.qa=function(){this.Oa.Set(0,
0);this.Pa.Set(0,0)};s.pp=function(){return 0>this.Pa.x-this.Oa.x||0>this.Pa.y-this.Oa.y?!1:this.Oa.pp()&&this.Pa.pp()};s.CB=function(){return O.C((this.Oa.x+this.Pa.x)/2,(this.Oa.y+this.Pa.y)/2)};s.Bs=function(a){var c;return c=(c=(c=(c=this.Oa.x<=a.Oa.x)&&this.Oa.y<=a.Oa.y)&&a.Pa.x<=this.Pa.x)&&a.Pa.y<=this.Pa.y};s.Zm=function(a){return 0<a.Oa.x-this.Pa.x||0<a.Oa.y-this.Pa.y||0<this.Oa.x-a.Pa.x||0<this.Oa.y-a.Pa.y?!1:!0};s.ep=function(a,c){this.Oa.x=Math.min(a.Oa.x,c.Oa.x);this.Oa.y=Math.min(a.Oa.y,
c.Oa.y);this.Pa.x=Math.max(a.Pa.x,c.Pa.x);this.Pa.y=Math.max(a.Pa.y,c.Pa.y)};var $c=function(a,c,b,d){var e=0,f=c[0].wf,h=c[1].wf,g=b.x*f.x+b.y*f.y-d;b=b.x*h.x+b.y*h.y-d;0>=g&&a[e++].Set(c[0]);0>=b&&a[e++].Set(c[1]);0>g*b&&(b=g/(g-b),d=a[e].wf,d.x=f.x+b*(h.x-f.x),d.y=f.y+b*(h.y-f.y),a[e].id=0<g?c[0].id:c[1].id,e++);return e},ad=function(a,c,b,d,e){for(var f=c.A.k.x*a.Fa[b].x+c.A.n.x*a.Fa[b].y,h=c.A.k.y*a.Fa[b].x+c.A.n.y*a.Fa[b].y,g=e.A.k.x*f+e.A.k.y*h,n=e.A.n.x*f+e.A.n.y*h,m=0,l=Number.MAX_VALUE,
k=0;k<d.$a;k++){var p=d.O[k].x*g+d.O[k].y*n;p<l&&(l=p,m=k)}return(e.position.x+(e.A.k.x*d.O[m].x+e.A.n.x*d.O[m].y)-(c.position.x+(c.A.k.x*a.O[b].x+c.A.n.x*a.O[b].y)))*f+(e.position.y+(e.A.k.y*d.O[m].x+e.A.n.y*d.O[m].y)-(c.position.y+(c.A.k.y*a.O[b].x+c.A.n.y*a.O[b].y)))*h},bd=function(a,c,b,d){for(var e=d.position.x+(d.A.k.x*b.ie.x+d.A.n.x*b.ie.y),f=d.position.y+(d.A.k.y*b.ie.x+d.A.n.y*b.ie.y),e=e-(c.position.x+(c.A.k.x*a.ie.x+c.A.n.x*a.ie.y)),f=f-(c.position.y+(c.A.k.y*a.ie.x+c.A.n.y*a.ie.y)),h=
e*c.A.k.x+f*c.A.k.y,f=e*c.A.n.x+f*c.A.n.y,e=0,g=-Number.MAX_VALUE,n=0;n<a.$a;++n){var m=a.Fa[n].x*h+a.Fa[n].y*f;m>g&&(g=m,e=n)}h=ad(a,c,e,b,d);f=e-1;0>f&&(f=a.$a-1);g=ad(a,c,f,b,d);n=e+1;n>=a.$a&&(n=0);var m=ad(a,c,n,b,d),l=0,k=0;if(g>h&&g>m)for(l=f,k=g;;)if(e=l-1,0>e&&(e=a.$a-1),h=ad(a,c,e,b,d),h>k)l=e,k=h;else break;else if(m>h)for(l=n,k=m;;)if(e=l+1,e>=a.$a&&(e=0),h=ad(a,c,e,b,d),h>k)l=e,k=h;else break;else l=e,k=h;return{Mx:l,Vr:k}},dd=function(a,c,b){var d=new cd;d.DC(c,b.Ai,b.rs,b.Bi,b.ts);
for(var e=0;20>e;){for(var f=[],h=0;h<d.xa;h++)f[h]={},f[h].zc=d.O[h].zc,f[h].Ac=d.O[h].Ac;2==d.xa?d.ZC():3==d.xa&&d.$C();if(3==d.xa)break;h=d.EB();if(h.qp()<Nc)break;var g=h.Pi();d.O[d.xa].zc=b.Ai.np(V.Jh(b.rs.A,g));d.O[d.xa].Fd=V.Wc(b.rs,b.Ai.Ad(d.O[d.xa].zc));d.O[d.xa].Ac=b.Bi.np(V.Jh(b.ts.A,h));d.O[d.xa].bg=V.Wc(b.ts,b.Bi.Ad(d.O[d.xa].Ac));d.O[d.xa].zd=V.Kb(d.O[d.xa].bg,d.O[d.xa].Fd);O.wc(h);O.wc(g);e++;g=!1;for(h=0;h<f.length;h++)if(d.O[d.xa].zc==f[h].zc&&d.O[d.xa].Ac==f[h].Ac){g=!0;break}if(g)break;
d.xa++}d.GB(a.wg,a.xg);a.Uh=V.Kb(a.wg,a.xg).Mg();d.oD(c);b.XA&&(c=b.Ai.lb,b=b.Bi.lb,a.Uh>c+b&&a.Uh>Number.MIN_VALUE?(a.Uh-=c+b,d=V.Kb(a.xg,a.wg),d.ae(),a.wg.x+=c*d.x,a.wg.y+=c*d.y,a.xg.x-=b*d.x,a.xg.y-=b*d.y,O.wc(d)):(b=O.C(0,0),b.x=.5*(a.wg.x+a.xg.x),b.y=.5*(a.wg.y+a.xg.y),a.wg.x=a.xg.x=b.x,a.wg.y=a.xg.y=b.y,a.Uh=0,O.wc(b)))},ed=function(){},fd=function(){this.wg=O.C(0,0);this.xg=O.C(0,0);this.Uh=0},gd=function(){};gd.prototype.Set=function(a){a.Ws(this)};gd.prototype.np=function(a){for(var c=0,
b=this.O[0].x*a.x+this.O[0].y*a.y,d=1;d<this.xa;d++){var e=this.O[d].x*a.x+this.O[d].y*a.y;e>b&&(c=d,b=e)}return c};gd.prototype.Om=function(a){return this.O[this.np(a)]};gd.prototype.Ad=function(a){void 0===a&&(a=0);return this.O[a]};var hd=function(){this.lh=null};s=hd.prototype;s.Jm=function(a,c){var b=id(c);b.ib.Oa.x=a.Oa.x-.1;b.ib.Oa.y=a.Oa.y-.1;b.ib.Pa.x=a.Pa.x+.1;b.ib.Pa.y=a.Pa.y+.1;this.Pw(b);return b};s.Km=function(a){this.hx(a);a.Xd()};s.Ms=function(a,c,b){if(a.ib.Bs(c))return!1;this.hx(a);
var d=.1+2*Math.abs(b.x);b=.1+2*Math.abs(b.y);a.ib.Oa.x=c.Oa.x-d;a.ib.Oa.y=c.Oa.y-b;a.ib.Pa.x=c.Pa.x+d;a.ib.Pa.y=c.Pa.y+b;this.Pw(a);return!0};s.Mm=function(a){return a.ib};s.Us=function(a,c){if(null!==this.lh){var b=[];for(b.push(this.lh);0<b.length;){var d=b.pop();if(d.ib.Zm(c))if(d.Qw()){if(!a(d.If))break}else b.push(d.Je),b.push(d.Qg)}}};s.Pw=function(a){if(null===this.lh)this.lh=a,this.lh.parent=null;else{var c=this.BB(a),b=c.parent,d=id();d.parent=b;d.ib.ep(a.ib,c.ib);if(b)for(c.parent.Je==
c?b.Je=d:b.Qg=d,d.Je=c,d.Qg=a,c.parent=d,a.parent=d;b&&!b.ib.Bs(d.ib);)b.ib.ep(b.Je.ib,b.Qg.ib),d=b,b=b.parent;else d.Je=c,d.Qg=a,c.parent=d,this.lh=a.parent=d}};s.BB=function(a){a=a.ib.CB();for(var c=this.lh;!c.Qw();)var b=c.Je,c=c.Qg,d=Math.abs((b.ib.Oa.x+b.ib.Pa.x)/2-a.x)+Math.abs((b.ib.Oa.y+b.ib.Pa.y)/2-a.y),e=Math.abs((c.ib.Oa.x+c.ib.Pa.x)/2-a.x)+Math.abs((c.ib.Oa.y+c.ib.Pa.y)/2-a.y),c=d<e?b:c;O.wc(a);return c};s.hx=function(a){if(a==this.lh)this.lh=null;else{var c=a.parent,b=c.parent;a=c.Je==
a?c.Qg:c.Je;if(b)for(b.Je==c?b.Je=a:b.Qg=a,a.parent=b;b;){a=b.ib;b.ib.ep(b.Je.ib,b.Qg.ib);if(a.Bs(b.ib))break;b=b.parent}else this.lh=a,a.parent=null;c.Xd()}};var jd=function(){this.ri=new hd;this.lr=[]};s=jd.prototype;s.Jm=function(a,c){var b=this.ri.Jm(a,c);this.Fw(b);return b};s.Km=function(a){this.iD(a);this.ri.Km(a)};s.Ms=function(a,c,b){this.ri.Ms(a,c,b)&&this.Fw(a)};s.Zm=function(a,c){return this.ri.Mm(a).Zm(this.ri.Mm(c))};s.Mm=function(a){return this.ri.Mm(a)};s.kD=function(a){for(var c=
[];0<this.lr.length;){var b=this.lr.pop();this.ri.Us(function(a){a!=b.If&&c.push(new kd(b.If,a));return!0},this.ri.Mm(b))}for(var d=0;d<c.length;){var e=c[d];a(e.vn,e.wn);for(d++;d<c.length;){var f=c[d];if(!(f.vn==e.vn&&f.wn==e.wn||f.vn==e.wn&&f.wn==e.vn))break;d++}}};s.Us=function(a,c){this.ri.Us(a,c)};s.Fw=function(a){this.lr.push(a)};s.iD=function(a){Ga(this.lr,a)};var ld=function(a){this.ib=Zc();this.If=this.parent=this.Qg=this.Je=null;"undefined"!=typeof a&&(this.If=a)},md=[],id=function(a){if(0<
md.length){var c=md.pop();"undefined"!=typeof a&&(c.If=a);c.ib.qa();return c}return new ld(a)};ld.prototype.Xd=function(){this.If=this.parent=this.Qg=this.Je=null;md.push(this)};ld.prototype.Qw=function(){return null===this.Je};var kd=function(a,c){this.vn=a;this.wn=c},od=function(){this.fb=this.nc=0;this.ua=[];for(var a=0;2>a;a++)this.ua[a]=new nd;this.ud=O.C(0,0);this.Da=O.C(0,0)};od.prototype.hd=function(){for(var a=0;2>a;a++)this.ua[a].hd();this.ud.qa();this.Da.qa();this.nc=this.fb=0};od.prototype.Set=
function(a){this.nc=a.nc;for(var c=0;2>c;c++)this.ua[c].Set(a.ua[c]);this.ud.J(a.ud);this.Da.J(a.Da);this.fb=a.fb};od.prototype.Hc=function(){var a=new od;a.Set(this);return a};var nd=function(){this.Da=O.C(0,0);this.Qf=new Vc;this.hd()};nd.prototype.hd=function(){this.Da.qa();this.Pk=this.Lk=0;this.Qf.Rj(0)};nd.prototype.Set=function(a){this.Da.J(a.Da);this.Lk=a.Lk;this.Pk=a.Pk;this.Qf.Set(a.Qf)};var pd=function(){this.Da=O.C(0,0);this.W=O.C(0,0)};pd.prototype.xc=function(a,c,b,d,e){this.tj=c;this.uj=
d;var f,h,g,n=g=h=0,m=0;d=c=0;var l,k,n=0;1==a.count?(this.fb=qd,f=this.tj.Ad(a.zc[0]),a=this.uj.Ad(a.Ac[0]),k=f,l=b.A,h=b.position.x+(l.k.x*k.x+l.n.x*k.y),g=b.position.y+(l.k.y*k.x+l.n.y*k.y),k=a,l=e.A,n=e.position.x+(l.k.x*k.x+l.n.x*k.y),m=e.position.y+(l.k.y*k.x+l.n.y*k.y),this.W.x=n-h,this.W.y=m-g,this.W.ae()):(a.Ac[0]==a.Ac[1]?(this.fb=rd,c=this.tj.Ad(a.zc[0]),d=this.tj.Ad(a.zc[1]),a=this.uj.Ad(a.Ac[0]),this.Da.x=.5*(c.x+d.x),this.Da.y=.5*(c.y+d.y),this.W=V.Hh(V.Kb(d,c),1),this.W.ae(),k=this.W,
l=b.A,c=l.k.x*k.x+l.n.x*k.y,d=l.k.y*k.x+l.n.y*k.y,k=this.Da,l=b.A,h=b.position.x+(l.k.x*k.x+l.n.x*k.y),g=b.position.y+(l.k.y*k.x+l.n.y*k.y),k=a,l=e.A,n=e.position.x+(l.k.x*k.x+l.n.x*k.y),m=e.position.y+(l.k.y*k.x+l.n.y*k.y),n=(n-h)*c+(m-g)*d):a.zc[0]==a.zc[0]?(this.fb=sd,h=this.uj.Ad(a.Ac[0]),g=this.uj.Ad(a.Ac[1]),f=this.tj.Ad(a.zc[0]),this.Da.x=.5*(h.x+g.x),this.Da.y=.5*(h.y+g.y),this.W=V.Hh(V.Kb(g,h),1),this.W.ae(),k=this.W,l=e.A,c=l.k.x*k.x+l.n.x*k.y,d=l.k.y*k.x+l.n.y*k.y,k=this.Da,l=e.A,n=e.position.x+
(l.k.x*k.x+l.n.x*k.y),m=e.position.y+(l.k.y*k.x+l.n.y*k.y),k=f,l=b.A,h=b.position.x+(l.k.x*k.x+l.n.x*k.y),g=b.position.y+(l.k.y*k.x+l.n.y*k.y),n=(h-n)*c+(g-m)*d):(c=this.tj.Ad(a.zc[0]),d=this.tj.Ad(a.zc[1]),h=this.uj.Ad(a.Ac[0]),g=this.uj.Ad(a.Ac[1]),n=V.ic(b.A,V.Kb(d,c)),m=V.ic(e.A,V.Kb(g,h)),e=n.x*n.x+n.y*n.y,b=m.x*m.x+m.y*m.y,f=V.Kb(m,n),a=n.x*f.x+n.y*f.y,f=m.x*f.x+m.y*f.y,m=n.x*m.x+n.y*m.y,l=e*b-m*m,n=0,0!=l&&(n=V.Ob((m*f-a*b)/l,0,1)),0>(m*n+f)/b&&(n=V.Ob((m-a)/e,0,1)),f=O.C(0,0),f.x=c.x+n*(d.x-
c.x),f.y=c.y+n*(d.y-c.y),a=O.C(0,0),a.x=h.x+n*(g.x-h.x),a.y=h.y+n*(g.y-h.y),0==n||1==n?(this.fb=sd,this.W=V.Hh(V.Kb(g,h),1),this.W.ae(),this.Da=a):(this.fb=rd,this.W=V.Hh(V.Kb(d,c),1),this.Da=f)),0>n&&this.W.Ps())};pd.prototype.Kg=function(a,c){var b,d,e=0;switch(this.fb){case qd:b=V.Jh(a.A,this.W);d=V.Jh(c.A,this.W.Pi());b=this.tj.Om(b);d=this.uj.Om(d);b=V.Wc(a,b);d=V.Wc(c,d);e=(d.x-b.x)*this.W.x+(d.y-b.y)*this.W.y;break;case rd:e=V.ic(a.A,this.W);b=V.Wc(a,this.Da);d=V.Jh(c.A,e.Pi());d=this.uj.Om(d);
d=V.Wc(c,d);e=(d.x-b.x)*e.x+(d.y-b.y)*e.y;break;case sd:e=V.ic(c.A,this.W),d=V.Wc(c,this.Da),b=V.Jh(a.A,e.Pi()),b=this.tj.Om(b),b=V.Wc(a,b),e=(b.x-d.x)*e.x+(b.y-d.y)*e.y}return e};var qd=1,rd=2,sd=4,cd=function(){this.ya=new td;this.Va=new td;this.Re=new td;this.O=[this.ya,this.Va,this.Re]};s=cd.prototype;s.DC=function(a,c,b,d,e){var f,h;this.xa=a.count;for(var g=this.O,n=0;n<this.xa;n++){var m=g[n];m.zc=a.zc[n];m.Ac=a.Ac[n];f=c.Ad(m.zc);h=d.Ad(m.Ac);m.Fd=V.Wc(b,f);m.bg=V.Wc(e,h);m.zd=V.Kb(m.bg,m.Fd);
m.N=0}1<this.xa&&(a=a.BG,f=this.Ow(),f<.5*a||2*a<f||f<Number.MIN_VALUE)&&(this.xa=0);0==this.xa&&(m=g[0],m.zc=0,m.Ac=0,f=c.Ad(0),h=d.Ad(0),m.Fd=V.Wc(b,f),m.bg=V.Wc(e,h),m.zd=V.Kb(m.bg,m.Fd),this.xa=1)};s.oD=function(a){a.BG=this.Ow();a.count=this.xa;for(var c=this.O,b=0;b<this.xa;b++)a.zc[b]=c[b].zc,a.Ac[b]=c[b].Ac};s.EB=function(){if(1==this.xa)return this.ya.zd.Pi();if(2==this.xa){var a=V.Kb(this.Va.zd,this.ya.zd);return 0<V.Lj(a,this.ya.zd.Pi())?V.Ds(1,a):V.Hh(a,1)}return O.C(0,0)};s.GB=function(a,
c){1==this.xa?(a.J(this.ya.Fd),c.J(this.ya.bg)):2==this.xa?(a.x=this.ya.N*this.ya.Fd.x+this.Va.N*this.Va.Fd.x,a.y=this.ya.N*this.ya.Fd.y+this.Va.N*this.Va.Fd.y,c.x=this.ya.N*this.ya.bg.x+this.Va.N*this.Va.bg.x,c.y=this.ya.N*this.ya.bg.y+this.Va.N*this.Va.bg.y):3==this.xa&&(c.x=a.x=this.ya.N*this.ya.Fd.x+this.Va.N*this.Va.Fd.x+this.Re.N*this.Re.Fd.x,c.y=a.y=this.ya.N*this.ya.Fd.y+this.Va.N*this.Va.Fd.y+this.Re.N*this.Re.Fd.y)};s.Ow=function(){return 1==this.xa?0:2==this.xa?V.Kb(this.ya.zd,this.Va.zd).Mg():
3==this.xa?V.Lj(V.Kb(this.Va.zd,this.ya.zd),V.Kb(this.Re.zd,this.ya.zd)):0};s.ZC=function(){var a=this.ya.zd,c=this.Va.zd,b=V.Kb(c,a),a=-(a.x*b.x+a.y*b.y);0>=a?this.xa=this.ya.N=1:(c=c.x*b.x+c.y*b.y,0>=c?(this.xa=this.Va.N=1,this.ya.Set(this.Va)):(b=1/(c+a),this.ya.N=c*b,this.Va.N=a*b,this.xa=2))};s.$C=function(){var a=this.ya.zd,c=this.Va.zd,b=this.Re.zd,d=V.Kb(c,a),e=V.Wb(c,d),f=-V.Wb(a,d),h=V.Kb(b,a),g=V.Wb(b,h),n=-V.Wb(a,h),m=V.Kb(b,c),l=V.Wb(b,m),m=-V.Wb(c,m),h=V.Lj(d,h),d=h*V.Lj(c,b),b=h*V.Lj(b,
a),a=h*V.Lj(a,c);0>=f&&0>=n?this.xa=this.ya.N=1:0<e&&0<f&&0>=a?(g=1/(e+f),this.ya.N=e*g,this.Va.N=f*g,this.xa=2):0<g&&0<n&&0>=b?(e=1/(g+n),this.ya.N=g*e,this.Re.N=n*e,this.xa=2,this.Va.Set(this.Re)):0>=e&&0>=m?(this.xa=this.Va.N=1,this.ya.Set(this.Va)):0>=g&&0>=l?(this.xa=this.Re.N=1,this.ya.Set(this.Re)):0<l&&0<m&&0>=d?(e=1/(l+m),this.Va.N=l*e,this.Re.N=m*e,this.xa=2,this.ya.Set(this.Re)):(e=1/(d+b+a),this.ya.N=d*e,this.Va.N=b*e,this.Re.N=a*e,this.xa=3)};var ud=function(){this.zc=[0,0,0];this.Ac=
[0,0,0]},td=function(){};td.prototype.Set=function(a){this.Fd.J(a.Fd);this.bg.J(a.bg);this.zd.J(a.zd);this.N=a.N;this.zc=a.zc;this.Ac=a.Ac};var vd=function(){this.Ai=new gd;this.Bi=new gd;this.BA=new Qc;this.CA=new Qc},wd=function(){this.Ea=O.C(0,0);this.ua=[];for(var a=this.nc=0;2>a;a++)this.ua[a]=O.C(0,0)};wd.prototype.xc=function(a,c,b,d,e){if(0!=a.nc){var f=0,h,g,n=0,m=0,l=0,k=0,p=0;h=0;switch(a.fb){case 1:g=c.A;h=a.Da;f=c.position.x+g.k.x*h.x+g.n.x*h.y;c=c.position.y+g.k.y*h.x+g.n.y*h.y;g=d.A;
h=a.ua[0].Da;a=d.position.x+g.k.x*h.x+g.n.x*h.y;d=d.position.y+g.k.y*h.x+g.n.y*h.y;h=a-f;g=d-c;n=h*h+g*g;n>Nc?(n=Math.sqrt(n),this.Ea.x=h/n,this.Ea.y=g/n):(this.Ea.x=1,this.Ea.y=0);h=c+b*this.Ea.y;d-=e*this.Ea.y;this.ua[0].x=.5*(f+b*this.Ea.x+(a-e*this.Ea.x));this.ua[0].y=.5*(h+d);break;case 2:g=c.A;h=a.ud;n=g.k.x*h.x+g.n.x*h.y;m=g.k.y*h.x+g.n.y*h.y;g=c.A;h=a.Da;l=c.position.x+g.k.x*h.x+g.n.x*h.y;k=c.position.y+g.k.y*h.x+g.n.y*h.y;this.Ea.x=n;this.Ea.y=m;for(f=0;f<a.nc;f++)g=d.A,h=a.ua[f].Da,p=d.position.x+
g.k.x*h.x+g.n.x*h.y,h=d.position.y+g.k.y*h.x+g.n.y*h.y,this.ua[f].x=p+.5*(b-(p-l)*n-(h-k)*m-e)*n,this.ua[f].y=h+.5*(b-(p-l)*n-(h-k)*m-e)*m;break;case 4:for(g=d.A,h=a.ud,n=g.k.x*h.x+g.n.x*h.y,m=g.k.y*h.x+g.n.y*h.y,g=d.A,h=a.Da,l=d.position.x+g.k.x*h.x+g.n.x*h.y,k=d.position.y+g.k.y*h.x+g.n.y*h.y,this.Ea.x=-n,this.Ea.y=-m,f=0;f<a.nc;f++)g=c.A,h=a.ua[f].Da,p=c.position.x+g.k.x*h.x+g.n.x*h.y,h=c.position.y+g.k.y*h.x+g.n.y*h.y,this.ua[f].x=p+.5*(e-(p-l)*n-(h-k)*m-b)*n,this.ua[f].y=h+.5*(e-(p-l)*n-(h-k)*
m-b)*m}}};var Ac=function(a,c){this.Zd="Body"+Ac.Os++;this.G=new yc;this.G.position.J(a.position);this.G.A.Set(a.L);this.q=new Qc;this.q.T.qa();this.q.Ud=1;this.q.zf=this.q.N=a.L;this.q.D.x=this.G.A.k.x*this.q.T.x+this.G.A.n.x*this.q.T.y;this.q.D.y=this.G.A.k.y*this.q.T.x+this.G.A.n.y*this.q.T.y;this.q.D.x+=this.G.position.x;this.q.D.y+=this.G.position.y;this.q.md.J(this.q.D);this.B=a.Ku.Hc();this.li=O.C(0,0);this.Wl=a.$j;this.hG=a.Ot;this.Wu=a.Fx;this.Xu=a.Jx;this.fo=a.yc;this.Ra=c;this.Tb=null;
this.qe=new xd;this.ck=new yd;this.I=a.Gx;this.oG=a.Ck;this.cG=a.Wj;this.ro=this.Qk=0;this.fb=a.type;this.X=this.fb==W.Ic?1:0;this.K=this.fb==W.Ic?1:0;this.U=this.Of=0;this.lG=a.Gy;this.Cl=new zd;this.jr=[]};s=Ac.prototype;s.el=function(a){a=new zc(this,this.G,a);this.fo&&a.Jm(this.Ra.je.Vl,this.G);this.Cl.eB(a);a.io=this;0<a.er&&this.jx();this.Ra.jv=!0;return a};s.Xd=function(){O.wc(this.B);O.wc(this.li)};s.Hw=function(a){this.Cl.EC(a);for(var c=this.qe.Xa(Ad);c;c=c.next)a!=c.Yc.Yb&&a!=c.Yc.Sb||
this.Ra.je.Xd(c.Yc);this.fo&&a.Km(this.Ra.je.Vl);a.Xd();a.io=null;this.jx()};s.Xm=function(a,c){this.G.A.Set(c);this.G.position.J(a);var b=this.G.A,d=this.q.T;this.q.D.x=b.k.x*d.x+b.n.x*d.y;this.q.D.y=b.k.y*d.x+b.n.y*d.y;this.q.D.x+=this.G.position.x;this.q.D.y+=this.G.position.y;this.q.md.J(this.q.D);this.q.zf=this.q.N=c;b=this.Ra.je.Vl;for(d=this.Cl.Xa();d;d=d.next)d.If.tx(b,this.G,this.G);this.Ra.je.jp()};s.Ee=function(){return this.G};s.Xs=function(a){this.Xm(a,this.Yd())};s.Yd=function(){return this.q.N};
s.sp=function(a){this.Xm(this.G.position,a)};s.il=function(){return this.q.D};s.Nj=function(){return this.q.T};s.Sj=function(a){this.fb!=W.ef&&this.B.J(a)};s.Mj=function(){return this.B};s.Vm=function(a){void 0===a&&(a=0);this.fb!=W.ef&&(this.I=a)};s.kp=function(){return this.I};s.Ig=function(a,c){this.fb==W.Ic&&(this.jd(!0),this.li.x+=a.x,this.li.y+=a.y,this.Qk+=(c.x-this.q.D.x)*a.y-(c.y-this.q.D.y)*a.x)};s.bp=function(a){void 0===a&&(a=0);this.fb==W.Ic&&(this.jd(!0),this.Qk+=a)};s.$o=function(a,
c){this.fb==W.Ic&&(this.jd(!0),this.B.x+=this.K*a.x,this.B.y+=this.K*a.y,this.I+=this.U*((c.x-this.q.D.x)*a.y-(c.y-this.q.D.y)*a.x))};s.hl=function(){return this.X};s.Nw=function(a){a||(a=new Tc);a.mh=this.X;a.jl=this.Of;a.Oh.J(this.q.T);return a};s.jx=function(){this.U=this.Of=this.K=this.X=0;this.q.T.qa();if(this.fb!=W.ef&&this.fb!=W.Lx){for(var a=O.C(0,0),c=this.Cl.Xa();c;c=c.next){var b=c.If;0!=b.er&&(b=b.Nw(),this.X+=b.mh,a.x+=b.Oh.x*b.mh,a.y+=b.Oh.y*b.mh,this.Of+=b.jl)}0<this.X?(this.K=1/this.X,
a.x*=this.K,a.y*=this.K):this.K=this.X=1;0<this.Of&&!this.hG?(this.Of-=this.X*(a.x*a.x+a.y*a.y),this.Of*=this.lG,this.U=1/this.Of):this.U=this.Of=0;c=this.q.D.Hc();this.q.T.J(a);this.q.md.J(V.Wc(this.G,this.q.T));this.q.D.J(this.q.md);this.B.x+=this.I*-(this.q.D.y-c.y);this.B.y+=this.I*+(this.q.D.x-c.x);O.wc(a);O.wc(c)}};s.op=function(a){var c=this.G.A;a=O.C(c.k.x*a.x+c.n.x*a.y,c.k.y*a.x+c.n.y*a.y);a.x+=this.G.position.x;a.y+=this.G.position.y;return a};s.Js=function(a){return V.ic(this.G.A,a)};s.Hd=
function(a){return V.Ns(this.G,a)};s.Is=function(a){return V.Jh(this.G.A,a)};s.DB=function(a){return O.C(this.B.x-this.I*(a.y-this.q.D.y),this.B.y+this.I*(a.x-this.q.D.x))};s.gd=function(){return this.fb};s.jd=function(a){if(this.Xu!=a)for(this.Xu=a,this.ro=0,a||(this.B.qa(),this.I=0,this.li.qa(),this.Qk=0),a=0;a<this.jr.length;a++)this.jr[a].xx(this)};s.Id=function(){return this.Xu};s.Ri=function(){return this.fo};s.Gs=function(){return this.Cl};s.Fm=function(a){this.ck.Fm(a)};s.Tm=function(a){this.ck.Tm(a)};
s.Oi=function(){return this.qe};s.ux=function(){var a=Ac.lH;a.A.Set(this.q.zf);var c=a.A,b=this.q.T;a.position.x=this.q.md.x-(c.k.x*b.x+c.n.x*b.y);a.position.y=this.q.md.y-(c.k.y*b.x+c.n.y*b.y);c=this.Ra.je.Vl;for(b=this.Cl.Xa();b;b=b.next)b.If.tx(c,a,this.G)};s.Xb=function(){this.G.A.Set(this.q.N);var a=this.G.A,c=this.q.T;this.G.position.x=this.q.D.x-(a.k.x*c.x+a.n.x*c.y);this.G.position.y=this.q.D.y-(a.k.y*c.x+a.n.y*c.y)};s.Tj=function(a){if(this.fb!=W.Ic&&a.fb!=W.Ic)return!1;for(var c=this.Tb;c;c=
c.next)if(c.sf==a&&0==c.fi.uz)return!1;return!0};s.Ni=function(a){this.q.Ni(a);this.q.D.J(this.q.md);this.q.N=this.q.zf;this.Xb()};Ac.Os=0;var W=function(){this.position=O.C(0,0);this.Ku=O.C(0,0);this.Wj=this.Ck=this.Gx=this.L=0;this.Jx=this.Fx=!0;this.$j=this.Ot=!1;this.type=W.ef;this.yc=!0;this.Gy=1};W.ef=0;W.Lx=1;W.Ic=2;var Cd=function(){this.Ep=[];for(var a=0;a<=Bd;a++)this.Ep[a]=null;this.Fp=[];for(a=0;a<=Bd;a++)this.Fp[a]=null;this.ql={}};s=Cd.prototype;s.Xa=function(a){return this.Ep[a]};s.bl=
function(a){var c=a.Zd;null==this.ql[c]&&(this.Jg(a,c,Bd),this.xx(a),a.jr.push(this))};s.xx=function(a){var c=a.gd(),b=a.Zd,d=a.Id(),e=a.Ri();c==W.Ic?this.Jg(a,b,Dd):this.Ng(b,Dd);c!=W.ef?this.Jg(a,b,Ed):this.Ng(b,Ed);c!=W.ef&&e&&d?this.Jg(a,b,Fd):this.Ng(b,Fd);d?this.Jg(a,b,Gd):this.Ng(b,Gd);e?this.Jg(a,b,Hd):this.Ng(b,Hd)};s.Sm=function(a){var c=a.Zd;if(null!=this.ql[c]){Ga(a.jr,this);for(a=0;a<=Bd;a++)this.Ng(c,a);delete this.ql[c]}};s.Ng=function(a,c){var b=this.ql[a];if(null!=b){var d=b[c];null!=
d&&(b[c]=null,b=d.Xf,d=d.next,null==b?this.Ep[c]=d:b.eg(d),null==d?this.Fp[c]=b:d.fg(b))}};s.Jg=function(a,c,b){var d=this.ql[c];if(null==d){for(var d=[],e=0;e<=Bd;e++)d[e]=null;this.ql[c]=d}null==d[b]&&(d[b]=new Id(a),a=this.Fp[b],null!=a?a.eg(d[b]):this.Ep[b]=d[b],d[b].fg(a),this.Fp[b]=d[b])};var Dd=0,Ed=1,Hd=2,Fd=3,Gd=4,Bd=5,Id=function(a){this.body=a;this.Xf=this.next=null};Id.prototype.eg=function(a){this.next=a};Id.prototype.fg=function(a){this.Xf=a};Id.prototype.hb=function(){return this.body};
var Cc=function(){};Cc.prototype.Tj=function(a,c){var b=a.Mw(),d=c.Mw();return b.gj==d.gj&&0!=b.gj?0<b.gj:0!=(b.fm&d.rl)&&0!=(b.rl&d.fm)};Cc.HD=new Cc;var Jd=function(){this.FG=[];this.yH=[]},Bc=function(){};Bc.prototype.cp=function(){};var Ld=function(a){this.Ra=a;this.Yu=Cc.HD;this.ji=Bc.Kx;this.vz=new Kd;this.Vl=new jd};Ld.prototype.gB=function(a,c){var b=a.hb(),d=c.hb();if(b!=d&&d.Tj(b)&&this.Yu.Tj(a,c)){for(b=d.qe.Xa(Ad);b;b=b.next)if(d=b.Yc.Yb,d==a){if(d=b.Yc.Sb,d==c)return}else if(d==c&&(d=
b.Yc.Sb,d==a))return;this.vz.xf(a,c)}};Ld.prototype.jp=function(){var a=this;this.Vl.kD(function(c,b){a.gB(c,b)})};Ld.prototype.Xd=function(a){0<a.qf.nc&&(a.Yb.hb().jd(!0),a.Sb.hb().jd(!0));a.FC();this.vz.Xd(a)};Ld.prototype.oB=function(){for(var a=this.Ra.qe.Xa(Ad);a;a=a.next){var c=a.Yc,b=c.Yb,d=c.Sb,e=b.hb(),f=d.hb();if(0!=e.Id()||0!=f.Id()){if(c.kq){if(0==f.Tj(e)){this.Xd(c);continue}if(0==this.Yu.Tj(b,d)){this.Xd(c);continue}c.mB()}0==this.Vl.Zm(b.Mk,d.Mk)?this.Xd(c):c.wx(this.ji)}}};var Md=
function(){this.rl=1;this.fm=65535;this.gj=0};Md.prototype.Hc=function(){var a=new Md;a.rl=this.rl;a.fm=this.fm;a.gj=this.gj;return a};var zc=function(a,c,b){this.Zd="Fixture"+zc.Os++;this.gG=b.filter.Hc();this.Hk=Zc();this.io=a;this.qi=b.shape.Hc();this.er=b.lg;this.av=b.Wg;this.kv=b.xh;this.hr=b.uu};s=zc.prototype;s.Vc=function(){return this.qi};s.Pj=function(){return this.hr};s.Mw=function(){return this.gG.Hc()};s.hb=function(){return this.io};s.Nw=function(a){a||(a=new Tc);this.qi.Im(a,this.er);
return a};s.Xd=function(){Yc.push(this.Hk)};s.Jm=function(a,c){this.qi.dl(this.Hk,c);this.Mk=a.Jm(this.Hk,this)};s.Km=function(a){null!=this.Mk&&(a.Km(this.Mk),this.Mk=null)};s.tx=function(a,c,b){if(this.Mk){var d=Zc(),e=Zc();this.qi.dl(d,c);this.qi.dl(e,b);this.Hk.ep(d,e);Yc.push(d);Yc.push(e);c=V.Kb(b.position,c.position);a.Ms(this.Mk,this.Hk,c);O.wc(c)}};zc.Os=0;var Fc=function(){this.filter=new Md;this.filter.rl=1;this.filter.fm=65535;this.filter.gj=0;this.shape=null;this.Wg=.2;this.lg=this.xh=
0;this.uu=!1},zd=function(){this.Qt=this.Pt=null;this.nq={}};zd.prototype.Xa=function(){return this.Pt};zd.prototype.eB=function(a){var c=a.Zd;if(null==this.nq[c]){a=new Nd(a);var b=this.Qt;null!=b?b.eg(a):this.Pt=a;a.fg(b);this.Qt=a;this.nq[c]=a}};zd.prototype.EC=function(a){a=a.Zd;var c=this.nq[a];if(null!=c){var b=c.Xf,c=c.next;null==b?this.Pt=c:b.eg(c);null==c?this.Qt=b:c.fg(b);delete this.nq[a]}};var Nd=function(a){this.If=a;this.Xf=this.next=null};Nd.prototype.eg=function(a){this.next=a};Nd.prototype.fg=
function(a){this.Xf=a};var Od=function(a,c){this.pG=a;this.tg=c;this.fh=[];this.gr=[];this.sj=[];this.ki=[];this.Rd=[]};s=Od.prototype;s.dp=function(){this.fh=[];this.gr=[];this.sj=[];this.ki=[];this.Rd=[]};s.Ti=function(a,c,b){this.sD(a,c);this.tg.xc(a,this.ki,this.ki.length);this.yD(a);this.uD(a);this.vD(a);this.ix(this.tg.gh);b&&this.tD(a)};s.sD=function(a,c){for(var b=0;b<this.gr.length;b++){var d=this.gr[b];d.B.x+=a.Ia*(c.x+d.K*d.li.x);d.B.y+=a.Ia*(c.y+d.K*d.li.y);d.I+=a.Ia*d.U*d.Qk;d.B.$d(V.Ob(1-
a.Ia*d.oG,0,1));d.I*=V.Ob(1-a.Ia*d.cG,0,1)}};s.yD=function(a){this.tg.yf(a);for(var c=0;c<this.Rd.length;c++)this.Rd[c].yf(a);for(c=0;c<a.Vo;c++){for(var b=0;b<this.Rd.length;b++)this.Rd[b].bf(a);this.tg.bf()}for(a=0;a<this.Rd.length;a++)this.Rd[a].Es();this.tg.Es()};s.uD=function(a){for(var c=0;c<this.sj.length;++c){var b=this.sj[c],d=a.Ia*b.B.x,e=a.Ia*b.B.y;4<d*d+e*e&&(b.B.ae(),b.B.x=2*b.B.x*a.bi,b.B.y=2*b.B.y*a.bi);d=a.Ia*b.I;d*d>Lc&&(b.I=0>b.I?-Kc*a.bi:Kc*a.bi);b.q.md.J(b.q.D);b.q.zf=b.q.N;b.q.D.x+=
a.Ia*b.B.x;b.q.D.y+=a.Ia*b.B.y;b.q.N+=a.Ia*b.I;b.Xb()}};s.vD=function(a){for(var c=0;c<a.zo;c++){for(var b=this.tg.$e(.2),d=!0,e=0;e<this.Rd.length;e++)var f=this.Rd[e].$e(.2),d=d&&f;if(b&&d)break}};s.tD=function(a){for(var c=Number.MAX_VALUE,b=0;b<this.sj.length;b++){var d=this.sj[b];!d.Wu||Math.abs(d.I)>Mc||1E-4<V.Wb(d.B,d.B)?c=d.ro=0:(d.ro+=a.Ia,c=Math.min(c,d.ro))}if(.5<=c)for(a=0;a<this.fh.length;a++)this.fh[a].jd(!1)};s.Zs=function(a){var c=0,b=0;this.tg.xc(a,this.ki,this.ki.length);for(var d=
this.tg,c=0;c<this.Rd.length;++c)this.Rd[c].yf(a);for(c=0;c<a.Vo;++c)for(d.bf(),b=0;b<this.Rd.length;++b)this.Rd[b].bf(a);for(c=0;c<this.sj.length;++c){var b=this.sj[c],e=a.Ia*b.B.x,f=a.Ia*b.B.y;4<e*e+f*f&&(b.B.ae(),b.B.x=2*b.B.x*a.bi,b.B.y=2*b.B.y*a.bi);e=a.Ia*b.I;e*e>Lc&&(b.I=0>b.I?-Kc*a.bi:Kc*a.bi);b.q.md.J(b.q.D);b.q.zf=b.q.N;b.q.D.x+=a.Ia*b.B.x;b.q.D.y+=a.Ia*b.B.y;b.q.N+=a.Ia*b.I;b.Xb()}for(c=0;c<a.zo;++c){e=d.$e(.75);f=!0;for(b=0;b<this.Rd.length;++b)var h=this.Rd[b].$e(.2),f=f&&h;if(e&&f)break}this.ix(d.gh)};
s.ix=function(a){if(null!=this.pG)for(var c=0;c<this.ki.length;++c)for(var b=a[c],d=new Jd,e=0;e<b.Wf;++e)d.FG[e]=b.rc[e].oc,d.yH[e]=b.rc[e].Bh};s.bl=function(a){this.fh.push(a);a.gd()!=W.ef&&(this.sj.push(a),a.gd()==W.Ic&&this.gr.push(a))};s.cl=function(a){this.ki.push(a)};s.Dw=function(a){this.Rd.push(a)};var Pd=function(a,c,b,d,e){this.Ia=a;var f=0;0<a&&(f=1/a);this.bi=f;this.Lc=c;this.zo=b;this.Vo=d;this.Ki=e},Dc=function(a,c){this.je=new Ld(this);this.tg=new Qd;this.jv=!1;this.kd=new Cd;this.qe=
new xd;this.Tb=null;this.ck=new yd;this.ir=0;this.eG=this.vG=!0;this.Wu=c;this.wz=a;this.xz=0;this.kG=this.Cs(new W)};Dc.YB=1-100*Number.MIN_VALUE;s=Dc.prototype;s.mx=function(a){this.je.Yu=a};s.nx=function(a){this.je.ji=a};s.Cs=function(a){a=new Ac(a,this);this.kd.bl(a);return a};s.hp=function(a){for(var c=a.Tb;c;){var b=c,c=c.next;this.ip(b.fi)}for(c=a.ck.Xa();c;c=c.next)c.Xx.Sm(a);for(c=a.qe.Xa(Ad);c;c=c.next)this.je.Xd(c.Yc);for(c=a.Gs().Xa();c;c=c.next)a.Hw(c.If);a.Xd();this.kd.Sm(a)};s.gp=function(a){var c=
Z.xf(a);c.Yl=null;if(c.rj=this.Tb)this.Tb.Yl=c;this.Tb=c;this.ir++;c.ke.fi=c;c.ke.sf=c.Z;c.ke.prev=null;if(c.ke.next=c.Y.Tb)c.Y.Tb.prev=c.ke;c.Y.Tb=c.ke;c.le.fi=c;c.le.sf=c.Y;c.le.prev=null;if(c.le.next=c.Z.Tb)c.Z.Tb.prev=c.le;c.Z.Tb=c.le;var b=a.P,d=a.R;if(!a.xt)for(a=d.qe.Xa(Ad);a;a=a.next)a.Yc.mp(d)==b&&a.Yc.Kw();return c};s.ip=function(a){var c=a.uz;a.Yl&&(a.Yl.rj=a.rj);a.rj&&(a.rj.Yl=a.Yl);a==this.Tb&&(this.Tb=a.rj);var b=a.Y,d=a.Z;b.jd(!0);d.jd(!0);a.ke.prev&&(a.ke.prev.next=a.ke.next);a.ke.next&&
(a.ke.next.prev=a.ke.prev);a.ke==b.Tb&&(b.Tb=a.ke.next);a.ke.prev=null;a.ke.next=null;a.le.prev&&(a.le.prev.next=a.le.next);a.le.next&&(a.le.next.prev=a.le.prev);a.le==d.Tb&&(d.Tb=a.le.next);a.le.prev=null;a.le.next=null;this.ir--;if(!c)for(a=d.qe.Xa(Ad);a;a=a.next)a.Yc.mp(d)==b&&a.Yc.Kw()};s.Fm=function(a){if(null!==a.Ra&&a.Ra!=this)throw Error("Controller can only be a member of one world");this.ck.Fm(a);a.Ra=this;return a};s.Tm=function(a){this.ck.Tm(a);a.Ra=null;a.dp()};s.Kh=function(a,c,b){this.jv&&
(this.je.jp(),this.jv=!1);a=new Pd(a,this.xz*a,c,b,this.vG);this.je.oB();0<a.Ia&&(this.Ti(a),this.eG&&this.Zs(a),this.xz=a.bi)};s.Gw=function(){for(var a=this.kd.Xa(Dd);a;a=a.next)a.body.li.qa(),a.body.Qk=0};s.Oi=function(){return this.qe};var Rd=[];Dc.prototype.Ti=function(a){for(var c=this.ck.Xa();c;c=c.next)c.Xx.Kh(a);for(var c=new Od(this.je.ji,this.tg),b=this.kd.Xa(Bd);b;b=b.next)b.body.Nb=!1;for(var d=this.qe.Xa(Ad);d;d=d.next)d.Yc.Nb=!1;for(b=this.Tb;b;b=b.rj)b.Nb=!1;for(b=this.kd.Xa(Fd);b;b=
b.next)if(d=b.body,!d.Nb){c.dp();Rd.length=0;var e=Rd;e.push(d);for(d.Nb=!0;0<e.length;){var f=e.pop();c.bl(f);f.Id()||f.jd(!0);if(f.gd()!=W.ef){for(d=f.qe.Xa(Sd);d;d=d.next){var h=d.Yc;h.Nb||(c.cl(h),h.Nb=!0,h=h.mp(f),h.Nb||(e.push(h),h.Nb=!0))}for(d=f.Tb;d;d=d.next)!d.fi.Nb&&d.sf.Ri()&&(c.Dw(d.fi),d.fi.Nb=!0,d.sf.Nb||(e.push(d.sf),d.sf.Nb=!0))}}c.Ti(a,this.wz,this.Wu)}for(b=this.kd.Xa(Fd);b;b=b.next)b.body.ux();this.je.jp()};Dc.prototype.Zs=function(a){for(var c=new Od(this.je.ji,this.tg),b=this.kd.Xa(Bd);b;b=
b.next){var d=b.body;d.Nb=!1;d.q.Ud=0}for(var e=this.qe.Xa(Ad);e;e=e.next)e.Yc.Nb=!1,e.Yc.dm=null;for(b=this.Tb;b;b=b.rj)b.Nb=!1;for(;;){var b=this.wD(),f=b.CG,b=b.DG;if(null===f||Dc.YB<b)break;e=f.Yb.hb();d=f.Sb.hb();Dc.nA.Set(e.q);Dc.oA.Set(d.q);e.Ni(b);d.Ni(b);f.wx(this.je.ji);f.dm=null;if(f.Ur||!f.enabled)e.q.Set(Dc.nA),d.q.Set(Dc.oA),e.Xb(),d.Xb();else if(f.Ro){e.gd()!=W.Ic&&(e=d);c.dp();Rd.length=0;f=Rd;f.push(e);for(e.Nb=!0;0<f.length;)if(d=f.pop(),c.bl(d),d.Id()||d.jd(!0),d.gd()==W.Ic){for(e=
d.qe.Xa(Sd);e&&32!=c.dG;e=e.next){var h=e.Yc;h.Nb||(c.cl(h),h.Nb=!0,h=h.mp(d),h.Nb||(h.gd()!=W.ef&&(h.Ni(b),h.jd(!0),f.push(h)),h.Nb=!0))}for(d=d.Tb;d;d=d.next)32!=c.ir&&!d.fi.Nb&&d.sf.Ri()&&(c.Dw(d.fi),d.fi.Nb=!0,d.sf.Nb||(d.sf.gd()!=W.ef&&(d.sf.Ni(b),d.sf.jd(!0),f.push(d.sf)),d.sf.Nb=!0))}c.Zs(new Pd((1-b)*a.Ia,0,a.Vo,a.zo,!1));for(b=0;b<c.fh.length;b++)if(c.fh[b].Nb=!1,c.fh[b].Id()&&c.fh[b].gd()==W.Ic)for(c.fh[b].ux(),e=c.fh[b].qe.Xa(Ad);e;e=e.next)e.Yc.dm=null;for(b=0;b<c.dG;b++)c.ki[b].Nb=!1,
c.ki[b].dm=null;for(b=0;b<c.ir;b++)c.Rd[b].Nb=!1;this.je.jp()}}};Dc.prototype.wD=function(){for(var a=null,c=1,b=this.qe.Xa(Td);b;b=b.next){var d=b.Yc;if(!this.xD(d)){var e=1;if(null!=d.dm)e=d.dm;else{if(d.Ro)e=1;else{var e=d.Yb.hb(),f=d.Sb.hb(),h=e.q.Ud;e.q.Ud<f.q.Ud?(h=f.q.Ud,e.q.Ni(h)):f.q.Ud<e.q.Ud&&(h=e.q.Ud,f.q.Ni(h));e=d.vB(e.q,f.q);0<e&&1>e&&(e=(1-e)*h+e)}d.dm=e}Number.MIN_VALUE<e&&e<c&&(a=d,c=e)}}return{CG:a,DG:c}};Dc.prototype.xD=function(a){var c=a.Yb.hb();a=a.Sb.hb();return c.gd()==W.Ic&&
c.Id()||a.gd()==W.Ic&&a.Id()?!1:!0};var Vd=function(a,c){this.Zd="Contact"+Ud++;this.qf=new od;this.po=new od;this.Ro=!1;var b=a.hb(),d=c.hb();this.yt=b.gd()!=W.Ic||b.Wl||d.gd()!=W.Ic||d.Wl;this.Ur=a.Pj()||c.Pj();this.kq=!1;this.Yb=a;this.Sb=c;this.enabled=!0;this.Cp=b.Oi();this.Dp=d.Oi();this.As=d.Ra.Oi();this.Ew()};s=Vd.prototype;s.hd=function(a,c){this.qf.hd();this.po.hd();this.Ro=!1;var b=a.hb(),d=c.hb();this.yt=b.gd()!=W.Ic||b.Wl||d.gd()!=W.Ic||d.Wl;this.Ur=a.Pj()||c.Pj();this.kq=!1;this.Yb=
a;this.Sb=c;this.enabled=!0;this.Cp=b.Oi();this.Dp=d.Oi();this.As=d.Ra.Oi();this.Ew()};s.Ew=function(){this.Cp.cl(this);this.Dp.cl(this);this.As.cl(this);this.ct()};s.ct=function(){var a=!1,c=!1;!this.Pj()&&this.Ks()&&(this.Ls()&&(a=!0),this.yt&&(c=!0));this.Cp.bt(this,a,c);this.Dp.bt(this,a,c);this.As.bt(this,a,c)};s.FC=function(){this.Cp.Vs(this);this.Dp.Vs(this);this.As.Vs(this)};s.Ls=function(){return this.Ro};s.Pj=function(){return this.Ur};s.Qj=function(a){this.enabled=a;this.ct()};s.Ks=function(){return this.enabled};
s.mp=function(a){var c=this.Yb.hb();return c!=a?c:this.Sb.hb()};s.Kw=function(){this.kq=!0};s.mB=function(){this.kq=!1};s.wx=function(a){var c=this.po;this.po=this.qf;this.qf=c;this.enabled=!0;var b=!1,c=this.Ls(),d=this.Yb.hb(),e=this.Sb.hb(),f=this.Yb.Hk.Zm(this.Sb.Hk);if(this.Ur){if(f){var b=this.Yb.Vc(),d=d.Ee(),f=this.Sb.Vc(),h=e.Ee(),e=new ed;e.Ai=new gd;e.Ai.Set(b);e.Bi=new gd;e.Bi.Set(f);e.rs=d;e.ts=h;e.XA=!0;d=new ud;d.count=0;b=new fd;dd(b,d,e);b=b.Uh<10*Number.MIN_VALUE}this.qf.nc=0}else{this.yt=
d.gd()!=W.Ic||d.Wl||e.gd()!=W.Ic||e.Wl?!0:!1;if(f)for(this.Kg(),b=0<this.qf.nc,f=0;f<this.qf.nc;f++){h=this.qf.ua[f];h.Lk=0;for(var g=h.Pk=0;g<this.po.nc;g++){var n=this.po.ua[g];if(n.Qf.be==h.Qf.be){h.Lk=n.Lk;h.Pk=n.Pk;break}}}else this.qf.nc=0;b!=c&&(d.jd(!0),e.jd(!0))}this.Ro=b;b!=c&&this.ct();!c&&b&&a.cp(this)};s.Kg=function(){};s.vB=function(a,c){Wd.Ai.Set(this.Yb.Vc());Wd.Bi.Set(this.Sb.Vc());Wd.BA=a;Wd.CA=c;Wd.DH=.005;var b=Wd;Xd++;var d=b.Ai,e=b.Bi,f=b.BA,h=b.CA,g=d.lb+e.lb,b=b.DH,n=0,m=0,
l=0;Yd.count=0;for(Zd.XA=!1;;){f.Ee($d,n);h.Ee(ae,n);Zd.Ai=d;Zd.Bi=e;Zd.rs=$d;Zd.ts=ae;dd(be,Yd,Zd);if(0>=be.Uh){n=1;break}ce.xc(Yd,d,$d,e,ae);var k=ce.Kg($d,ae);if(0>=k){n=1;break}0==m&&(l=k>g?Math.max(g-b,.75*g):Math.max(k-b,.02*g));if(k-l<.5*b){if(0==m){n=1;break}break}var p=n,r=n,t=1;f.Ee($d,t);h.Ee(ae,t);var u=ce.Kg($d,ae);if(u>=l){n=1;break}for(var q=0;;){var z=0,z=q&1?r+(l-k)*(t-r)/(u-k):.5*(r+t);f.Ee($d,z);h.Ee(ae,z);var A=ce.Kg($d,ae);if(Math.abs(A-l)<.025*b){p=z;break}A>l?(r=z,k=A):(t=z,
u=A);q++;de++;if(50==q)break}ee=Math.max(ee,q);if(p<(1+100*Number.MIN_VALUE)*n)break;n=p;m++;fe++;if(1E3==m)break}ge=Math.max(ge,m);return n};var Wd=new vd,Ud=0,he=function(a,c){Vd.call(this,a,c)};N(he,Vd);he.prototype.hd=function(a,c){Vd.prototype.hd.call(this,a,c)};he.prototype.Kg=function(){var a=this.qf,c=this.Yb.Vc(),b=this.Yb.hb().G,d=this.Sb.Vc(),e=this.Sb.hb().G;a.nc=0;var f=e.position.x+(e.A.k.x*d.yb.x+e.A.n.x*d.yb.y)-(b.position.x+(b.A.k.x*c.yb.x+b.A.n.x*c.yb.y)),b=e.position.y+(e.A.k.y*
d.yb.x+e.A.n.y*d.yb.y)-(b.position.y+(b.A.k.y*c.yb.x+b.A.n.y*c.yb.y)),e=c.lb+d.lb;f*f+b*b>e*e||(a.fb=1,a.Da.J(c.yb),a.ud.qa(),a.nc=1,a.ua[0].Da.J(d.yb),a.ua[0].Qf.Rj(0))};var je=function(){this.dh=O.C(0,0);this.mc=O.C(0,0);this.Sd=O.C(0,0);this.vi=new P;this.Fe=new P;this.rc=[];for(var a=0;2>a;a++)this.rc[a]=new ie},ie=function(){this.mc=O.C(0,0);this.cc=O.C(0,0);this.ec=O.C(0,0)};ie.prototype.hd=function(){this.mc.Set(0,0);this.cc.Set(0,0);this.ec.Set(0,0)};var Kd=function(){this.vg={};this.mi={};
this.Gm(he,Ec.cg,Ec.cg);this.Gm(ke,Y.cg,Ec.cg);this.Gm(le,Y.cg,Y.cg);this.Gm(me,"b2EdgeShape",Ec.cg);this.Gm(ne,Y.cg,"b2EdgeShape")};Kd.prototype.Gm=function(a,c,b){this.mi[c]=this.mi[c]||{};this.mi[c][b]=this.mi[c][b]||[];this.vg[c]=this.vg[c]||{};this.vg[c][b]=new oe;this.vg[c][b].Zx=a;this.vg[c][b].fA=!0;c!=b&&(this.vg[b]=this.vg[b]||{},this.vg[b][c]=new oe,this.vg[b][c].Zx=a,this.vg[b][c].fA=!1)};Kd.prototype.xf=function(a,c){var b=a.Vc().Oj(),d=c.Vc().Oj(),e=this.vg[b][d],f=e.Zx;return null!=
f?e.fA?0<this.mi[b][d].length?(b=this.mi[b][d].pop(),b.hd(a,c),b):new f(a,c):0<this.mi[d][b].length?(b=this.mi[d][b].pop(),b.hd(c,a),b):new f(c,a):null};Kd.prototype.Xd=function(a){var c=a.Yb.Vc().Oj(),b=a.Sb.Vc().Oj();this.mi[c][b].push(a)};var xd=function(){this.Lp=[];for(var a=0;a<=Ad;a++)this.Lp[a]=null;this.Mp=[];for(a=0;a<=Ad;a++)this.Mp[a]=null;this.bk={}};s=xd.prototype;s.Xa=function(a){return this.Lp[a]};s.cl=function(a){var c=a.Zd;if(null==this.bk[c]){this.bk[c]=[];for(var b=0;b<=Ad;b++)this.bk[c][b]=
null;this.Jg(a,c,Ad)}};s.bt=function(a,c,b){c?this.Jg(a,a.Zd,Sd):this.Ng(a.Zd,Sd);b?this.Jg(a,a.Zd,Td):this.Ng(a.Zd,Td)};s.Vs=function(a){a=a.Zd;if(null!=this.bk[a]){for(var c=0;c<=Ad;c++)this.Ng(a,c);delete this.bk[a]}};s.Ng=function(a,c){var b=this.bk[a];if(null!=b){var d=b[c];if(null!=d){b[c]=null;var b=d.Xf,e=d.next;null==b?this.Lp[c]=e:b.eg(e);null==e?this.Mp[c]=b:e.fg(b);pe.push(d)}}};s.Jg=function(a,c,b){c=this.bk[c];if(null==c[b]){if(0<pe.length){var d=pe.pop();d.next=null;d.Xf=null;d.Yc=
a;a=d}else a=new qe(a);c[b]=a;a=this.Mp[b];null!=a?(a.eg(c[b]),c[b].fg(a)):this.Lp[b]=c[b];this.Mp[b]=c[b]}};var Sd=0,Td=1,Ad=2,qe=function(a){this.Yc=a;this.Xf=this.next=null},pe=[];qe.prototype.eg=function(a){this.next=a};qe.prototype.fg=function(a){this.Xf=a};var oe=function(){},re=function(){this.Ea=O.C(0,0);this.nr=[];this.ua=[];for(var a=0;2>a;a++)this.ua[a]=O.C(0,0)};re.prototype.xc=function(a){switch(a.type){case 1:this.pD(a);break;case 2:this.qD(a);break;case 4:this.rD(a)}};re.prototype.pD=
function(a){var c=a.P.G.A,b=a.mc,d=a.P.G.position.x+(c.k.x*b.x+c.n.x*b.y),e=a.P.G.position.y+(c.k.y*b.x+c.n.y*b.y),c=a.R.G.A,b=a.rc[0].mc,f=a.R.G.position.x+(c.k.x*b.x+c.n.x*b.y),c=a.R.G.position.y+(c.k.y*b.x+c.n.y*b.y),b=f-d,h=c-e,g=b*b+h*h;g>Nc?(g=Math.sqrt(g),this.Ea.x=b/g,this.Ea.y=h/g):(this.Ea.x=1,this.Ea.y=0);this.ua[0].x=.5*(d+f);this.ua[0].y=.5*(e+c);this.nr[0]=b*this.Ea.x+h*this.Ea.y-a.Mr};re.prototype.qD=function(a){this.Ea.x=a.P.G.A.k.x*a.dh.x+a.P.G.A.n.x*a.dh.y;this.Ea.y=a.P.G.A.k.y*
a.dh.x+a.P.G.A.n.y*a.dh.y;for(var c=a.P.G.position.x+(a.P.G.A.k.x*a.mc.x+a.P.G.A.n.x*a.mc.y),b=a.P.G.position.y+(a.P.G.A.k.y*a.mc.x+a.P.G.A.n.y*a.mc.y),d=0;d<a.Wf;d++){var e=a.R.G.position.x+(a.R.G.A.k.x*a.rc[d].mc.x+a.R.G.A.n.x*a.rc[d].mc.y),f=a.R.G.position.y+(a.R.G.A.k.y*a.rc[d].mc.x+a.R.G.A.n.y*a.rc[d].mc.y);this.nr[d]=(e-c)*this.Ea.x+(f-b)*this.Ea.y-a.Mr;this.ua[d].x=e;this.ua[d].y=f}};re.prototype.rD=function(a){this.Ea.x=a.R.G.A.k.x*a.dh.x+a.R.G.A.n.x*a.dh.y;this.Ea.y=a.R.G.A.k.y*a.dh.x+a.R.G.A.n.y*
a.dh.y;for(var c=a.R.G.position.x+(a.R.G.A.k.x*a.mc.x+a.R.G.A.n.x*a.mc.y),b=a.R.G.position.y+(a.R.G.A.k.y*a.mc.x+a.R.G.A.n.y*a.mc.y),d=0;d<a.Wf;d++){var e=a.P.G.position.x+(a.P.G.A.k.x*a.rc[d].mc.x+a.P.G.A.n.x*a.rc[d].mc.y),f=a.P.G.position.y+(a.P.G.A.k.y*a.rc[d].mc.x+a.P.G.A.n.y*a.rc[d].mc.y);this.nr[d]=(e-c)*this.Ea.x+(f-b)*this.Ea.y-a.Mr;this.ua[d].Set(e,f)}this.Ea.x*=-1;this.Ea.y*=-1};var Qd=function(){this.gh=[]};s=Qd.prototype;s.xc=function(a,c,b){for(this.jo=b;this.gh.length<this.jo;)this.gh[this.gh.length]=
new je;for(a=0;a<b;a++){var d=c[a],e=d.Yb,f=d.Sb,h=e.qi.lb,g=f.qi.lb,n=e.hb(),m=f.hb(),l=d.qf,k=Math.sqrt(e.av*f.av),p,e=e.kv,f=f.kv;p=e>f?e:f;var r=n.B.x,t=n.B.y,u=m.B.x,q=m.B.y,z=n.I,A=m.I;se.xc(l,n.G,h,m.G,g);e=se.Ea.x;d=se.Ea.y;f=this.gh[a];f.P=n;f.R=m;f.wG=l;f.Sd.x=e;f.Sd.y=d;f.Wf=l.nc;f.Wg=k;f.xh=p;f.dh.x=l.ud.x;f.dh.y=l.ud.y;f.mc.x=l.Da.x;f.mc.y=l.Da.y;f.Mr=h+g;f.type=l.fb;for(h=0;h<f.Wf;++h){k=l.ua[h];g=f.rc[h];g.oc=k.Lk;g.Bh=k.Pk;g.mc.J(k.Da);k=g.cc.x=se.ua[h].x-n.q.D.x;p=g.cc.y=se.ua[h].y-
n.q.D.y;var G=g.ec.x=se.ua[h].x-m.q.D.x,x=g.ec.y=se.ua[h].y-m.q.D.y,B=k*d-p*e,F=G*d-x*e,B=B*B,F=F*F;g.vi=1/(n.K+m.K+n.U*B+m.U*F);var E=n.X*n.K+m.X*m.K,E=E+(n.X*n.U*B+m.X*m.U*F);g.zE=1/E;F=d;E=-e;B=k*E-p*F;F=G*E-x*F;B*=B;F*=F;g.zH=1/(n.K+m.K+n.U*B+m.U*F);g.Uo=0;k=f.Sd.x*(u+-A*x-r- -z*p)+f.Sd.y*(q+A*G-t-z*k);-1>k&&(g.Uo+=-f.xh*k)}2==f.Wf&&(q=f.rc[0],u=f.rc[1],l=n.K,n=n.U,r=m.K,m=m.U,t=q.cc.x*d-q.cc.y*e,q=q.ec.x*d-q.ec.y*e,z=u.cc.x*d-u.cc.y*e,u=u.ec.x*d-u.ec.y*e,e=l+r+n*t*t+m*q*q,d=l+r+n*z*z+m*u*u,m=
l+r+n*t*z+m*q*u,e*e<100*(e*d-m*m)?(f.Fe.k.Set(e,m),f.Fe.n.Set(m,d),f.Fe.Hs(f.vi)):f.Wf=1)}};s.yf=function(a){for(var c=0;c<this.jo;++c){var b=this.gh[c],d=b.P,e=b.R,f=d.K,h=d.U,g=e.K,n=e.U,m=b.Sd.x,l=b.Sd.y,k=l,p=-m,r=0,t=0;if(a.Ki)for(t=b.Wf,r=0;r<t;++r){var u=b.rc[r];u.oc*=a.Lc;u.Bh*=a.Lc;var q=u.oc*m+u.Bh*k,z=u.oc*l+u.Bh*p;d.I-=h*(u.cc.x*z-u.cc.y*q);d.B.x-=f*q;d.B.y-=f*z;e.I+=n*(u.ec.x*z-u.ec.y*q);e.B.x+=g*q;e.B.y+=g*z}else for(t=b.Wf,r=0;r<t;++r)d=b.rc[r],d.oc=0,d.Bh=0}};s.bf=function(){for(var a=
0;a<this.jo;a++)this.aD(this.gh[a])};s.aD=function(a){for(var c=a.Sd.x,b=a.Sd.y,d=0;d<a.Wf;d++)Qd.prototype.bD(a,a.rc[d]);if(1==a.Wf){var d=a.rc[0],e=d.oc-d.vi*((a.R.B.x-a.R.I*d.ec.y-a.P.B.x+a.P.I*d.cc.y)*c+(a.R.B.y+a.R.I*d.ec.x-a.P.B.y-a.P.I*d.cc.x)*b-d.Uo),e=0<e?e:0,f=e-d.oc,h=f*c,b=f*b;a.P.B.x-=a.P.K*h;a.P.B.y-=a.P.K*b;a.P.I-=a.P.U*(d.cc.x*b-d.cc.y*h);a.R.B.x+=a.R.K*h;a.R.B.y+=a.R.K*b;a.R.I+=a.R.U*(d.ec.x*b-d.ec.y*h);d.oc=e}else for(var d=a.rc[0],e=a.rc[1],f=d.oc,h=e.oc,g=(a.R.B.x-a.R.I*d.ec.y-
a.P.B.x+a.P.I*d.cc.y)*c+(a.R.B.y+a.R.I*d.ec.x-a.P.B.y-a.P.I*d.cc.x)*b-d.Uo,b=(a.R.B.x-a.R.I*e.ec.y-a.P.B.x+a.P.I*e.cc.y)*c+(a.R.B.y+a.R.I*e.ec.x-a.P.B.y-a.P.I*e.cc.x)*b-e.Uo,g=g-(a.Fe.k.x*f+a.Fe.n.x*h),b=b-(a.Fe.k.y*f+a.Fe.n.y*h);;){c=-(a.vi.k.x*g+a.vi.n.x*b);if(0<=c){var n=-(a.vi.k.y*g+a.vi.n.y*b);if(0<=n){this.up(a,d,e,c-f,n-h);d.oc=c;e.oc=n;break}}c=-d.vi*g;if(0<=c&&0<=a.Fe.k.y*c+b){this.up(a,d,e,c-f,-h);d.oc=c;e.oc=0;break}c=-e.vi*b;if(0<=c&&0<=a.Fe.n.x*c+g){this.up(a,d,e,-f,c-h);d.oc=0;e.oc=
c;break}if(0<=g&&0<=b){this.up(a,d,e,-f,-h);d.oc=0;e.oc=0;break}break}};s.bD=function(a,c){var b=a.Sd.y,d=-a.Sd.x,e=a.Wg*c.oc,e=V.Ob(c.Bh-c.zH*((a.R.B.x-a.R.I*c.ec.y-a.P.B.x+a.P.I*c.cc.y)*b+(a.R.B.y+a.R.I*c.ec.x-a.P.B.y-a.P.I*c.cc.x)*d),-e,e),f=e-c.Bh,b=f*b,d=f*d;a.P.B.x-=a.P.K*b;a.P.B.y-=a.P.K*d;a.P.I-=a.P.U*(c.cc.x*d-c.cc.y*b);a.R.B.x+=a.R.K*b;a.R.B.y+=a.R.K*d;a.R.I+=a.R.U*(c.ec.x*d-c.ec.y*b);c.Bh=e};s.up=function(a,c,b,d,e){var f=d*a.Sd.x;d*=a.Sd.y;var h=e*a.Sd.x;e*=a.Sd.y;a.P.B.x-=a.P.K*(f+h);
a.P.B.y-=a.P.K*(d+e);a.P.I-=a.P.U*(c.cc.x*d-c.cc.y*f+b.cc.x*e-b.cc.y*h);a.R.B.x+=a.R.K*(f+h);a.R.B.y+=a.R.K*(d+e);a.R.I+=a.R.U*(c.ec.x*d-c.ec.y*f+b.ec.x*e-b.ec.y*h);c.oc=0;b.oc=0};s.Es=function(){for(var a=0;a<this.jo;++a)for(var c=this.gh[a],b=c.wG,d=0;d<c.Wf;++d){var e=b.ua[d],f=c.rc[d];e.Lk=f.oc;e.Pk=f.Bh}};s.$e=function(a){void 0===a&&(a=0);for(var c=0,b=0;b<this.jo;b++){var d=this.gh[b],e=d.P,f=d.R,h=e.X*e.K,g=e.X*e.U,n=f.X*f.K,m=f.X*f.U;ve.xc(d);for(var l=ve.Ea,k=0;k<d.Wf;k++){var p=d.rc[k],
r=ve.ua[k],t=ve.nr[k],u=r.x-e.q.D.x,q=r.y-e.q.D.y,z=r.x-f.q.D.x,r=r.y-f.q.D.y,c=c<t?c:t,t=-p.zE*V.Ob(a*(t+.005),-.2,0),p=t*l.x,t=t*l.y;e.q.D.x-=h*p;e.q.D.y-=h*t;e.q.N-=g*(u*t-q*p);e.Xb();f.q.D.x+=n*p;f.q.D.y+=n*t;f.q.N+=m*(z*t-r*p);f.Xb()}}return-.0075<c};var me=function(a,c){Vd.call(this,a,c)};N(me,Vd);me.prototype.hd=function(a,c){Vd.prototype.hd.call(this,a,c)};me.prototype.Kg=function(){this.Yb.Vc();this.Sb.Vc()};var ke=function(a,c){Vd.call(this,a,c)};N(ke,Vd);ke.prototype.hd=function(a,c){Vd.prototype.hd.call(this,
a,c)};ke.prototype.Kg=function(){a:{var a=this.qf,c=this.Yb.Vc(),b=this.Yb.hb().G,d=this.Sb.Vc(),e=this.Sb.hb().G;a.nc=0;for(var f=e.position.x+(e.A.k.x*d.yb.x+e.A.n.x*d.yb.y)-b.position.x,h=e.position.y+(e.A.k.y*d.yb.x+e.A.n.y*d.yb.y)-b.position.y,e=f*b.A.k.x+h*b.A.k.y,b=f*b.A.n.x+h*b.A.n.y,f=0,h=-Number.MAX_VALUE,g=c.lb+d.lb,n=0;n<c.$a;++n){var m=c.Fa[n].x*(e-c.O[n].x)+c.Fa[n].y*(b-c.O[n].y);if(m>g)break a;m>h&&(h=m,f=n)}m=f+1;m>=c.$a&&(m=0);var n=c.O[f],l=c.O[m];h<Number.MIN_VALUE?(a.nc=1,a.fb=
2,a.ud.J(c.Fa[f]),a.Da.x=.5*(n.x+l.x),a.Da.y=.5*(n.y+l.y),a.ua[0].Da.J(d.yb),a.ua[0].Qf.Rj(0)):0>=(e-n.x)*(l.x-n.x)+(b-n.y)*(l.y-n.y)?(e-n.x)*(e-n.x)+(b-n.y)*(b-n.y)>g*g||(a.nc=1,a.fb=2,a.ud.x=e-n.x,a.ud.y=b-n.y,a.ud.ae(),a.Da.J(n),a.ua[0].Da.J(d.yb),a.ua[0].Qf.Rj(0)):0>=(e-l.x)*(n.x-l.x)+(b-l.y)*(n.y-l.y)?(e-l.x)*(e-l.x)+(b-l.y)*(b-l.y)>g*g||(a.nc=1,a.fb=2,a.ud.x=e-l.x,a.ud.y=b-l.y,a.ud.ae(),a.Da.J(l),a.ua[0].Da.J(d.yb),a.ua[0].Qf.Rj(0)):(m=.5*(n.x+l.x),n=.5*(n.y+l.y),h=(e-m)*c.Fa[f].x+(b-n)*c.Fa[f].y,
h>g||(a.nc=1,a.fb=2,a.ud.x=c.Fa[f].x,a.ud.y=c.Fa[f].y,a.ud.ae(),a.Da.Set(m,n),a.ua[0].Da.J(d.yb),a.ua[0].Qf.Rj(0)))}};var ne=function(a,c){Vd.call(this,a,c)};N(ne,Vd);ne.prototype.hd=function(a,c){Vd.prototype.hd.call(this,a,c)};ne.prototype.Kg=function(){this.Yb.Vc();this.Sb.Vc()};var le=function(a,c){Vd.call(this,a,c)};N(le,Vd);le.prototype.hd=function(a,c){Vd.prototype.hd.call(this,a,c)};le.prototype.Kg=function(){var a=this.qf,c=this.Yb.Vc(),b=this.Yb.hb().G,d=this.Sb.Vc(),e=this.Sb.hb().G;a.nc=
0;var f=c.lb+d.lb,h=bd(c,b,d,e),g=h.Mx;if(!(h.Vr>f)){var n=bd(d,e,c,b);if(!(n.Vr>f)){var m=c,l=d,k=b,p=e,r=0;a.fb=2;n.Vr>.98*h.Vr+.001&&(m=d,l=c,k=e,p=b,g=n.Mx,a.fb=4,r=1);c=g;b=p;d=we;void 0===c&&(c=0);for(var e=k.A.k.x*m.Fa[c].x+k.A.n.x*m.Fa[c].y,h=k.A.k.y*m.Fa[c].x+k.A.n.y*m.Fa[c].y,n=b.A.k.x*e+b.A.k.y*h,h=b.A.n.x*e+b.A.n.y*h,e=n,n=0,t=Number.MAX_VALUE,u=0;u<l.$a;u++){var q=e*l.Fa[u].x+h*l.Fa[u].y;q<t&&(t=q,n=u)}e=n+1;e>=l.$a&&(e=0);d[0].wf.x=b.position.x+(b.A.k.x*l.O[n].x+b.A.n.x*l.O[n].y);d[0].wf.y=
b.position.y+(b.A.k.y*l.O[n].x+b.A.n.y*l.O[n].y);d[0].id.rx(c);d[0].id.ox(n);d[0].id.qx(0);d[1].wf.x=b.position.x+(b.A.k.x*l.O[e].x+b.A.n.x*l.O[e].y);d[1].wf.y=b.position.y+(b.A.k.y*l.O[e].x+b.A.n.y*l.O[e].y);d[1].id.rx(c);d[1].id.ox(e);d[1].id.qx(1);c=m.O[g];g=g+1<m.$a?m.O[g+1]:m.O[0];xe.Set(g.x-c.x,g.y-c.y);xe.ae();ye.x=xe.y;ye.y=-xe.x;ze.Set(.5*(c.x+g.x),.5*(c.y+g.y));Ae.x=k.A.k.x*xe.x+k.A.n.x*xe.y;Ae.y=k.A.k.y*xe.x+k.A.n.y*xe.y;Be.x=-Ae.x;Be.y=-Ae.y;Ce.x=Ae.y;Ce.y=-Ae.x;De.x=k.position.x+(k.A.k.x*
c.x+k.A.n.x*c.y);De.y=k.position.y+(k.A.k.y*c.x+k.A.n.y*c.y);Ee.x=k.position.x+(k.A.k.x*g.x+k.A.n.x*g.y);Ee.y=k.position.y+(k.A.k.y*g.x+k.A.n.y*g.y);if(!(2>$c(Fe,we,Be,-Ae.x*De.x-Ae.y*De.y+f)||2>$c(Ge,Fe,Ae,Ae.x*Ee.x+Ae.y*Ee.y+f))){a.ud.J(ye);a.Da.J(ze);k=Ce.x*De.x+Ce.y*De.y;for(m=g=0;2>m;++m)Ce.x*Ge[m].wf.x+Ce.y*Ge[m].wf.y-k<=f&&(c=Ge[m].wf.x-p.position.x,l=Ge[m].wf.y-p.position.y,a.ua[g].Da.x=c*p.A.k.x+l*p.A.k.y,a.ua[g].Da.y=c*p.A.n.x+l*p.A.n.y,a.ua[g].Qf.Set(Ge[m].id),a.ua[g].Qf.MC(r),g++);a.nc=
g}}}};var Ie=function(){this.Zd="Controller"+He++;this.Ra=null;this.kd=new Cd};Ie.prototype.Kh=function(){};Ie.prototype.bl=function(a){this.kd.bl(a);a.Fm(this)};Ie.prototype.Sm=function(a){this.kd.Sm(a);a.Tm(this)};Ie.prototype.dp=function(){for(var a=this.kd.Xa(Bd);a;a=a.next)this.Sm(a.body)};var He=0,Je=function(){Ie.call(this);this.Sd=O.C(0,-1);this.lg=this.offset=0;this.$A=O.C(0,0);this.$F=2;this.CD=1;this.IH=!0;this.By=null};N(Je,Ie);Je.prototype.Kh=function(){this.IH&&(this.By=this.Ra.wz.Hc());
for(var a=this.kd.Xa(Gd);a;a=a.next){for(var c=a.body,b=O.C(0,0),d=O.C(0,0),e=0,f=0,h=c.Gs().Xa();h;h=h.next){var g=O.C(0,0),n=h.If.Vc().fp(this.Sd,this.offset,c.Ee(),g),e=e+n;b.x+=n*g.x;b.y+=n*g.y;var m=0,m=1,f=f+n*m;d.x+=n*g.x*m;d.y+=n*g.y*m}e<Number.MIN_VALUE||(b.x/=e,b.y/=e,d.x/=f,d.y/=f,f=this.By.Pi(),f.$d(this.lg*e),c.Ig(f,d),f=c.DB(b),f.$s(this.$A),f.$d(-this.$F*e),c.Ig(f,b),c.bp(-c.Of/c.hl()*e*c.kp()*this.CD),O.wc(b),O.wc(d))}};var Ke=function(){Ie.call(this);this.Cw=O.C(0,0)};N(Ke,Ie);Ke.prototype.Kh=
function(a){a=O.C(this.Cw.x*a.Ia,this.Cw.y*a.Ia);for(var c=this.kd.Xa(Gd);c;c=c.next){var b=c.body,d=b.Mj();b.Sj(O.C(d.x+a.x,d.y+a.y))}O.wc(a)};var Le=function(){Ie.call(this);this.zB=O.C(0,0)};N(Le,Ie);Le.prototype.Kh=function(){for(var a=this.kd.Xa(Gd);a;a=a.next){var c=a.body;c.Ig(this.zB,c.il())}};var yd=function(){this.At=this.zt=null;this.Op={}};yd.prototype.Xa=function(){return this.zt};yd.prototype.Fm=function(a){var c=a.Zd;if(null==this.Op[c]){a=new Me(a);var b=this.At;null!=b?b.eg(a):this.zt=
a;a.fg(b);this.At=a;this.Op[c]=a}};yd.prototype.Tm=function(a){a=a.Zd;var c=this.Op[a];if(null!=c){var b=c.Xf,c=c.next;null==b?this.zt=c:b.eg(c);null==c?this.At=b:c.fg(b);delete this.Op[a]}};var Me=function(a){this.Xx=a;this.Xf=this.next=null};Me.prototype.eg=function(a){this.next=a};Me.prototype.fg=function(a){this.Xf=a};var Ne=function(){Ie.call(this);this.Lw=1;this.NF=!0};N(Ne,Ie);Ne.prototype.Kh=function(){var a=null,c=null,b=0,d=null,e=null,f=0,h=0,g=0,f=null;if(this.NF)for(var n=this.kd.Xa(Bd);n;n=
n.next)for(var a=n.body,c=a.il(),b=a.hl(),m=this.kd.Xa(Bd);m;m=m.next){if(d=m.body,a.Id()||d.Id())e=d.il(),f=e.x-c.x,h=e.y-c.y,g=f*f+h*h,g<Number.MIN_VALUE||(f=O.C(f,h),f.$d(this.Lw/g/Math.sqrt(g)*b*d.hl()),a.Id()&&a.Ig(f,c),f.$d(-1),d.Id()&&d.Ig(f,e),O.wc(f))}else for(n=this.kd.Xa(Bd);n;n=n.next)for(a=bodyNode.body,c=a.il(),b=a.hl(),m=this.kd.Xa(Bd);m;m=m.next)if(d=bodyNode.body,a.Id()||d.Id())e=d.il(),f=e.x-c.x,h=e.y-c.y,g=f*f+h*h,g<Number.MIN_VALUE||(f=O.C(f,h),f.$d(this.Lw/g*b*d.hl()),a.Id()&&
a.Ig(f,c),f.$d(-1),d.Id()&&d.Ig(f,e),O.wc(f))};var Oe=function(){Ie.call(this);this.gD=new P;this.qv=0};N(Oe,Ie);Oe.prototype.Kh=function(a){a=a.Ia;if(!(a<=Number.MIN_VALUE)){a>this.qv&&0<this.qv&&(a=this.qv);for(var c=this.kd.Xa(Gd);c;c=c.next){var b=c.body,d=b.Js(V.ic(this.gD,b.Is(b.Mj())));b.Sj(O.C(b.Mj().x+d.x*a,b.Mj().y+d.y*a))}}};var Z=function(a){this.ke=new Pe;this.le=new Pe;this.jh=O.C(0,0);this.kh=O.C(0,0);this.fb=a.type;this.rj=this.Yl=null;this.Y=a.P;this.Z=a.R;this.uz=a.xt};Z.prototype.gd=
function(){return this.fb};Z.prototype.Lm=function(){return this.Y};Z.prototype.Fs=function(){return this.Z};Z.prototype.Ri=function(){return this.Y.Ri()&&this.Z.Ri()};Z.xf=function(a){return a.xf()};Z.prototype.yf=function(){};Z.prototype.bf=function(){};Z.prototype.Es=function(){};Z.prototype.$e=function(){return!1};Z.tE=0;Z.ul=1;Z.rE=2;Z.It=3;Z.sE=4;Z.OI=5;Z.pE=6;Z.qE=7;Z.uE=8;Z.oE=9;Z.ee=0;Z.Tg=1;Z.rd=2;Z.bj=3;var Qe=function(){this.type=Z.tE;this.R=this.P=null;this.xt=!1},Pe=function(){},Re=
function(a){Z.call(this,a);this.ma=O.C(0,0);this.na=O.C(0,0);this.Pc=O.C(0,0);this.ma.J(a.Lb);this.na.J(a.Mb);this.bv=a.length;this.$u=a.rq;this.fG=a.Yp;this.tz=this.Kk=this.H=0};N(Re,Z);Re.prototype.yf=function(a){var c,b=0,d=this.Y,e=this.Z;c=d.G.A;var f=this.ma.x-d.q.T.x,h=this.ma.y-d.q.T.y,b=c.k.x*f+c.n.x*h,h=c.k.y*f+c.n.y*h,f=b;c=e.G.A;var g=this.na.x-e.q.T.x,n=this.na.y-e.q.T.y,b=c.k.x*g+c.n.x*n,n=c.k.y*g+c.n.y*n,g=b;this.Pc.x=e.q.D.x+g-d.q.D.x-f;this.Pc.y=e.q.D.y+n-d.q.D.y-h;b=Math.sqrt(this.Pc.x*
this.Pc.x+this.Pc.y*this.Pc.y);.005<b?this.Pc.$d(1/b):this.Pc.qa();c=f*this.Pc.y-h*this.Pc.x;var m=g*this.Pc.y-n*this.Pc.x;c=d.K+d.U*c*c+e.K+e.U*m*m;this.X=0!=c?1/c:0;if(0<this.$u){var b=b-this.bv,m=2*Math.PI*this.$u,l=this.X*m*m;this.Kk=a.Ia*(2*this.X*this.fG*m+a.Ia*l);this.Kk=0!=this.Kk?1/this.Kk:0;this.tz=b*a.Ia*l*this.Kk;this.X=c+this.Kk;this.X=0!=this.X?1/this.X:0}a.Ki?(this.H*=a.Lc,a=this.H*this.Pc.x,c=this.H*this.Pc.y,d.B.x-=d.K*a,d.B.y-=d.K*c,d.I-=d.U*(f*c-h*a),e.B.x+=e.K*a,e.B.y+=e.K*c,e.I+=
e.U*(g*c-n*a)):this.H=0};Re.prototype.bf=function(){var a=this.ma.x-this.Y.q.T.x,c=this.ma.y-this.Y.q.T.y,b=this.Y.G.A.k.x*a+this.Y.G.A.n.x*c,c=this.Y.G.A.k.y*a+this.Y.G.A.n.y*c,a=b,d=this.na.x-this.Z.q.T.x,e=this.na.y-this.Z.q.T.y,b=this.Z.G.A.k.x*d+this.Z.G.A.n.x*e,e=this.Z.G.A.k.y*d+this.Z.G.A.n.y*e,d=b,f=-this.X*(this.Pc.x*(this.Z.B.x-this.Z.I*e-(this.Y.B.x-this.Y.I*c))+this.Pc.y*(this.Z.B.y+this.Z.I*d-(this.Y.B.y+this.Y.I*a))+this.tz+this.Kk*this.H);this.H+=f;b=f*this.Pc.x;f*=this.Pc.y;this.Y.B.x-=
this.Y.K*b;this.Y.B.y-=this.Y.K*f;this.Y.I-=this.Y.U*(a*f-c*b);this.Z.B.x+=this.Z.K*b;this.Z.B.y+=this.Z.K*f;this.Z.I+=this.Z.U*(d*f-e*b)};Re.prototype.$e=function(){if(0<this.$u)return!0;var a=this.ma.x-this.Y.q.T.x,c=this.ma.y-this.Y.q.T.y,b=this.Y.G.A.k.x*a+this.Y.G.A.n.x*c,c=this.Y.G.A.k.y*a+this.Y.G.A.n.y*c,a=b,d=this.na.x-this.Z.q.T.x,e=this.na.y-this.Z.q.T.y,b=this.Z.G.A.k.x*d+this.Z.G.A.n.x*e,e=this.Z.G.A.k.y*d+this.Z.G.A.n.y*e,d=b,f=this.Z.q.D.x+d-this.Y.q.D.x-a,h=this.Z.q.D.y+e-this.Y.q.D.y-
c,g=Math.sqrt(f*f+h*h),b=V.Ob(g-this.bv,-.2,.2),n=-this.X*b;this.Pc.Set(f/g,h/g);f=n*this.Pc.x;n*=this.Pc.y;this.Y.q.D.x-=this.Y.K*f;this.Y.q.D.y-=this.Y.K*n;this.Y.q.N-=this.Y.U*(a*n-c*f);this.Z.q.D.x+=this.Z.K*f;this.Z.q.D.y+=this.Z.K*n;this.Z.q.N+=this.Z.U*(d*n-e*f);this.Y.Xb();this.Z.Xb();return.005>Math.abs(b)};var Gc=function(){Qe.call(this);this.Lb=O.C(0,0);this.Mb=O.C(0,0);this.type=Z.It;this.length=1;this.Yp=this.rq=0};N(Gc,Qe);Gc.prototype.xc=function(a,c,b,d){this.P=a;this.R=c;this.Lb.J(this.P.Hd(b));
this.Mb.J(this.R.Hd(d));a=d.x-b.x;b=d.y-b.y;this.length=Math.sqrt(a*a+b*b);this.Yp=this.rq=0};Gc.prototype.xf=function(){return new Re(this)};var Se=function(a){Z.call(this,a);this.nf=O.C(0,0);this.of=O.C(0,0);this.gv=new P;this.lf=O.C(0,0);this.nf.J(a.Lb);this.of.J(a.Mb);this.gv.qa();this.ho=0;this.lf.qa();this.hi=0;this.qG=a.yG;this.sG=a.zG};N(Se,Z);Se.prototype.yf=function(a){var c,b=0,d=this.Y,e=this.Z;c=d.G.A;var f=this.nf.x-d.q.T.x,h=this.nf.y-d.q.T.y,b=c.k.x*f+c.n.x*h,h=c.k.y*f+c.n.y*h,f=b;
c=e.G.A;var g=this.of.x-e.q.T.x,n=this.of.y-e.q.T.y,b=c.k.x*g+c.n.x*n,n=c.k.y*g+c.n.y*n,g=b;c=d.K;var b=e.K,m=d.U,l=e.U,k=new P;k.k.x=c+b;k.n.x=0;k.k.y=0;k.n.y=c+b;k.k.x+=m*h*h;k.n.x+=-m*f*h;k.k.y+=-m*f*h;k.n.y+=m*f*f;k.k.x+=l*n*n;k.n.x+=-l*g*n;k.k.y+=-l*g*n;k.n.y+=l*g*g;k.Hs(this.gv);this.ho=m+l;0<this.ho&&(this.ho=1/this.ho);a.Ki?(this.lf.x*=a.Lc,this.lf.y*=a.Lc,this.hi*=a.Lc,a=this.lf,d.B.x-=c*a.x,d.B.y-=c*a.y,d.I-=m*(f*a.y-h*a.x+this.hi),e.B.x+=b*a.x,e.B.y+=b*a.y,e.I+=l*(g*a.y-n*a.x+this.hi)):
(this.lf.qa(),this.hi=0)};Se.prototype.bf=function(a){var c,b=0,d=this.Y,e=this.Z,f=d.B,h=d.I,g=e.B,n=e.I,m=d.K,l=e.K,k=d.U,p=e.U;c=d.G.A;var r=this.nf.x-d.q.T.x,t=this.nf.y-d.q.T.y,b=c.k.x*r+c.n.x*t,t=c.k.y*r+c.n.y*t,r=b;c=e.G.A;var u=this.of.x-e.q.T.x,q=this.of.y-e.q.T.y,b=c.k.x*u+c.n.x*q,q=c.k.y*u+c.n.y*q,u=b;c=0;var b=-this.ho*(n-h),z=this.hi;c=a.Ia*this.sG;this.hi=V.Ob(this.hi+b,-c,c);b=this.hi-z;h-=k*b;n+=p*b;c=V.ic(this.gv,O.C(-(g.x-n*q-f.x+h*t),-(g.y+n*u-f.y-h*r)));b=this.lf.Hc();this.lf.Gh(c);
c=a.Ia*this.qG;this.lf.qp()>c*c&&(this.lf.ae(),this.lf.$d(c));c=V.Kb(this.lf,b);f.x-=m*c.x;f.y-=m*c.y;h-=k*(r*c.y-t*c.x);g.x+=l*c.x;g.y+=l*c.y;n+=p*(u*c.y-q*c.x);d.I=h;e.I=n};Se.prototype.$e=function(){return!0};var Te=function(){Qe.call(this);this.Lb=O.C(0,0);this.Mb=O.C(0,0);this.type=Z.oE;this.zG=this.yG=0};N(Te,Qe);Te.prototype.xc=function(a,c,b){this.P=a;this.R=c;this.Lb.J(this.P.Hd(b));this.Mb.J(this.R.Hd(b))};Te.prototype.xf=function(){return new Se(this)};var Ve=function(a){Z.call(this,a);
this.ni=O.C(0,0);this.oi=O.C(0,0);this.ma=O.C(0,0);this.na=O.C(0,0);this.Rb=new Ue;var c=a.Nl.fb,b=a.Ol.fb;this.$l=this.Ok=this.Zl=this.Nk=null;var d=0,e=0;this.iG=a.Nl.Lm();this.Y=a.Nl.Fs();c==Z.ul?(this.Nk=a.Nl,this.ni.J(this.Nk.ma),this.ma.J(this.Nk.na),d=this.Nk.lp()):(this.Zl=a.Nl,this.ni.J(this.Zl.ma),this.ma.J(this.Zl.na),d=this.Zl.Nm());this.jG=a.Ol.Lm();this.Z=a.Ol.Fs();b==Z.ul?(this.Ok=a.Ol,this.oi.J(this.Ok.ma),this.na.J(this.Ok.na),e=this.Ok.lp()):(this.$l=a.Ol,this.oi.J(this.$l.ma),this.na.J(this.$l.na),
e=this.$l.Nm());this.ac=a.Ve;this.Xl=d+this.ac*e;this.H=0};N(Ve,Z);Ve.prototype.yf=function(a){var c=this.iG,b=this.jG,d=this.Y,e=this.Z,f=0,h=0,g=0,n=0,m=g=0,l=0;this.Rb.qa();this.Nk?(this.Rb.Uj=-1,l+=d.U):(c=c.G.A,h=this.Zl.we,f=c.k.x*h.x+c.n.x*h.y,h=c.k.y*h.x+c.n.y*h.y,c=d.G.A,g=this.ma.x-d.q.T.x,n=this.ma.y-d.q.T.y,m=c.k.x*g+c.n.x*n,n=c.k.y*g+c.n.y*n,g=m*h-n*f,this.Rb.rg.Set(-f,-h),this.Rb.Uj=-g,l+=d.K+d.U*g*g);this.Ok?(this.Rb.Vj=-this.ac,l+=this.ac*this.ac*e.U):(c=b.G.A,h=this.$l.we,f=c.k.x*
h.x+c.n.x*h.y,h=c.k.y*h.x+c.n.y*h.y,c=e.G.A,g=this.na.x-e.q.T.x,n=this.na.y-e.q.T.y,m=c.k.x*g+c.n.x*n,n=c.k.y*g+c.n.y*n,g=m*h-n*f,this.Rb.sg.Set(-this.ac*f,-this.ac*h),this.Rb.Vj=-this.ac*g,l+=this.ac*this.ac*(e.K+e.U*g*g));this.X=0<l?1/l:0;a.Ki?(d.B.x+=d.K*this.H*this.Rb.rg.x,d.B.y+=d.K*this.H*this.Rb.rg.y,d.I+=d.U*this.H*this.Rb.Uj,e.B.x+=e.K*this.H*this.Rb.sg.x,e.B.y+=e.K*this.H*this.Rb.sg.y,e.I+=e.U*this.H*this.Rb.Vj):this.H=0};Ve.prototype.bf=function(){var a=this.Y,c=this.Z,b=-this.X*this.Rb.tB(a.B,
a.I,c.B,c.I);this.H+=b;a.B.x+=a.K*b*this.Rb.rg.x;a.B.y+=a.K*b*this.Rb.rg.y;a.I+=a.U*b*this.Rb.Uj;c.B.x+=c.K*b*this.Rb.sg.x;c.B.y+=c.K*b*this.Rb.sg.y;c.I+=c.U*b*this.Rb.Vj};Ve.prototype.$e=function(){var a=this.Y,c=this.Z,b=0,d=0,b=this.Nk?this.Nk.lp():this.Zl.Nm(),d=this.Ok?this.Ok.lp():this.$l.Nm(),b=-this.X*(this.Xl-(b+this.ac*d));a.q.D.x+=a.K*b*this.Rb.rg.x;a.q.D.y+=a.K*b*this.Rb.rg.y;a.q.N+=a.U*b*this.Rb.Uj;c.q.D.x+=c.K*b*this.Rb.sg.x;c.q.D.y+=c.K*b*this.Rb.sg.y;c.q.N+=c.U*b*this.Rb.Vj;a.Xb();
c.Xb();return!0};var We=function(){Qe.call(this);this.type=Z.pE;this.Ol=this.Nl=null;this.Ve=1};N(We,Qe);We.prototype.xc=function(a,c,b){this.Nl=a;this.P=a.Lm();this.Ol=c;this.R=c.Lm();this.Ve=b};We.prototype.xf=function(){return new Ve(this)};var Ue=function(){this.rg=O.C(0,0);this.sg=O.C(0,0)};Ue.prototype.qa=function(){this.rg.qa();this.Uj=0;this.sg.qa();this.Vj=0};Ue.prototype.Set=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);this.rg.J(a);this.Uj=c;this.sg.J(b);this.Vj=d};Ue.prototype.tB=
function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);return this.rg.x*a.x+this.rg.y*a.y+this.Uj*c+(this.sg.x*b.x+this.sg.y*b.y)+this.Vj*d};var Xe=function(a){Z.call(this,a);this.ma=O.C(0,0);this.na=O.C(0,0);this.we=O.C(0,0);this.pi=O.C(0,0);this.W=O.C(0,0);this.ra=O.C(0,0);this.ka=new P;this.H=O.C(0,0);this.ma.J(a.Lb);this.na.J(a.Mb);this.we.J(a.Fk);this.pi.x=-this.we.y;this.pi.y=this.we.x;this.H.qa();this.Za=this.me=0;this.pf=a.Vu;this.rf=a.sw;this.hv=a.pv;this.oo=a.hm;this.ug=a.hk;this.qj=a.wl;
this.La=Z.ee;this.W.qa();this.ra.qa()};N(Xe,Z);Xe.prototype.Nm=function(){var a=this.Y,c=this.Z,b=a.op(this.ma),d=c.op(this.na),c=d.x-b.x,b=d.y-b.y,a=a.Js(this.we);return a.x*c+a.y*b};Xe.prototype.yf=function(a){var c=this.Y,b=this.Z,d,e=0;this.jh.J(c.Nj());this.kh.J(b.Nj());var f=c.Ee();b.Ee();d=c.G.A;var h=this.ma.x-this.jh.x,g=this.ma.y-this.jh.y,e=d.k.x*h+d.n.x*g,g=d.k.y*h+d.n.y*g,h=e;d=b.G.A;var n=this.na.x-this.kh.x,m=this.na.y-this.kh.y,e=d.k.x*n+d.n.x*m,m=d.k.y*n+d.n.y*m,n=e;d=b.q.D.x+n-c.q.D.x-
h;e=b.q.D.y+m-c.q.D.y-g;this.Zb=c.K;this.$b=b.K;this.Pd=c.U;this.Qd=b.U;this.W.J(V.ic(f.A,this.we));this.mb=(d+h)*this.W.y-(e+g)*this.W.x;this.nb=n*this.W.y-m*this.W.x;this.me=this.Zb+this.$b+this.Pd*this.mb*this.mb+this.Qd*this.nb*this.nb;this.me=this.me>Number.MIN_VALUE?1/this.me:0;this.ra.J(V.ic(f.A,this.pi));this.tb=(d+h)*this.ra.y-(e+g)*this.ra.x;this.ub=n*this.ra.y-m*this.ra.x;f=this.Zb;h=this.$b;g=this.Pd;n=this.Qd;this.ka.k.x=f+h+g*this.tb*this.tb+n*this.ub*this.ub;this.ka.k.y=g*this.tb*this.mb+
n*this.ub*this.nb;this.ka.n.x=this.ka.k.y;this.ka.n.y=f+h+g*this.mb*this.mb+n*this.nb*this.nb;this.ug?(d=this.W.x*d+this.W.y*e,.01>Math.abs(this.rf-this.pf)?this.La=Z.bj:d<=this.pf?this.La!=Z.Tg&&(this.La=Z.Tg,this.H.y=0):d>=this.rf?this.La!=Z.rd&&(this.La=Z.rd,this.H.y=0):(this.La=Z.ee,this.H.y=0)):this.La=Z.ee;0==this.qj&&(this.Za=0);a.Ki?(this.H.x*=a.Lc,this.H.y*=a.Lc,this.Za*=a.Lc,a=this.H.x*this.ra.x+(this.Za+this.H.y)*this.W.x,d=this.H.x*this.ra.y+(this.Za+this.H.y)*this.W.y,e=this.H.x*this.tb+
(this.Za+this.H.y)*this.mb,f=this.H.x*this.ub+(this.Za+this.H.y)*this.nb,c.B.x-=this.Zb*a,c.B.y-=this.Zb*d,c.I-=this.Pd*e,b.B.x+=this.$b*a,b.B.y+=this.$b*d,b.I+=this.Qd*f):(this.H.qa(),this.Za=0)};Xe.prototype.bf=function(a){var c=this.Y,b=this.Z,d=c.B,e=c.I,f=b.B,h=b.I,g=0,n=0,m=0,l=0;this.qj&&this.La!=Z.bj&&(l=this.me*(this.oo-(this.W.x*(f.x-d.x)+this.W.y*(f.y-d.y)+this.nb*h-this.mb*e)),g=this.Za,n=a.Ia*this.hv,this.Za=V.Ob(this.Za+l,-n,n),l=this.Za-g,g=l*this.W.x,n=l*this.W.y,m=l*this.mb,l*=this.nb,
d.x-=this.Zb*g,d.y-=this.Zb*n,e-=this.Pd*m,f.x+=this.$b*g,f.y+=this.$b*n,h+=this.Qd*l);n=this.ra.x*(f.x-d.x)+this.ra.y*(f.y-d.y)+this.ub*h-this.tb*e;this.ug&&this.La!=Z.ee?(m=this.W.x*(f.x-d.x)+this.W.y*(f.y-d.y)+this.nb*h-this.mb*e,g=this.H.Hc(),a=this.ka.Ti(O.C(0,0),-n,-m),this.H.Gh(a),this.La==Z.Tg?this.H.y=Math.max(this.H.y,0):this.La==Z.rd&&(this.H.y=Math.min(this.H.y,0)),n=-n-(this.H.y-g.y)*this.ka.n.x,m=0,m=0!=this.ka.k.x?n/this.ka.k.x+g.x:g.x,this.H.x=m,a.x=this.H.x-g.x,a.y=this.H.y-g.y,g=
a.x*this.ra.x+a.y*this.W.x,n=a.x*this.ra.y+a.y*this.W.y,m=a.x*this.tb+a.y*this.mb,l=a.x*this.ub+a.y*this.nb):(a=0,a=0!=this.ka.k.x?-n/this.ka.k.x:0,this.H.x+=a,g=a*this.ra.x,n=a*this.ra.y,m=a*this.tb,l=a*this.ub);d.x-=this.Zb*g;d.y-=this.Zb*n;e-=this.Pd*m;f.x+=this.$b*g;f.y+=this.$b*n;h+=this.Qd*l;c.B.J(d);c.I=e;b.B.J(f);b.I=h};Xe.prototype.$e=function(){var a=this.Y,c=this.Z,b=a.q.D,d=a.q.N,e=c.q.D,f=c.q.N,h,g=0,n=0,m=0,l=0,k=h=0,p=0,n=!1,r=0,t=P.gl(d),m=P.gl(f);h=t;var p=this.ma.x-this.jh.x,u=this.ma.y-
this.jh.y,g=h.k.x*p+h.n.x*u,u=h.k.y*p+h.n.y*u,p=g;h=m;m=this.na.x-this.kh.x;l=this.na.y-this.kh.y;g=h.k.x*m+h.n.x*l;l=h.k.y*m+h.n.y*l;m=g;h=e.x+m-b.x-p;g=e.y+l-b.y-u;if(this.ug){this.W=V.ic(t,this.we);this.mb=(h+p)*this.W.y-(g+u)*this.W.x;this.nb=m*this.W.y-l*this.W.x;var q=this.W.x*h+this.W.y*g;.01>Math.abs(this.rf-this.pf)?(r=V.Ob(q,-.2,.2),k=Math.abs(q),n=!0):q<=this.pf?(r=V.Ob(q-this.pf+.005,-.2,0),k=this.pf-q,n=!0):q>=this.rf&&(r=V.Ob(q-this.rf+.005,0,.2),k=q-this.rf,n=!0)}this.ra=V.ic(t,this.pi);
this.tb=(h+p)*this.ra.y-(g+u)*this.ra.x;this.ub=m*this.ra.y-l*this.ra.x;t=O.C(0,0);u=this.ra.x*h+this.ra.y*g;k=Math.max(k,Math.abs(u));p=0;n?(n=this.Zb,m=this.$b,l=this.Pd,h=this.Qd,this.ka.k.x=n+m+l*this.tb*this.tb+h*this.ub*this.ub,this.ka.k.y=l*this.tb*this.mb+h*this.ub*this.nb,this.ka.n.x=this.ka.k.y,this.ka.n.y=n+m+l*this.mb*this.mb+h*this.nb*this.nb,this.ka.Ti(t,-u,-r)):(n=this.Zb,m=this.$b,l=this.Pd,h=this.Qd,r=n+m+l*this.tb*this.tb+h*this.ub*this.ub,t.x=0!=r?-u/r:0,t.y=0);r=t.x*this.ra.x+
t.y*this.W.x;n=t.x*this.ra.y+t.y*this.W.y;u=t.x*this.tb+t.y*this.mb;t=t.x*this.ub+t.y*this.nb;b.x-=this.Zb*r;b.y-=this.Zb*n;d-=this.Pd*u;e.x+=this.$b*r;e.y+=this.$b*n;f+=this.Qd*t;a.q.N=d;c.q.N=f;a.Xb();c.Xb();return.005>=k&&p<=Ic};var Ye=function(){Qe.call(this);this.Lb=O.C(0,0);this.Mb=O.C(0,0);this.Fk=O.C(0,0);this.type=Z.qE;this.Fk.Set(1,0);this.hk=!1;this.sw=this.Vu=0;this.wl=!1;this.hm=this.pv=0};N(Ye,Qe);Ye.prototype.xc=function(a,c,b,d){this.P=a;this.R=c;this.Lb=this.P.Hd(b);this.Mb=this.R.Hd(b);
this.Fk=this.P.Is(d)};Ye.prototype.xf=function(){return new Xe(this)};var Ze=function(a){Z.call(this,a);this.ma=O.C(0,0);this.na=O.C(0,0);this.we=O.C(0,0);this.pi=O.C(0,0);this.W=O.C(0,0);this.ra=O.C(0,0);this.ka=new Pc;this.H=new Oc(0,0,0);this.ma.J(a.Lb);this.na.J(a.Mb);this.we.J(a.Fk);this.pi.x=-this.we.y;this.pi.y=this.we.x;this.tG=a.vh;this.H.qa();this.Za=this.me=0;this.pf=a.Vu;this.rf=a.sw;this.hv=a.pv;this.oo=a.hm;this.ug=a.hk;this.qj=a.wl;this.La=Z.ee;this.W.qa();this.ra.qa()};N(Ze,Z);Ze.prototype.Nm=
function(){var a=this.Y,c=this.Z,b=a.op(this.ma),d=c.op(this.na),c=d.x-b.x,b=d.y-b.y,a=a.Js(this.we);return a.x*c+a.y*b};Ze.prototype.yf=function(a){var c=this.Y,b=this.Z,d,e=0;this.jh.J(c.Nj());this.kh.J(b.Nj());var f=c.Ee();b.Ee();d=c.G.A;var h=this.ma.x-this.jh.x,g=this.ma.y-this.jh.y,e=d.k.x*h+d.n.x*g,g=d.k.y*h+d.n.y*g,h=e;d=b.G.A;var n=this.na.x-this.kh.x,m=this.na.y-this.kh.y,e=d.k.x*n+d.n.x*m,m=d.k.y*n+d.n.y*m,n=e;d=b.q.D.x+n-c.q.D.x-h;e=b.q.D.y+m-c.q.D.y-g;this.Zb=c.K;this.$b=b.K;this.Pd=
c.U;this.Qd=b.U;this.W.J(V.ic(f.A,this.we));this.mb=(d+h)*this.W.y-(e+g)*this.W.x;this.nb=n*this.W.y-m*this.W.x;this.me=this.Zb+this.$b+this.Pd*this.mb*this.mb+this.Qd*this.nb*this.nb;this.me>Number.MIN_VALUE&&(this.me=1/this.me);this.ra.J(V.ic(f.A,this.pi));this.tb=(d+h)*this.ra.y-(e+g)*this.ra.x;this.ub=n*this.ra.y-m*this.ra.x;f=this.Zb;h=this.$b;g=this.Pd;n=this.Qd;this.ka.k.x=f+h+g*this.tb*this.tb+n*this.ub*this.ub;this.ka.k.y=g*this.tb+n*this.ub;this.ka.k.z=g*this.tb*this.mb+n*this.ub*this.nb;
this.ka.n.x=this.ka.k.y;this.ka.n.y=g+n;this.ka.n.z=g*this.mb+n*this.nb;this.ka.Ba.x=this.ka.k.z;this.ka.Ba.y=this.ka.n.z;this.ka.Ba.z=f+h+g*this.mb*this.mb+n*this.nb*this.nb;this.ug?(d=this.W.x*d+this.W.y*e,.01>Math.abs(this.rf-this.pf)?this.La=Z.bj:d<=this.pf?this.La!=Z.Tg&&(this.La=Z.Tg,this.H.z=0):d>=this.rf?this.La!=Z.rd&&(this.La=Z.rd,this.H.z=0):(this.La=Z.ee,this.H.z=0)):this.La=Z.ee;0==this.qj&&(this.Za=0);a.Ki?(this.H.x*=a.Lc,this.H.y*=a.Lc,this.Za*=a.Lc,a=this.H.x*this.ra.x+(this.Za+this.H.z)*
this.W.x,d=this.H.x*this.ra.y+(this.Za+this.H.z)*this.W.y,e=this.H.x*this.tb+this.H.y+(this.Za+this.H.z)*this.mb,f=this.H.x*this.ub+this.H.y+(this.Za+this.H.z)*this.nb,c.B.x-=this.Zb*a,c.B.y-=this.Zb*d,c.I-=this.Pd*e,b.B.x+=this.$b*a,b.B.y+=this.$b*d,b.I+=this.Qd*f):(this.H.qa(),this.Za=0)};Ze.prototype.bf=function(a){var c=this.Y,b=this.Z,d=c.B,e=c.I,f=b.B,h=b.I,g=0,n=0,m=0,l=0;this.qj&&this.La!=Z.bj&&(l=this.me*(this.oo-(this.W.x*(f.x-d.x)+this.W.y*(f.y-d.y)+this.nb*h-this.mb*e)),g=this.Za,a=a.Ia*
this.hv,this.Za=V.Ob(this.Za+l,-a,a),l=this.Za-g,g=l*this.W.x,n=l*this.W.y,m=l*this.mb,l*=this.nb,d.x-=this.Zb*g,d.y-=this.Zb*n,e-=this.Pd*m,f.x+=this.$b*g,f.y+=this.$b*n,h+=this.Qd*l);m=this.ra.x*(f.x-d.x)+this.ra.y*(f.y-d.y)+this.ub*h-this.tb*e;n=h-e;this.ug&&this.La!=Z.ee?(a=this.W.x*(f.x-d.x)+this.W.y*(f.y-d.y)+this.nb*h-this.mb*e,g=this.H.Hc(),a=this.ka.Ym(new Oc(0,0,0),-m,-n,-a),this.H.Gh(a),this.La==Z.Tg?this.H.z=Math.max(this.H.z,0):this.La==Z.rd&&(this.H.z=Math.min(this.H.z,0)),m=-m-(this.H.z-
g.z)*this.ka.Ba.x,n=-n-(this.H.z-g.z)*this.ka.Ba.y,n=this.ka.ml(O.C(0,0),m,n),n.x+=g.x,n.y+=g.y,this.H.x=n.x,this.H.y=n.y,a.x=this.H.x-g.x,a.y=this.H.y-g.y,a.z=this.H.z-g.z,g=a.x*this.ra.x+a.z*this.W.x,n=a.x*this.ra.y+a.z*this.W.y,m=a.x*this.tb+a.y+a.z*this.mb,l=a.x*this.ub+a.y+a.z*this.nb):(a=this.ka.ml(O.C(0,0),-m,-n),this.H.x+=a.x,this.H.y+=a.y,g=a.x*this.ra.x,n=a.x*this.ra.y,m=a.x*this.tb+a.y,l=a.x*this.ub+a.y);d.x-=this.Zb*g;d.y-=this.Zb*n;e-=this.Pd*m;f.x+=this.$b*g;f.y+=this.$b*n;h+=this.Qd*
l;c.B.J(d);c.I=e;b.B.J(f);b.I=h};Ze.prototype.$e=function(){var a=this.Y,c=this.Z,b=a.q.D,d=a.q.N,e=c.q.D,f=c.q.N,h,g=0,n=0,m=0,l=g=h=0,k=0,n=!1,p=0,r=P.gl(d),t=P.gl(f);h=r;var k=this.ma.x-this.jh.x,u=this.ma.y-this.jh.y,g=h.k.x*k+h.n.x*u,u=h.k.y*k+h.n.y*u,k=g;h=t;t=this.na.x-this.kh.x;m=this.na.y-this.kh.y;g=h.k.x*t+h.n.x*m;m=h.k.y*t+h.n.y*m;t=g;h=e.x+t-b.x-k;g=e.y+m-b.y-u;if(this.ug){this.W=V.ic(r,this.we);this.mb=(h+k)*this.W.y-(g+u)*this.W.x;this.nb=t*this.W.y-m*this.W.x;var q=this.W.x*h+this.W.y*
g;.01>Math.abs(this.rf-this.pf)?(p=V.Ob(q,-.2,.2),l=Math.abs(q),n=!0):q<=this.pf?(p=V.Ob(q-this.pf+.005,-.2,0),l=this.pf-q,n=!0):q>=this.rf&&(p=V.Ob(q-this.rf+.005,0,.2),l=q-this.rf,n=!0)}this.ra=V.ic(r,this.pi);this.tb=(h+k)*this.ra.y-(g+u)*this.ra.x;this.ub=t*this.ra.y-m*this.ra.x;r=new Oc(0,0,0);u=this.ra.x*h+this.ra.y*g;t=f-d-this.tG;l=Math.max(l,Math.abs(u));k=Math.abs(t);n?(n=this.Zb,m=this.$b,h=this.Pd,g=this.Qd,this.ka.k.x=n+m+h*this.tb*this.tb+g*this.ub*this.ub,this.ka.k.y=h*this.tb+g*this.ub,
this.ka.k.z=h*this.tb*this.mb+g*this.ub*this.nb,this.ka.n.x=this.ka.k.y,this.ka.n.y=h+g,this.ka.n.z=h*this.mb+g*this.nb,this.ka.Ba.x=this.ka.k.z,this.ka.Ba.y=this.ka.n.z,this.ka.Ba.z=n+m+h*this.mb*this.mb+g*this.nb*this.nb,this.ka.Ym(r,-u,-t,-p)):(n=this.Zb,m=this.$b,h=this.Pd,g=this.Qd,p=h*this.tb+g*this.ub,q=h+g,this.ka.k.Set(n+m+h*this.tb*this.tb+g*this.ub*this.ub,p,0),this.ka.n.Set(p,q,0),p=this.ka.ml(O.C(0,0),-u,-t),r.x=p.x,r.y=p.y,r.z=0);p=r.x*this.ra.x+r.z*this.W.x;n=r.x*this.ra.y+r.z*this.W.y;
u=r.x*this.tb+r.y+r.z*this.mb;r=r.x*this.ub+r.y+r.z*this.nb;b.x-=this.Zb*p;b.y-=this.Zb*n;d-=this.Pd*u;e.x+=this.$b*p;e.y+=this.$b*n;f+=this.Qd*r;a.q.N=d;c.q.N=f;a.Xb();c.Xb();return.005>=l&&k<=Ic};var $e=function(){Qe.call(this);this.Lb=O.C(0,0);this.Mb=O.C(0,0);this.Fk=O.C(0,0);this.type=Z.rE;this.Fk.Set(1,0);this.vh=0;this.hk=!1;this.sw=this.Vu=0;this.wl=!1;this.hm=this.pv=0};N($e,Qe);$e.prototype.xc=function(a,c,b,d){this.P=a;this.R=c;this.Lb=this.P.Hd(b);this.Mb=this.R.Hd(b);this.Fk=this.P.Is(d);
this.vh=this.R.Yd()-this.P.Yd()};$e.prototype.xf=function(){return new Ze(this)};var bf=function(a){Z.call(this,a);this.ni=O.C(0,0);this.oi=O.C(0,0);this.ma=O.C(0,0);this.na=O.C(0,0);this.zb=O.C(0,0);this.Ab=O.C(0,0);this.Pf=this.Y.Ra.kG;this.ni.x=a.vq.x-this.Pf.G.position.x;this.ni.y=a.vq.y-this.Pf.G.position.y;this.oi.x=a.wq.x-this.Pf.G.position.x;this.oi.y=a.wq.y-this.Pf.G.position.y;this.ma.J(a.Lb);this.na.J(a.Mb);this.ac=a.Ve;this.Xl=a.Hu+this.ac*a.Iu;this.yz=Math.min(a.Az,this.Xl-this.ac*af);
this.zz=Math.min(a.Bz,(this.Xl-af)/this.ac);this.ih=this.hh=this.H=0};N(bf,Z);bf.prototype.yf=function(a){var c=this.Y,b=this.Z,d;d=c.G.A;var e=this.ma.x-c.q.T.x,f=this.ma.y-c.q.T.y,h=d.k.x*e+d.n.x*f,f=d.k.y*e+d.n.y*f,e=h;d=b.G.A;var g=this.na.x-b.q.T.x,n=this.na.y-b.q.T.y,h=d.k.x*g+d.n.x*n,n=d.k.y*g+d.n.y*n,g=h;d=b.q.D.x+g;var h=b.q.D.y+n,m=this.Pf.G.position.x+this.oi.x,l=this.Pf.G.position.y+this.oi.y;this.zb.Set(c.q.D.x+e-(this.Pf.G.position.x+this.ni.x),c.q.D.y+f-(this.Pf.G.position.y+this.ni.y));
this.Ab.Set(d-m,h-l);d=this.zb.Mg();h=this.Ab.Mg();.005<d?this.zb.$d(1/d):this.zb.qa();.005<h?this.Ab.$d(1/h):this.Ab.qa();0<this.Xl-d-this.ac*h?(this.lv=Z.ee,this.H=0):this.lv=Z.rd;d<this.yz?(this.cv=Z.ee,this.hh=0):this.cv=Z.rd;h<this.zz?(this.dv=Z.ee,this.ih=0):this.dv=Z.rd;d=e*this.zb.y-f*this.zb.x;h=g*this.Ab.y-n*this.Ab.x;this.lo=c.K+c.U*d*d;this.no=b.K+b.U*h*h;this.mr=this.lo+this.ac*this.ac*this.no;this.lo=1/this.lo;this.no=1/this.no;this.mr=1/this.mr;a.Ki?(this.H*=a.Lc,this.hh*=a.Lc,this.ih*=
a.Lc,a=(-this.H-this.hh)*this.zb.x,d=(-this.H-this.hh)*this.zb.y,h=(-this.ac*this.H-this.ih)*this.Ab.x,m=(-this.ac*this.H-this.ih)*this.Ab.y,c.B.x+=c.K*a,c.B.y+=c.K*d,c.I+=c.U*(e*d-f*a),b.B.x+=b.K*h,b.B.y+=b.K*m,b.I+=b.U*(g*m-n*h)):this.ih=this.hh=this.H=0};bf.prototype.bf=function(){var a=this.Y,c=this.Z,b;b=a.G.A;var d=this.ma.x-a.q.T.x,e=this.ma.y-a.q.T.y,f=b.k.x*d+b.n.x*e,e=b.k.y*d+b.n.y*e,d=f;b=c.G.A;var h=this.na.x-c.q.T.x,g=this.na.y-c.q.T.y,f=b.k.x*h+b.n.x*g,g=b.k.y*h+b.n.y*g,h=f,n=f=b=0,
m=0;b=m=b=m=n=f=b=0;this.lv==Z.rd&&(b=a.B.x+-a.I*e,f=a.B.y+a.I*d,n=c.B.x+-c.I*g,m=c.B.y+c.I*h,b=-(this.zb.x*b+this.zb.y*f)-this.ac*(this.Ab.x*n+this.Ab.y*m),m=this.mr*-b,b=this.H,this.H=Math.max(0,this.H+m),m=this.H-b,b=-m*this.zb.x,f=-m*this.zb.y,n=-this.ac*m*this.Ab.x,m=-this.ac*m*this.Ab.y,a.B.x+=a.K*b,a.B.y+=a.K*f,a.I+=a.U*(d*f-e*b),c.B.x+=c.K*n,c.B.y+=c.K*m,c.I+=c.U*(h*m-g*n));this.cv==Z.rd&&(b=a.B.x+-a.I*e,f=a.B.y+a.I*d,b=-(this.zb.x*b+this.zb.y*f),m=-this.lo*b,b=this.hh,this.hh=Math.max(0,
this.hh+m),m=this.hh-b,b=-m*this.zb.x,f=-m*this.zb.y,a.B.x+=a.K*b,a.B.y+=a.K*f,a.I+=a.U*(d*f-e*b));this.dv==Z.rd&&(n=c.B.x+-c.I*g,m=c.B.y+c.I*h,b=-(this.Ab.x*n+this.Ab.y*m),m=-this.no*b,b=this.ih,this.ih=Math.max(0,this.ih+m),m=this.ih-b,n=-m*this.Ab.x,m=-m*this.Ab.y,c.B.x+=c.K*n,c.B.y+=c.K*m,c.I+=c.U*(h*m-g*n))};bf.prototype.$e=function(){var a=this.Y,c=this.Z,b,d=this.Pf.G.position.x+this.ni.x,e=this.Pf.G.position.y+this.ni.y,f=this.Pf.G.position.x+this.oi.x,h=this.Pf.G.position.y+this.oi.y,g=0,
n=0,m=0,l=0,k=b=0,p=0,r=0,t=k=r=b=k=b=0;this.lv==Z.rd&&(b=a.G.A,g=this.ma.x-a.q.T.x,n=this.ma.y-a.q.T.y,k=b.k.x*g+b.n.x*n,n=b.k.y*g+b.n.y*n,g=k,b=c.G.A,m=this.na.x-c.q.T.x,l=this.na.y-c.q.T.y,k=b.k.x*m+b.n.x*l,l=b.k.y*m+b.n.y*l,m=k,b=a.q.D.x+g,k=a.q.D.y+n,p=c.q.D.x+m,r=c.q.D.y+l,this.zb.Set(b-d,k-e),this.Ab.Set(p-f,r-h),b=this.zb.Mg(),k=this.Ab.Mg(),.005<b?this.zb.$d(1/b):this.zb.qa(),.005<k?this.Ab.$d(1/k):this.Ab.qa(),b=this.Xl-b-this.ac*k,t=Math.max(t,-b),b=V.Ob(b+.005,-.2,0),r=-this.mr*b,b=-r*
this.zb.x,k=-r*this.zb.y,p=-this.ac*r*this.Ab.x,r=-this.ac*r*this.Ab.y,a.q.D.x+=a.K*b,a.q.D.y+=a.K*k,a.q.N+=a.U*(g*k-n*b),c.q.D.x+=c.K*p,c.q.D.y+=c.K*r,c.q.N+=c.U*(m*r-l*p),a.Xb(),c.Xb());this.cv==Z.rd&&(b=a.G.A,g=this.ma.x-a.q.T.x,n=this.ma.y-a.q.T.y,k=b.k.x*g+b.n.x*n,n=b.k.y*g+b.n.y*n,g=k,b=a.q.D.x+g,k=a.q.D.y+n,this.zb.Set(b-d,k-e),b=this.zb.Mg(),.005<b?(this.zb.x*=1/b,this.zb.y*=1/b):this.zb.qa(),b=this.yz-b,t=Math.max(t,-b),b=V.Ob(b+.005,-.2,0),r=-this.lo*b,b=-r*this.zb.x,k=-r*this.zb.y,a.q.D.x+=
a.K*b,a.q.D.y+=a.K*k,a.q.N+=a.U*(g*k-n*b),a.Xb());this.dv==Z.rd&&(b=c.G.A,m=this.na.x-c.q.T.x,l=this.na.y-c.q.T.y,k=b.k.x*m+b.n.x*l,l=b.k.y*m+b.n.y*l,m=k,p=c.q.D.x+m,r=c.q.D.y+l,this.Ab.Set(p-f,r-h),k=this.Ab.Mg(),.005<k?(this.Ab.x*=1/k,this.Ab.y*=1/k):this.Ab.qa(),b=this.zz-k,t=Math.max(t,-b),b=V.Ob(b+.005,-.2,0),r=-this.no*b,p=-r*this.Ab.x,r=-r*this.Ab.y,c.q.D.x+=c.K*p,c.q.D.y+=c.K*r,c.q.N+=c.U*(m*r-l*p),c.Xb());return.005>t};var af=1,cf=function(){Qe.call(this);this.vq=O.C(0,0);this.wq=O.C(0,0);
this.Lb=O.C(0,0);this.Mb=O.C(0,0);this.type=Z.sE;this.vq.Set(-1,1);this.wq.Set(1,1);this.Lb.Set(-1,0);this.Mb.Set(1,0);this.Bz=this.Iu=this.Az=this.Hu=0;this.Ve=1;this.xt=!0};N(cf,Qe);cf.prototype.xc=function(a,c,b,d,e,f,h){void 0===h&&(h=0);this.P=a;this.R=c;this.vq.J(b);this.wq.J(d);this.Lb=this.P.Hd(e);this.Mb=this.R.Hd(f);a=e.x-b.x;b=e.y-b.y;this.Hu=Math.sqrt(a*a+b*b);b=f.x-d.x;d=f.y-d.y;this.Iu=Math.sqrt(b*b+d*d);this.Ve=h;h=this.Hu+this.Ve*this.Iu;this.Az=h-this.Ve*af;this.Bz=(h-af)/this.Ve};
cf.prototype.xf=function(){return new bf(this)};var df=function(a){Z.call(this,a);this.Fe=new P;this.Pm=new P;this.Qm=new P;this.Rm=new P;this.$c=new Oc(0,0,0);this.mg=O.C(0,0);this.uh=O.C(0,0);this.ma=O.C(0,0);this.na=O.C(0,0);this.H=new Oc(0,0,0);this.X=new Pc;this.ma.J(a.Lb);this.na.J(a.Mb);this.qo=a.vh;this.H.qa();this.Za=0;this.kr=a.Uu;this.nv=a.rw;this.rG=a.Cz;this.oo=a.hm;this.ug=a.hk;this.qj=a.wl;this.La=Z.ee};N(df,Z);df.prototype.lp=function(){return this.Z.q.N-this.Y.q.N-this.qo};df.prototype.yf=
function(a){var c=this.Y,b=this.Z,d,e=0;d=c.G.A;var f=this.ma.x-c.q.T.x,h=this.ma.y-c.q.T.y,e=d.k.x*f+d.n.x*h,h=d.k.y*f+d.n.y*h,f=e;d=b.G.A;var g=this.na.x-b.q.T.x,n=this.na.y-b.q.T.y,e=d.k.x*g+d.n.x*n,n=d.k.y*g+d.n.y*n,g=e;d=c.K;var e=b.K,m=c.U,l=b.U;this.X.k.x=d+e+h*h*m+n*n*l;this.X.n.x=-h*f*m-n*g*l;this.X.Ba.x=-h*m-n*l;this.X.k.y=this.X.n.x;this.X.n.y=d+e+f*f*m+g*g*l;this.X.Ba.y=f*m+g*l;this.X.k.z=this.X.Ba.x;this.X.n.z=this.X.Ba.y;this.X.Ba.z=m+l;this.me=1/(m+l);this.qj||(this.Za=0);if(this.ug){var k=
b.q.N-c.q.N-this.qo;Math.abs(this.nv-this.kr)<2*Ic?this.La=Z.bj:k<=this.kr?(this.La!=Z.Tg&&(this.H.z=0),this.La=Z.Tg):k>=this.nv?(this.La!=Z.rd&&(this.H.z=0),this.La=Z.rd):(this.La=Z.ee,this.H.z=0)}else this.La=Z.ee;a.Ki?(this.H.x*=a.Lc,this.H.y*=a.Lc,this.Za*=a.Lc,a=this.H.x,k=this.H.y,c.B.x-=d*a,c.B.y-=d*k,c.I-=m*(f*k-h*a+this.Za+this.H.z),b.B.x+=e*a,b.B.y+=e*k,b.I+=l*(g*k-n*a+this.Za+this.H.z)):(this.H.qa(),this.Za=0)};df.prototype.bf=function(a){var c=this.Y,b=this.Z,d=0,e=d=0,f=0,h=0,g=0,n=c.B,
m=c.I,l=b.B,k=b.I,p=c.K,r=b.K,t=c.U,u=b.U;this.qj&&this.La!=Z.bj&&(e=this.me*-(k-m-this.oo),f=this.Za,h=a.Ia*this.rG,this.Za=V.Ob(this.Za+e,-h,h),e=this.Za-f,m-=t*e,k+=u*e);if(this.ug&&this.La!=Z.ee){a=c.G.A;e=this.ma.x-c.q.T.x;f=this.ma.y-c.q.T.y;d=a.k.x*e+a.n.x*f;f=a.k.y*e+a.n.y*f;e=d;a=b.G.A;h=this.na.x-b.q.T.x;g=this.na.y-b.q.T.y;d=a.k.x*h+a.n.x*g;g=a.k.y*h+a.n.y*g;h=d;a=l.x+-k*g-n.x- -m*f;var q=l.y+k*h-n.y-m*e;this.X.Ym(this.$c,-a,-q,-(k-m));this.La==Z.bj?this.H.Gh(this.$c):this.La==Z.Tg?(d=
this.H.z+this.$c.z,0>d&&(this.X.ml(this.uh,-a,-q),this.$c.x=this.uh.x,this.$c.y=this.uh.y,this.$c.z=-this.H.z,this.H.x+=this.uh.x,this.H.y+=this.uh.y,this.H.z=0)):this.La==Z.rd&&(d=this.H.z+this.$c.z,0<d&&(this.X.ml(this.uh,-a,-q),this.$c.x=this.uh.x,this.$c.y=this.uh.y,this.$c.z=-this.H.z,this.H.x+=this.uh.x,this.H.y+=this.uh.y,this.H.z=0));n.x-=p*this.$c.x;n.y-=p*this.$c.y;m-=t*(e*this.$c.y-f*this.$c.x+this.$c.z);l.x+=r*this.$c.x;l.y+=r*this.$c.y;k+=u*(h*this.$c.y-g*this.$c.x+this.$c.z)}else a=
c.G.A,e=this.ma.x-c.q.T.x,f=this.ma.y-c.q.T.y,d=a.k.x*e+a.n.x*f,f=a.k.y*e+a.n.y*f,e=d,a=b.G.A,h=this.na.x-b.q.T.x,g=this.na.y-b.q.T.y,d=a.k.x*h+a.n.x*g,g=a.k.y*h+a.n.y*g,h=d,this.X.ml(this.mg,-(l.x+-k*g-n.x- -m*f),-(l.y+k*h-n.y-m*e)),this.H.x+=this.mg.x,this.H.y+=this.mg.y,n.x-=p*this.mg.x,n.y-=p*this.mg.y,m-=t*(e*this.mg.y-f*this.mg.x),l.x+=r*this.mg.x,l.y+=r*this.mg.y,k+=u*(h*this.mg.y-g*this.mg.x);c.B.J(n);c.I=m;b.B.J(l);b.I=k};df.prototype.$e=function(){var a=0,c,b=this.Y,d=this.Z,e=0,f=c=0,h=
0,g=0;if(this.ug&&this.La!=Z.ee){var a=d.q.N-b.q.N-this.qo,n=0;this.La==Z.bj?(a=V.Ob(a-this.kr,-Jc,Jc),n=-this.me*a,e=Math.abs(a)):this.La==Z.Tg?(a-=this.kr,e=-a,a=V.Ob(a+Ic,-Jc,0),n=-this.me*a):this.La==Z.rd&&(e=a-=this.nv,a=V.Ob(a-Ic,0,Jc),n=-this.me*a);b.q.N-=b.U*n;d.q.N+=d.U*n;b.Xb();d.Xb()}c=b.G.A;n=this.ma.x-b.q.T.x;a=this.ma.y-b.q.T.y;f=c.k.x*n+c.n.x*a;a=c.k.y*n+c.n.y*a;n=f;c=d.G.A;var m=this.na.x-d.q.T.x,l=this.na.y-d.q.T.y,f=c.k.x*m+c.n.x*l,l=c.k.y*m+c.n.y*l,m=f,h=d.q.D.x+m-b.q.D.x-n,g=d.q.D.y+
l-b.q.D.y-a,k=h*h+g*g;c=Math.sqrt(k);var f=b.K,p=d.K,r=b.U,t=d.U;k>.05*.05&&(k=1/(f+p),h=k*-h,g=k*-g,b.q.D.x-=.5*f*h,b.q.D.y-=.5*f*g,d.q.D.x+=.5*p*h,d.q.D.y+=.5*p*g,h=d.q.D.x+m-b.q.D.x-n,g=d.q.D.y+l-b.q.D.y-a);this.Pm.k.x=f+p;this.Pm.n.x=0;this.Pm.k.y=0;this.Pm.n.y=f+p;this.Qm.k.x=r*a*a;this.Qm.n.x=-r*n*a;this.Qm.k.y=-r*n*a;this.Qm.n.y=r*n*n;this.Rm.k.x=t*l*l;this.Rm.n.x=-t*m*l;this.Rm.k.y=-t*m*l;this.Rm.n.y=t*m*m;this.Fe.dg(this.Pm);this.Fe.Zo(this.Qm);this.Fe.Zo(this.Rm);this.Fe.Ti(ef,-h,-g);h=
ef.x;g=ef.y;b.q.D.x-=b.K*h;b.q.D.y-=b.K*g;b.q.N-=b.U*(n*g-a*h);d.q.D.x+=d.K*h;d.q.D.y+=d.K*g;d.q.N+=d.U*(m*g-l*h);b.Xb();d.Xb();return.005>=c&&e<=Ic};var ef=O.C(0,0),Hc=function(){Qe.call(this);this.Lb=O.C(0,0);this.Mb=O.C(0,0);this.type=Z.ul;this.Lb.qa();this.Mb.qa();this.hm=this.Cz=this.rw=this.Uu=this.vh=0;this.wl=this.hk=!1};N(Hc,Qe);Hc.prototype.xc=function(a,c,b){this.P=a;this.R=c;this.Lb=this.P.Hd(b);this.Mb=this.R.Hd(b);this.vh=this.R.Yd()-this.P.Yd()};Hc.prototype.xf=function(){return new df(this)};
var ff=function(a){Z.call(this,a);this.nf=O.C(0,0);this.of=O.C(0,0);this.H=new Oc(0,0,0);this.X=new Pc;this.nf.J(a.Lb);this.of.J(a.Mb);this.qo=a.vh};N(ff,Z);ff.prototype.yf=function(a){var c,b=0,d=this.Y,e=this.Z;c=d.G.A;var f=this.nf.x-d.q.T.x,h=this.nf.y-d.q.T.y,b=c.k.x*f+c.n.x*h,h=c.k.y*f+c.n.y*h,f=b;c=e.G.A;var g=this.of.x-e.q.T.x,n=this.of.y-e.q.T.y,b=c.k.x*g+c.n.x*n,n=c.k.y*g+c.n.y*n,g=b;c=d.K;var b=e.K,m=d.U,l=e.U;this.X.k.x=c+b+h*h*m+n*n*l;this.X.n.x=-h*f*m-n*g*l;this.X.Ba.x=-h*m-n*l;this.X.k.y=
this.X.n.x;this.X.n.y=c+b+f*f*m+g*g*l;this.X.Ba.y=f*m+g*l;this.X.k.z=this.X.Ba.x;this.X.n.z=this.X.Ba.y;this.X.Ba.z=m+l;a.Ki?(this.H.x*=a.Lc,this.H.y*=a.Lc,this.H.z*=a.Lc,d.B.x-=c*this.H.x,d.B.y-=c*this.H.y,d.I-=m*(f*this.H.y-h*this.H.x+this.H.z),e.B.x+=b*this.H.x,e.B.y+=b*this.H.y,e.I+=l*(g*this.H.y-n*this.H.x+this.H.z)):this.H.qa()};ff.prototype.bf=function(){var a,c=0,b=this.Y,d=this.Z,e=b.B,f=b.I,h=d.B,g=d.I,n=b.K,m=d.K,l=b.U,k=d.U;a=b.G.A;var p=this.nf.x-b.q.T.x,r=this.nf.y-b.q.T.y,c=a.k.x*p+
a.n.x*r,r=a.k.y*p+a.n.y*r,p=c;a=d.G.A;var t=this.of.x-d.q.T.x,u=this.of.y-d.q.T.y,c=a.k.x*t+a.n.x*u,u=a.k.y*t+a.n.y*u,t=c;a=new Oc(0,0,0);this.X.Ym(a,-(h.x-g*u-e.x+f*r),-(h.y+g*t-e.y-f*p),-(g-f));this.H.Gh(a);e.x-=n*a.x;e.y-=n*a.y;f-=l*(p*a.y-r*a.x+a.z);h.x+=m*a.x;h.y+=m*a.y;g+=k*(t*a.y-u*a.x+a.z);b.I=f;d.I=g};ff.prototype.$e=function(){var a,c=0,b=this.Y,d=this.Z;a=b.G.A;var e=this.nf.x-b.q.T.x,f=this.nf.y-b.q.T.y,c=a.k.x*e+a.n.x*f,f=a.k.y*e+a.n.y*f,e=c;a=d.G.A;var h=this.of.x-d.q.T.x,g=this.of.y-
d.q.T.y,c=a.k.x*h+a.n.x*g,g=a.k.y*h+a.n.y*g,h=c;a=b.K;var c=d.K,n=b.U,m=d.U,l=d.q.D.x+h-b.q.D.x-e,k=d.q.D.y+g-b.q.D.y-f,p=d.q.N-b.q.N-this.qo,r=Math.sqrt(l*l+k*k),t=Math.abs(p);.05<r&&(n*=1,m*=1);this.X.k.x=a+c+f*f*n+g*g*m;this.X.n.x=-f*e*n-g*h*m;this.X.Ba.x=-f*n-g*m;this.X.k.y=this.X.n.x;this.X.n.y=a+c+e*e*n+h*h*m;this.X.Ba.y=e*n+h*m;this.X.k.z=this.X.Ba.x;this.X.n.z=this.X.Ba.y;this.X.Ba.z=n+m;var u=new Oc(0,0,0);this.X.Ym(u,-l,-k,-p);b.q.D.x-=a*u.x;b.q.D.y-=a*u.y;b.q.N-=n*(e*u.y-f*u.x+u.z);d.q.D.x+=
c*u.x;d.q.D.y+=c*u.y;d.q.N+=m*(h*u.y-g*u.x+u.z);b.Xb();d.Xb();return.005>=r&&t<=Ic};var gf=function(){Qe.call(this);this.Lb=O.C(0,0);this.Mb=O.C(0,0);this.type=Z.uE;this.vh=0};N(gf,Qe);gf.prototype.xc=function(a,c,b){this.P=a;this.R=c;this.Lb.J(this.P.Hd(b));this.Mb.J(this.R.Hd(b));this.vh=this.R.Yd()-this.P.Yd()};gf.prototype.xf=function(){return new ff(this)};var we=[new Wc,new Wc],Fe=[new Wc,new Wc],Ge=[new Wc,new Wc],xe=O.C(0,0),ye=O.C(0,0),ze=O.C(0,0),Ce=O.C(0,0),Ae=O.C(0,0),Be=O.C(0,0),De=O.C(0,
0),Ee=O.C(0,0),Xd=0,fe=0,ge=0,de=0,ee=0,Yd=new ud,Zd=new ed,$d=new yc,ae=new yc,ce=new pd,be=new fd;Ac.lH=new yc;Bc.Kx=new Bc;new function(){this.position=O.C(0,0);this.$A=O.C(0,0);this.Sd=O.C(0,0);this.id=new Vc};Dc.$I=new yc;Dc.nA=new Qc;Dc.oA=new Qc;var Wd=new vd,se=new wd,ve=new re}function jf(a,c,b,d,e,f){var h;if(h=(b+.1>=a&&a>=e-.1||b-.1<=a&&a<=e+.1)&&(d+.1>=c&&c>=f-.1||d-.1<=c&&c<=f+.1))h=.1<Math.abs(e-b)?.1>Math.abs((f-d)/(e-b)*(a-b)+d-c):.1>Math.abs(a-b);return h}
function kf(a,c){var b=O,d=lf(a),e=[],f,h,g,n,m,l,k,p,r;m=0;for(l=d.length;m<l;m++){h=d[m];f=[];f.length=h.length;k=r=0;for(p=h.length;k<p;k++)g=h[k],n=h[(k+1)%p],r+=g.x*n.y-g.y*n.x,f[k]=b.C(g.x,g.y);r=Math.abs(r/2);r>=.001*c&&e.push(f)}return e}
function lf(a){var c=[],b=0,d=0,e=0,f=0,h=0,g=h=0,n=0,m=0,l=0,f=0,k,p,r,t,u,q=f=b=0,z=0,e=[],n=[],A=!1,G=[],x=[];for(x.push(a);x.length;){c=x[0];d=c.length;A=!0;for(b=0;b<d;b++)if(m=b,l=b<d-1?b+1:b+1-d,f=b<d-2?b+2:b+2-d,a=c[m],k=c[l],p=c[f],f=a.x,e=a.y,n=k.x,h=k.y,g=p.x,p=p.y,f=f*h+n*p+g*e-e*n-h*g-p*f,0>f){A=!1;n=1E9;for(e=0;e<d;e++)if(e!==m&&e!==l){b=e;f=e<d-1?e+1:0;r=c[b];t=c[f];g=a.x;p=a.y;var B=k.x,F=k.y,h=r.x;r=r.y;var E=t.x;t=t.y;var D=B-g,y=F-p,J=E-h,K=t-r,J=(J*(r-p)-K*(h-g))/(y*J-D*K),D=g+
J*D,y=p+J*y,g=jf(B,F,g,p,D,y),h=jf(D,y,h,r,E,t);if(p=g&&h?O.C(D,y):null)h=k.x-p.x,g=k.y-p.y,h=h*h+g*g,h<n&&(z=b,q=f,u=p,n=h)}if(1E9===n)return[];e=[];n=[];b=z;f=q;r=c[b];t=c[f];q=u.y;z=t.y;.1>Math.abs(t.x-u.x)&&.1>Math.abs(z-q)||e.push(u);q=u.y;z=r.y;.1>Math.abs(r.x-u.x)&&.1>Math.abs(z-q)||n.push(u);z=-1;for(q=m;;){if(q!==f)e.push(c[q]);else{if(0>z||z>=d)return[];jf(t.x,t.y,c[z].x,c[z].y,a.x,a.y)||e.push(c[q]);break}z=q;0>q-1?q=d-1:q--}e.reverse();z=-1;for(q=l;;){if(q!==b)n.push(c[q]);else{if(0>z||
z>=d)return[];q!==b||jf(r.x,r.y,c[z].x,c[z].y,k.x,k.y)||n.push(c[q]);break}z=q;q+1>d-1?q=0:q++}x.push(e,n);x.shift();break}A&&G.push(x.shift())}return G}
function mf(a){for(var c=0;4E3>c;c++)O.Lh.push(new O(0,0));this.j=a;this.De=new Dc(O.C(0,10),!0);this.Eu=-1;a=new Bc;a.behavior=this;a.cp=function(a){this.behavior.j.pm(a.Yb.hb().Pg.u,a.Sb.hb().Pg.u)};this.De.nx(a);a=new Cc;a.behavior=this;a.Tj=function(a,c){if(this.behavior.AD)return!0;var e=a.hb().Pg.u.type,f=c.hb().Pg.u.type,h=e.ba.Physics_DisabledCollisions;return h&&h.contains(f)?!1:(h=f.ba.Physics_DisabledCollisions)&&h.contains(e)?!1:!0};this.De.mx(a);this.wH=0;this.Vo=8;this.zo=3;this.AD=
!0}
(function(){function a(){}function c(){}var b=O,d=W,e=Fc,f=Y,h=Ec,g=Gc,n=Hc,m=mf.prototype;m.cb=function(a){this.behavior=a;this.j=a.j};m.cb.prototype.wa=function(){};m.Qa=function(a,b){this.type=a;this.behavior=a.behavior;this.u=b;this.j=a.j;this.De=this.behavior.De};var l=m.Qa.prototype;l.wa=function(){this.nu=0!==this.aa[0];this.Vx=this.aa[1];this.Ev=0!==this.aa[2];this.lg=this.aa[3];this.Wg=this.aa[4];this.xh=this.aa[5];this.Ck=this.aa[6];this.Wj=this.aa[7];this.$j=0!==this.aa[8];this.enabled=0!==
this.aa[9];this.body=null;this.u.bb();this.Rn=this.u.x;this.Sn=this.u.y;this.bh=this.u.L;this.Cu=this.Fu=0;this.jA=this.Kq=!1;this.zu=null;this.Au=-1;this.Se?(this.Se.length=0,this.Sf.length=0,this.ei.clear()):(this.Se=[],this.Sf=[],this.ei=new ga);var a=this;this.ne||(this.xj=function(b){a.Tk(b)});this.j.$m(this.xj)};l.dA=function(){this.u.bb();this.Rp();this.zu=this.u.Qb;this.Au=this.u.la};l.wi=function(){this.aq();this.Sf.length=0;this.ei.clear();this.body&&(this.De.hp(this.body),this.body=null);
this.j.Lv(this.xj)};l.xd=function(){var a={e:this.enabled,im:this.nu,pr:this.Ev,d:this.lg,fr:this.Wg,re:this.xh,ld:this.Ck,ad:this.Wj,b:this.$j,mcj:this.Sf};if(this.enabled){var c=b.C(0,0);c.J(this.body.Mj());a.vx=c.x;a.vy=c.y;a.om=this.body.kp()}return a};l.Od=function(a){this.aq();this.Sf.length=0;this.ei.clear();this.body&&(this.De.hp(this.body),this.body=null);this.enabled=a.e;this.nu=a.im;this.Ev=a.pr;this.lg=a.d;this.Wg=a.fr;this.xh=a.re;this.Ck=a.ld;this.Wj=a.ad;this.$j=a.b;this.Rn=this.u.x;
this.Sn=this.u.y;this.bh=this.u.L;this.Fu=this.u.width;this.Cu=this.u.height;this.enabled&&(this.Rp(),this.body.Sj(b.C(a.vx,a.vy)),this.body.Vm(a.om),0===a.vx&&0===a.vy&&0===a.om||this.body.jd(!0),this.Sf=a.mcj)};l.Af=function(){this.enabled&&this.Kv();this.behavior.Eu=this.j.vf-1};l.Tk=function(a){var b,c,d,e=a.uid;d=b=0;for(c=this.Sf.length;b<c;b++)this.Sf[d]=this.Sf[b],d<this.Se.length&&(this.Se[d]=this.Se[b]),this.Sf[b].pc[1]==e?this.De.ip(this.Se[b]):d++;this.Sf.length=d;d<this.Se.length&&(this.Se.length=
d);this.ei.remove(a)};l.aq=function(){var a,b;a=0;for(b=this.Se.length;a<b;a++)this.De.ip(this.Se[a]);this.Se.length=0};l.Kv=function(){var a,b,c;a=0;for(b=this.Sf.length;a<b;a++)switch(c=this.Sf[a],c.type){case 0:this.YD(c.pc[0],c.pc[1],c.pc[2],c.pc[3],c.pc[4]);break;case 1:this.$D(c.pc[0],c.pc[1]);break;case 2:this.ZD(c.pc[0],c.pc[1],c.pc[2],c.pc[3])}};l.ay=function(){this.body&&(this.aq(),this.De.hp(this.body),this.body=null,this.u.ba.Cf=null)};var k=[];l.Rp=function(){if(this.enabled){var a=this.u,
c=!1,g=null,l=null,m,n,A,G,x,B,F,E,D,y,J,K,ea;if(this.body){c=!0;g=b.C(0,0);g.J(this.body.Mj());l=this.body.kp();E=this.ei.Fg();m=0;for(n=E.length;m<n;m++)D=E[m].ba.Cf.Pg,D.aq();this.ay()}D=new e;D.lg=this.lg;D.Wg=this.Wg;D.xh=this.xh;m=new d;m.type=this.nu?0:2;a.bb();m.position.x=.02*a.Hb.vj();m.position.y=.02*a.Hb.wj();m.L=a.L;m.Ot=this.Ev;m.Ck=this.Ck;m.Wj=this.Wj;m.$j=this.$j;E=this.u.Ya&&!this.u.Ya.vk();this.body=this.De.Cs(m);this.body.Pg=this;m=this.Vx;E||this.u.Fi||0!==this.Vx||(m=1);n=Math.max(Math.abs(a.width),
1);A=Math.max(Math.abs(a.height),1);y=0>a.width;J=0>a.height;if(0===m)if(a.Fi)for(K=a.Hb.vj()-a.x,F=a.Hb.wj()-a.y,a.QI(k),E=[],m=0,n=k.length;m<n;++m){y=k[m];J=y.bH;if(y.rh){if(!y.rh.Pp){x=y.rh.Gc;G=y.rh.tf;for(A=0;A<G;++A)E.push(b.C(x[2*A],x[2*A+1]));A=y.id&3758096384;(-2147483648===A||1073741824===A||536870912===A||A&-2147483648&&A&1073741824&&A&536870912)&&E.reverse();y.rh.Pp=kf(E,(J.right-J.left)*(J.bottom-J.top));A=0;for(G=E.length;A<G;++A)b.wc(E[A]);E.length=0}A=0;for(G=y.rh.Pp.length;A<G;++A){ea=
y.rh.Pp[A];x=0;for(B=ea.length;x<B;++x)E.push(b.C(.02*(J.left+ea[x].x-K),.02*(J.top+ea[x].y-F)));D.shape=new f;D.shape.Wm(E,E.length);this.body.el(D);x=0;for(B=E.length;x<B;++x)b.wc(E[x]);E.length=0}}else E.push(b.C(.02*(J.left-K),.02*(J.top-F))),E.push(b.C(.02*(J.right-K),.02*(J.top-F))),E.push(b.C(.02*(J.right-K),.02*(J.bottom-F))),E.push(b.C(.02*(J.left-K),.02*(J.bottom-F))),D.shape=new f,D.shape.Wm(E,E.length),this.body.el(D);A=0;for(G=E.length;A<G;++A)b.wc(E[A]);E.length=0}else{m=a.L;a.L=0;a.ea();
a.bb();K=a.Hb.vj()-a.x;F=a.Hb.wj()-a.y;a.L=m;a.ea();a.Ya.ak(y?-n:n,J?-A:A,0);x=a.Ya.Gc;G=a.Ya.tf;E=[];E.length=G;for(m=0;m<G;m++)E[m]=b.C(x[2*m]-K,x[2*m+1]-F);y!==J&&E.reverse();K=kf(E,n*A);for(m=0;m<G;m++)b.wc(E[m]);if(K.length)for(m=0,n=K.length;m<n;m++){E=K[m];A=0;for(G=E.length;A<G;A++)F=E[A],F.x*=.02,F.y*=.02;D.shape=new f;D.shape.Wm(E,E.length);this.body.el(D);A=0;for(G=E.length;A<G;A++)b.wc(E[A])}else D.shape=new f,D.shape.tp(.01*n,.01*A),this.body.el(D)}else 1===m?(D.shape=new f,D.shape.tp(.01*
n,.01*A)):D.shape=new h(.01*Math.min(n,A)),this.body.el(D);a.ba.Cf=this.body;this.Fu=a.width;this.Cu=a.height;if(c)for(this.body.Sj(g),this.body.Vm(l),b.wc(g),this.Kv(),E=this.ei.Fg(),m=0,n=E.length;m<n;m++)D=E[m].ba.Cf.Pg,D.Kv();k.length=0}};l.Ub=function(){if(this.enabled){var a=this.u,c;0===this.behavior.wH?c=this.j.Gi/60:(c=this.j.Fl(this.u),c>1/30&&(c=1/30));this.j.vf>this.behavior.Eu&&0<this.j.Gi&&(this.De.Kh(c,this.behavior.Vo,this.behavior.zo),this.De.Gw(),this.behavior.Eu=this.j.vf);if(this.jA||
a.width!==this.Fu||a.height!==this.Cu||a.Qb!==this.zu||a.la!==this.Au||a.Fi&&a.$z)this.Rp(),this.jA=!1,this.zu=a.Qb,this.Au=a.la,a.Fi&&a.$z&&(a.$z=!1);c=a.L!==this.bh;if(a.x!==this.Rn||a.y!==this.Sn){a.bb();var d=a.Hb.vj(),e=a.Hb.wj(),f=d-this.Rn,h=e-this.Sn;this.body.Xs(b.C(.02*d,.02*e));this.body.Sj(b.C(f,h));this.Kq=!0;this.body.jd(!0)}else this.Kq&&(this.Kq=!1,this.body.Sj(b.C(0,0)),this.body.Xs(b.C(.02*a.Hb.vj(),.02*a.Hb.wj())));c&&(this.body.sp(a.L),this.body.jd(!0));d=this.body.G.position;
c=d.x/.02;d=d.y/.02;e=this.body.Yd();if(c!==a.x||d!==a.y||e!==a.L)if(a.x=c,a.y=d,a.L=e,a.ea(),a.bb(),c=a.Hb.vj()-a.x,d=a.Hb.wj()-a.y,0!==c||0!==d)a.x-=c,a.y-=d,a.ea();this.Rn=a.x;this.Sn=a.y;this.bh=a.L}};l.yn=function(a){return-1!==a&&this.u.Xg?0===a&&this.body?(this.body.G.position.x+this.body.Nj().x)/.02:this.u.Xg(a,!0):this.u.x};l.zn=function(a){return-1!==a&&this.u.Xg?0===a&&this.body?(this.body.G.position.y+this.body.Nj().y)/.02:this.u.Xg(a,!1):this.u.y};a.prototype.Ks=function(){return this.enabled};
m.M=new a;c.prototype.Ig=function(a,c,d){if(this.enabled){var e=this.yn(d);d=this.zn(d);this.body.Ig(b.C(a,c),b.C(.02*e,.02*d))}};c.prototype.$o=function(a,c,d){if(this.enabled){var e=this.yn(d);d=this.zn(d);this.body.$o(b.C(a,c),b.C(.02*e,.02*d));this.Kq=!1;this.Rn=this.u.x;this.Sn=this.u.y}};c.prototype.bp=function(a){this.enabled&&this.body.bp(v(a))};c.prototype.Vm=function(a){this.enabled&&(this.body.Vm(v(a)),this.body.jd(!0))};l.YD=function(a,c,d,e,f){if(this.enabled&&(c=this.j.Yg(c))&&c!=this.u&&
c.ba.Cf){c.ba.Cf.Pg.ei.add(this.u);var h=this.yn(a);a=this.zn(a);var k;c.Xg?(k=c.Xg(d,!0),d=c.Xg(d,!1)):(k=c.x,d=c.y);var l=h-k,m=a-d,n=new g;n.xc(this.body,c.ba.Cf,b.C(.02*h,.02*a),b.C(.02*k,.02*d));n.length=.02*Math.sqrt(l*l+m*m);n.Yp=e;n.rq=f;this.Se.push(this.De.gp(n))}};l.$D=function(a,c){if(this.enabled){var d=this.j.Yg(c);if(d&&d!=this.u&&d.ba.Cf){d.ba.Cf.Pg.ei.add(this.u);var e=this.yn(a),f=this.zn(a),h=new n;h.xc(this.body,d.ba.Cf,b.C(.02*e,.02*f));this.Se.push(this.De.gp(h))}}};l.ZD=function(a,
c,d,e){if(this.enabled&&(c=this.j.Yg(c))&&c!=this.u&&c.ba.Cf){c.ba.Cf.Pg.ei.add(this.u);var f=this.yn(a);a=this.zn(a);var h=new n;h.xc(this.body,c.ba.Cf,b.C(.02*f,.02*a));h.hk=!0;h.Uu=v(d);h.rw=v(e);this.Se.push(this.De.gp(h))}};c.prototype.Qj=function(a){this.enabled&&0===a?(this.ay(),this.enabled=!1):this.enabled||1!==a||(this.enabled=!0,this.Rp())};m.ja=new c;m.kc=new function(){}})();function nf(a){this.j=a}
(function(){function a(){}function c(){}var b=nf.prototype;b.cb=function(a){this.behavior=a;this.j=a.j};b.cb.prototype.wa=function(){};b.Qa=function(a,b){this.type=a;this.behavior=a.behavior;this.u=b;this.j=a.j};var d=b.Qa.prototype;d.wa=function(){this.Qc=null;this.Cr=-1;this.mode=this.bh=this.hs=this.km=this.yi=this.yo=0;var a=this;this.ne||(this.xj=function(b){a.Tk(b)});this.j.$m(this.xj)};d.xd=function(){return{uid:this.Qc?this.Qc.uid:-1,pa:this.yo,pd:this.yi,msa:this.km,tsa:this.hs,lka:this.bh,
m:this.mode}};d.Od=function(a){this.Cr=a.uid;this.yo=a.pa;this.yi=a.pd;this.km=a.msa;this.hs=a.tsa;this.bh=a.lka;this.mode=a.m};d.Af=function(){this.Qc=-1===this.Cr?null:this.j.Yg(this.Cr);this.Cr=-1};d.Tk=function(a){this.Qc==a&&(this.Qc=null)};d.wi=function(){this.Qc=null;this.j.Lv(this.xj)};d.Ub=function(){};d.Qo=function(){if(this.Qc){this.bh!==this.u.L&&(this.km=Ja(this.km+(this.u.L-this.bh)));var a=this.u.x,b=this.u.y;if(3===this.mode||4===this.mode){var c=Ua(this.u.x,this.u.y,this.Qc.x,this.Qc.y);
if(c>this.yi||4===this.mode&&c<this.yi)b=Pa(this.Qc.x,this.Qc.y,this.u.x,this.u.y),a=this.Qc.x+Math.cos(b)*this.yi,b=this.Qc.y+Math.sin(b)*this.yi}else a=this.Qc.x+Math.cos(this.Qc.L+this.yo)*this.yi,b=this.Qc.y+Math.sin(this.Qc.L+this.yo)*this.yi;this.bh=c=Ja(this.km+(this.Qc.L-this.hs));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.u.x===a&&this.u.y===b||(this.u.x=a,this.u.y=b,this.u.ea());0!==this.mode&&2!==this.mode||this.u.L===c||(this.u.L=c,this.u.ea())}};a.prototype.TB=function(){return!!this.Qc};
b.M=new a;c.prototype.BC=function(a,b){if(a){var c=a.ry(this.u);c&&(this.Qc=c,this.yo=Pa(c.x,c.y,this.u.x,this.u.y)-c.L,this.yi=Ua(c.x,c.y,this.u.x,this.u.y),this.bh=this.km=this.u.L,this.hs=c.L,this.mode=b)}};c.prototype.jD=function(){this.Qc=null};b.ja=new c;b.kc=new function(){}})();function of(a){this.j=a}
(function(){function a(){}function c(){}var b=of.prototype;b.cb=function(a){this.behavior=a;this.j=a.j};b.cb.prototype.wa=function(){};b.Qa=function(a,b){this.type=a;this.behavior=a.behavior;this.u=b;this.j=a.j;this.Mo=this.bs=this.as=this.lu=this.jn=this.on=this.Pl=this.Pn=this.Qr=this.Tq=!1;this.Oe=null;this.Lu=-1;this.yk=this.xk=0;this.oq=!1;this.zl=this.ig=0;this.mq=!0;this.Cb=this.Na=0};var d=b.Qa.prototype;d.UA=function(){this.od=Math.cos(this.Dl);this.qd=Math.sin(this.Dl);this.Wk=Math.cos(this.Dl-
Math.PI/2);this.Xk=Math.sin(this.Dl-Math.PI/2);this.od=jb(this.od);this.qd=jb(this.qd);this.Wk=jb(this.Wk);this.Xk=jb(this.Xk);this.Wt=this.Zh;0>this.Zh&&(this.od*=-1,this.qd*=-1,this.Zh=Math.abs(this.Zh))};d.wa=function(){this.gm=this.aa[0];this.nl=this.aa[1];this.tl=this.aa[2];this.mj=this.aa[3];this.Wt=this.Zh=this.aa[4];this.or=this.aa[5];this.Kt=0!==this.aa[6];this.yu=this.aa[7]/1E3;this.TD=1===this.aa[8];this.enabled=0!==this.aa[9];this.Dm=!1;this.Yo=this.j.Ij(this.u);this.Mu=-1;this.$k=0;this.Dl=
v(90);this.UA();var a=this;this.TD&&!this.j.lc&&(jQuery(document).keydown(function(b){a.uv(b)}),jQuery(document).keyup(function(b){a.vv(b)}));this.ne||(this.xj=function(b){a.Tk(b)});this.j.$m(this.xj);this.u.ba.isPlatformBehavior=!0};d.xd=function(){return{ii:this.lu,lfx:this.xk,lfy:this.yk,lfo:this.Oe?this.Oe.uid:-1,am:this.ig,en:this.enabled,fall:this.zl,ft:this.mq,dx:this.Na,dy:this.Cb,ms:this.gm,acc:this.nl,dec:this.tl,js:this.mj,g:this.Zh,g1:this.Wt,mf:this.or,wof:this.Dm,woj:this.Yo?this.Yo.uid:
-1,ga:this.Dl,edj:this.Kt,cdj:this.jn,dj:this.on,sus:this.yu}};d.Od=function(a){this.lu=a.ii;this.xk=a.lfx;this.yk=a.lfy;this.Lu=a.lfo;this.ig=a.am;this.enabled=a.en;this.zl=a.fall;this.mq=a.ft;this.Na=a.dx;this.Cb=a.dy;this.gm=a.ms;this.nl=a.acc;this.tl=a.dec;this.mj=a.js;this.Zh=a.g;this.Wt=a.g1;this.or=a.mf;this.Dm=a.wof;this.Mu=a.woj;this.Dl=a.ga;this.Kt=a.edj;this.jn=a.cdj;this.on=a.dj;this.yu=a.sus;this.Mo=this.bs=this.as=this.Pl=this.Pn=this.Qr=this.Tq=!1;this.$k=0;this.UA()};d.Af=function(){this.Oe=
-1===this.Lu?null:this.j.Yg(this.Lu);this.Yo=-1===this.Mu?null:this.j.Yg(this.Mu)};d.Tk=function(a){this.Oe==a&&(this.Oe=null)};d.wi=function(){this.Oe=null;this.j.Lv(this.xj)};d.uv=function(a){switch(a.which){case 38:a.preventDefault();this.Pn=!0;break;case 37:a.preventDefault();this.Tq=!0;break;case 39:a.preventDefault(),this.Qr=!0}};d.vv=function(a){switch(a.which){case 38:a.preventDefault();this.Pl=this.Pn=!1;break;case 37:a.preventDefault();this.Tq=!1;break;case 39:a.preventDefault(),this.Qr=
!1}};d.TI=function(){return 0>this.Zh?-1:1};d.Py=function(){var a=null,b=null,c,d;c=this.u.x;d=this.u.y;this.u.x+=this.od;this.u.y+=this.qd;this.u.ea();if(this.Oe&&this.j.uf(this.u,this.Oe))return this.u.x=c,this.u.y=d,this.u.ea(),this.Oe;(a=this.j.Ze(this.u))||0!==this.zl||(b=this.j.Ij(this.u,!0));this.u.x=c;this.u.y=d;this.u.ea();if(a){if(this.j.uf(this.u,a))return null;this.oq=!1;return a}if(b&&b.length){d=a=0;for(c=b.length;a<c;a++)b[d]=b[a],this.j.uf(this.u,b[a])||d++;if(1<=d)return this.oq=
!0,b[0]}return null};d.Ub=function(){};d.eA=function(){var a=this.j.Fl(this.u),b,c,d,n,m,l,k,p,r;this.Pn||this.Mo||(this.Pl=!1);var t=this.Tq||this.as;d=this.Qr||this.bs;var u=(n=this.Pn||this.Mo)&&!this.Pl;this.Mo=this.bs=this.as=!1;if(this.enabled){this.lu&&(u=n=d=t=!1);n||(this.$k=0);p=this.Oe;r=!1;this.mq&&((this.j.Ze(this.u)||this.j.Ij(this.u))&&this.j.zg(this.u,-this.od,-this.qd,4,!0),this.mq=!1);!p||0!==this.Cb||p.y===this.yk&&p.x===this.xk||(b=p.x-this.xk,c=p.y-this.yk,this.u.x+=b,this.u.y+=
c,this.u.ea(),this.xk=p.x,this.yk=p.y,r=!0,this.j.Ze(this.u)&&this.j.zg(this.u,-b,-c,2.5*Math.sqrt(b*b+c*c)));var q=this.Py();if(c=this.j.Ze(this.u))if(this.u.ba.inputPredicted)this.j.zg(this.u,-this.od,-this.qd,10,!1);else if(this.j.aH(this.u,Math.max(this.u.width,this.u.height)/2))this.j.pm(this.u,c);else return;q?(this.jn=this.on=!1,0<this.Cb&&(this.Dm||(this.j.Gv(this.u,-this.od,-this.qd,q),this.Dm=!0),this.Cb=0),p!=q)?(this.Oe=q,this.xk=q.x,this.yk=q.y,this.j.pm(this.u,q)):r&&(c=this.j.Ze(this.u))&&
(this.j.pm(this.u,c),0!==b&&(0<b?this.j.zg(this.u,-this.Wk,-this.Xk):this.j.zg(this.u,this.Wk,this.Xk)),this.j.zg(this.u,-this.od,-this.qd)):n||(this.jn=!0);if(q&&u||!q&&this.Kt&&n&&this.jn&&!this.on)p=this.u.x,r=this.u.y,this.u.x-=this.od,this.u.y-=this.qd,this.u.ea(),this.j.Ze(this.u)?u=!1:(this.$k=this.yu,this.j.trigger(of.prototype.M.lC,this.u),this.ig=2,this.Cb=-this.mj,u=!0,q?this.Pl=!0:this.on=!0),this.u.x=p,this.u.y=r,this.u.ea();q||(n&&0<this.$k?(this.Cb=-this.mj,this.$k-=a):(this.Oe=null,
this.Cb+=this.Zh*a,this.Cb>this.or&&(this.Cb=this.or)),u&&(this.Pl=!0));this.Dm=!!q;t==d&&(0>this.Na?(this.Na+=this.tl*a,0<this.Na&&(this.Na=0)):0<this.Na&&(this.Na-=this.tl*a,0>this.Na&&(this.Na=0)));t&&!d&&(this.Na=0<this.Na?this.Na-(this.nl+this.tl)*a:this.Na-this.nl*a);d&&!t&&(this.Na=0>this.Na?this.Na+(this.nl+this.tl)*a:this.Na+this.nl*a);this.Na>this.gm?this.Na=this.gm:this.Na<-this.gm&&(this.Na=-this.gm);t=!1;0!==this.Na&&(p=this.u.x,r=this.u.y,b=this.Na*a*this.Wk,c=this.Na*a*this.Xk,this.u.x+=
this.Wk*(1<this.Na?1:-1)-this.od,this.u.y+=this.Xk*(1<this.Na?1:-1)-this.qd,this.u.ea(),n=!1,m=this.j.Ze(this.u),this.u.x=p+b,this.u.y=r+c,this.u.ea(),d=this.j.Ze(this.u),!d&&q&&(d=this.j.Ij(this.u))&&(this.u.x=p,this.u.y=r,this.u.ea(),this.j.uf(this.u,d)?(d=null,n=!1):n=!0,this.u.x=p+b,this.u.y=r+c,this.u.ea()),d?(b=Math.abs(this.Na*a)+2,m||!this.j.zg(this.u,-this.od,-this.qd,b,n,d))?(this.j.pm(this.u,d),b=Math.max(Math.abs(this.Na*a*2.5),30),this.j.zg(this.u,this.Wk*(0>this.Na?1:-1),this.Xk*(0>
this.Na?1:-1),b,!1)?!q||n||this.oq||(p=this.u.x,r=this.u.y,this.u.x+=this.od,this.u.y+=this.qd,this.j.Ze(this.u)?this.j.zg(this.u,-this.od,-this.qd,3,!1)||(this.u.x=p,this.u.y=r,this.u.ea()):(this.u.x=p,this.u.y=r,this.u.ea())):(this.u.x=p,this.u.y=r,this.u.ea()),n||(this.Na=0)):!m&&!u&&Math.abs(this.Cb)<Math.abs(this.mj/4)&&(this.Cb=0,q||(t=!0)):(p=this.Py(),q&&!p?(c=Math.ceil(Math.abs(this.Na*a))+2,p=this.u.x,r=this.u.y,this.u.x+=this.od*c,this.u.y+=this.qd*c,this.u.ea(),this.j.Ze(this.u)||this.j.Ij(this.u)?
this.j.zg(this.u,-this.od,-this.qd,c+2,!0):(this.u.x=p,this.u.y=r,this.u.ea())):p&&0===this.Cb&&this.j.Gv(this.u,-this.od,-this.qd,p)));if(0!==this.Cb){p=this.u.x;r=this.u.y;this.u.x+=this.Cb*a*this.od;this.u.y+=this.Cb*a*this.qd;b=this.u.x;d=this.u.y;this.u.ea();c=this.j.Ze(this.u);n=!1;if(!c&&0<this.Cb&&!q){if((n=0<this.zl?null:this.j.Ij(this.u,!0))&&n.length){if(this.Yo){this.u.x=p;this.u.y=r;this.u.ea();k=m=0;for(l=n.length;m<l;m++)n[k]=n[m],this.j.uf(this.u,n[m])||k++;n.length=k;this.u.x=b;this.u.y=
d;this.u.ea()}1<=n.length&&(c=n[0])}n=!!c}c&&(this.j.pm(this.u,c),this.$k=0,b=n?Math.abs(this.Cb*a*2.5+10):Math.max(Math.abs(this.Cb*a*2.5+10),30),this.j.zg(this.u,this.od*(0>this.Cb?1:-1),this.qd*(0>this.Cb?1:-1),b,n,c)?(this.Oe=c,this.xk=c.x,this.yk=c.y,(this.oq=n)&&(t=!0),this.Cb=0):(this.u.x=p,this.u.y=r,this.u.ea(),this.Dm=!0,n||(this.Cb=0)))}3!==this.ig&&0<this.Cb&&!q&&(this.j.trigger(of.prototype.M.kC,this.u),this.ig=3);if(q||t)3===this.ig||t||u&&0===this.Cb?(this.j.trigger(of.prototype.M.pC,
this.u),this.ig=0===this.Na&&0===this.Cb?0:1):(0!==this.ig&&0===this.Na&&0===this.Cb&&(this.j.trigger(of.prototype.M.zC,this.u),this.ig=0),1===this.ig||0===this.Na&&0===this.Cb||u||(this.j.trigger(of.prototype.M.rC,this.u),this.ig=1));0<this.zl&&this.zl--;this.Yo=this.j.Ij(this.u)}};a.prototype.OB=function(){return 0!==this.Na||0!==this.Cb};a.prototype.lC=function(){return!0};a.prototype.kC=function(){return!0};a.prototype.zC=function(){return!0};a.prototype.rC=function(){return!0};a.prototype.pC=
function(){return!0};b.M=new a;c.prototype.OC=function(a){this.mj=a;0>this.mj&&(this.mj=0)};c.prototype.YC=function(a){switch(a){case 0:this.as=!0;break;case 1:this.bs=!0;break;case 2:this.Mo=!0}};c.prototype.Qj=function(a){this.enabled!==(1===a)&&(this.enabled=1===a,this.enabled||(this.Oe=null))};b.ja=new c;b.kc=new function(){}})();function pf(a){this.j=a}
(function(){function a(){}var c=pf.prototype;c.cb=function(a){this.behavior=a;this.j=a.j};c.cb.prototype.wa=function(){};c.Qa=function(a,b){this.type=a;this.behavior=a.behavior;this.u=b;this.j=a.j;this.Zc=0};var b=c.Qa.prototype,d=2*Math.PI,e=Math.PI/2,f=3*Math.PI/2;b.wa=function(){this.yc=1===this.aa[0];this.to=this.aa[1];this.zw=this.aa[2];this.xi=this.aa[3];this.xi+=Math.random()*this.aa[4];0===this.xi?this.Zc=0:(this.Zc=this.aa[5]/this.xi*d,this.Zc+=Math.random()*this.aa[6]/this.xi*d);this.xe=
this.aa[7];this.xe+=Math.random()*this.aa[8];this.Ve=this.qk=this.jb=0;this.init()};b.xd=function(){return{i:this.Zc,a:this.yc,mv:this.to,w:this.zw,p:this.xi,mag:this.xe,iv:this.jb,iv2:this.qk,r:this.Ve,lkv:this.Pe,lkv2:this.Qn}};b.Od=function(a){this.Zc=a.i;this.yc=a.a;this.to=a.mv;this.zw=a.w;this.xi=a.p;this.xe=a.mag;this.jb=a.iv;this.qk=a.iv2||0;this.Ve=a.r;this.Pe=a.lkv;this.Qn=a.lkv2||0};b.init=function(){switch(this.to){case 0:this.jb=this.u.x;break;case 1:this.jb=this.u.y;break;case 2:this.jb=
this.u.width;this.Ve=this.u.height/this.u.width;break;case 3:this.jb=this.u.width;break;case 4:this.jb=this.u.height;break;case 5:this.jb=this.u.L;this.xe=v(this.xe);break;case 6:this.jb=this.u.opacity;break;case 7:this.jb=0;break;case 8:this.jb=this.u.x,this.qk=this.u.y}this.Pe=this.jb;this.Qn=this.qk};b.Li=function(a){a%=d;switch(this.zw){case 0:return Math.sin(a);case 1:return a<=e?a/e:a<=f?1-2*(a-e)/Math.PI:(a-f)/e-1;case 2:return 2*a/d-1;case 3:return-2*a/d+1;case 4:return a<Math.PI?-1:1}return 0};
b.Ub=function(){var a=this.j.Fl(this.u);if(this.yc&&0!==a){0===this.xi?this.Zc=0:(this.Zc+=a/this.xi*d,this.Zc%=d);switch(this.to){case 0:this.u.x!==this.Pe&&(this.jb+=this.u.x-this.Pe);this.u.x=this.jb+this.Li(this.Zc)*this.xe;this.Pe=this.u.x;break;case 1:this.u.y!==this.Pe&&(this.jb+=this.u.y-this.Pe);this.u.y=this.jb+this.Li(this.Zc)*this.xe;this.Pe=this.u.y;break;case 2:this.u.width=this.jb+this.Li(this.Zc)*this.xe;this.u.height=this.u.width*this.Ve;break;case 3:this.u.width=this.jb+this.Li(this.Zc)*
this.xe;break;case 4:this.u.height=this.jb+this.Li(this.Zc)*this.xe;break;case 5:this.u.L!==this.Pe&&(this.jb=Ja(this.jb+(this.u.L-this.Pe)));this.u.L=Ja(this.jb+this.Li(this.Zc)*this.xe);this.Pe=this.u.L;break;case 6:this.u.opacity=this.jb+this.Li(this.Zc)*this.xe/100;0>this.u.opacity?this.u.opacity=0:1<this.u.opacity&&(this.u.opacity=1);break;case 8:this.u.x!==this.Pe&&(this.jb+=this.u.x-this.Pe),this.u.y!==this.Qn&&(this.qk+=this.u.y-this.Qn),this.u.x=this.jb+Math.cos(this.u.L)*this.Li(this.Zc)*
this.xe,this.u.y=this.qk+Math.sin(this.u.L)*this.Li(this.Zc)*this.xe,this.Pe=this.u.x,this.Qn=this.u.y}this.u.ea()}};b.Qz=function(a,b){switch(this.to){case 2:this.jb*=b.width/a.width;this.Ve=b.height/b.width;break;case 3:this.jb*=b.width/a.width;break;case 4:this.jb*=b.height/a.height}};a.prototype.Ri=function(){return this.yc};c.M=new a;c.ja=new function(){};c.kc=new function(){}})();function qf(a){this.j=a}
(function(){var a=qf.prototype;a.cb=function(a){this.behavior=a;this.j=a.j};a.cb.prototype.wa=function(){};a.Qa=function(a,b){this.type=a;this.behavior=a.behavior;this.u=b;this.j=a.j;this.mode=0};a=a.Qa.prototype;a.wa=function(){this.mode=this.aa[0]};a.Ub=function(){};a.Qo=function(){this.u.bb();var a=this.u.Pb,b=this.u.S.Bc,d=!1;0===this.mode?(0>this.u.x&&(this.u.x=0,d=!0),0>this.u.y&&(this.u.y=0,d=!0),this.u.x>b.width&&(this.u.x=b.width,d=!0),this.u.y>b.height&&(this.u.y=b.height,d=!0)):(0>a.left&&
(this.u.x-=a.left,d=!0),0>a.top&&(this.u.y-=a.top,d=!0),a.right>b.width&&(this.u.x-=a.right-b.width,d=!0),a.bottom>b.height&&(this.u.y-=a.bottom-b.height,d=!0));d&&this.u.ea()}})();function rf(a){this.j=a}
(function(){var a=rf.prototype;a.cb=function(a){this.behavior=a;this.j=a.j};a.cb.prototype.wa=function(){};a.Qa=function(a,b){this.type=a;this.behavior=a.behavior;this.u=b;this.j=a.j};a=a.Qa.prototype;a.wa=function(){};a.Ub=function(){this.u.bb();var a=this.u.Pb,b=this.u.S.Bc;(0>a.right||0>a.bottom||a.left>b.width||a.top>b.height)&&this.j.Ih(this.u)}})();function sf(a){this.j=a;this.Yv=this.$r=this.Lo=this.Xv=0}
(function(){function a(){}var c=sf.prototype;c.cb=function(a){this.behavior=a;this.j=a.j};c.cb.prototype.wa=function(){};c.Qa=function(a,b){this.type=a;this.behavior=a.behavior;this.u=b;this.j=a.j};var b=c.Qa.prototype;b.wa=function(){this.enabled=0!==this.aa[0]};b.xd=function(){return{smg:this.behavior.Xv,ss:this.behavior.Lo,se:this.behavior.$r,smd:this.behavior.Yv}};b.Od=function(a){this.behavior.Xv=a.smg;this.behavior.Lo=a.ss;this.behavior.$r=a.se;this.behavior.Yv=a.smd};b.Ub=function(){};b.Qo=
function(){if(this.enabled){var a=this.behavior.rr.Fg(),b=0,c=0,h,g,n,m=0;h=0;for(g=a.length;h<g;h++){a:{n=a[h];for(var l=void 0,k=void 0,p=void 0,l=0,k=n.Ma.length;l<k;++l)if(p=n.Ma[l],p.behavior instanceof sf){n=p;break a}n=null}n&&n.enabled&&(b+=a[h].x,c+=a[h].y,++m)}a=this.u.S.Bc;g=this.j.ve.Wa;n=h=0;g>=this.behavior.Lo&&g<this.behavior.$r&&(h=this.behavior.Xv*Math.min(this.j.Gi,1),0===this.behavior.Yv&&(h*=1-(g-this.behavior.Lo)/(this.behavior.$r-this.behavior.Lo)),g=Math.random()*Math.PI*2,
n=Math.random()*h,h=Math.cos(g)*n,n*=Math.sin(g));a.Vv(b/m+h);a.Wv(c/m+n)}};a.prototype.Qj=function(a){this.enabled=0!==a};c.ja=new a})();function pc(a){this.j=a}
(function(){function a(){}function c(){}var b=pc.prototype;b.cb=function(a){this.behavior=a;this.j=a.j};b.cb.prototype.wa=function(){};b.Qa=function(a,b){this.type=a;this.behavior=a.behavior;this.u=b;this.j=a.j};var d=b.Qa.prototype;d.wa=function(){this.u.ba.solidEnabled=0!==this.aa[0]};d.Ub=function(){};a.prototype.Ks=function(){return this.u.ba.solidEnabled};b.M=new a;c.prototype.Qj=function(a){this.u.ba.solidEnabled=!!a};b.ja=new c})();
function oc(){return[rc,sc,tc,uc,C,vc,wc,pc,xc,of,sf,qf,nf,mf,qc,pf,rf,w.prototype.M.MB,w.prototype.M.yB,C.prototype.ja.SC,tc.prototype.M.Yw,w.prototype.ja.IC,w.prototype.M.qB,tc.prototype.M.NB,C.prototype.ja.NC,C.prototype.ja.JC,w.prototype.M.Jw,C.prototype.M.VB,C.prototype.M.pB,of.prototype.ja.YC,C.prototype.ja.fD,w.prototype.ja.TC,of.prototype.ja.Qj,sf.prototype.ja.Qj,C.prototype.ja.QC,C.prototype.M.SB,mf.prototype.ja.$o,nf.prototype.M.TB,nf.prototype.ja.jD,of.prototype.ja.OC,nf.prototype.ja.BC,
C.prototype.ja.UC,pc.prototype.ja.Qj,w.prototype.ja.IB,of.prototype.M.OB,rc.prototype.M.UB,rc.prototype.ja.Play,rc.prototype.ja.dD,uc.prototype.M.Ss,w.prototype.ja.HB,w.prototype.M.$w,w.prototype.ja.PC,C.prototype.M.hC,xc.prototype.ja.cD,xc.prototype.ja.HC,C.prototype.ja.RC,xc.prototype.M.Xw,C.prototype.ja.LC,w.prototype.ja.lD,sc.prototype.ja.nB,uc.prototype.M.RB,C.prototype.M.KB,rc.prototype.M.rp,C.prototype.M.rB,C.prototype.ja.WC,C.prototype.kc.yx,w.prototype.kc.Ia,C.prototype.M.sB,C.prototype.ja.XC,
C.prototype.kc.zx,C.prototype.ja.Xd,xc.prototype.M.gx,rc.prototype.ja.CC,w.prototype.M.xB,w.prototype.kc.random,C.prototype.M.PB,C.prototype.M.Ww,w.prototype.M.Zw,w.prototype.M.AB,rc.prototype.ja.eD,C.prototype.M.QB,w.prototype.ja.GC]};
